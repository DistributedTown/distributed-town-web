(this["webpackJsonpdistributed-town-web"]=this["webpackJsonpdistributed-town-web"]||[]).push([[0],{221:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a=n(1),i=n.n(a),r=n(26),s=n(222),o={key:"bqbeg4w4u6ewltnejxwmvu6ngwu",secret:"bh24lv4dxie5dabwnl75y3onzphkvlqhyf56dlba"},c=function(){var t=Object(r.a)(i.a.mark((function t(n){var a,r,c,l,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.withKeyInfo(o);case 2:return a=t.sent,t.next=5,a.getOrCreate("SkillWallet");case 5:if(r=t.sent,c=r.root){t.next=9;break}throw new Error("bucket not created");case 9:return l=e.from(JSON.stringify(n,null,2)),"metadata.json",t.next=13,a.pushPath(c.key,"metadata.json",l);case 13:return u=t.sent,t.abrupt("return","https://hub.textile.io".concat(u.path.path));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}).call(this,n(29).Buffer)},248:function(e,t,n){},257:function(e,t,n){},258:function(e,t,n){var a={"./auth-image_11.entry.js":[386,4]};function i(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(a)},i.id=258,e.exports=i},264:function(e,t,n){},265:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){},271:function(e,t,n){},280:function(e,t){},283:function(e,t){},288:function(e,t){},296:function(e,t){},326:function(e,t){},328:function(e,t){},349:function(e,t){},351:function(e,t){},367:function(e,t,n){},368:function(e,t,n){},371:function(e,t,n){},372:function(e,t,n){"use strict";n.r(t);n(248);var a,i=n(225),r=n(426),s=n(432),o=n(50),c=n.n(o),l=n(36),u=n(45),d=n(66),p=n(211),m=n(1),y=n.n(m),b=n(26),j=n(16),x=n(34),h=n(0),f=(n(257),n(230)),g=n(226),v=n(212),O=n(35),w=n(25),k=n(71),T=n(214),C=n.n(T),S=n(215),M=n.n(S),A=n(48),I={isAutheticated:!1},N=Object(k.c)({name:"auth",initialState:I,reducers:{setAuthenticated:function(e,t){e.isAutheticated=t.payload},resetAuthState:function(){return I}},extraReducers:function(e){}}),W=N.actions,F=W.setAuthenticated,R=W.resetAuthState,P=N.reducer,E=n(27);!function(e){e.Idle="Idle",e.Loading="Loading",e.Failed="failed"}(a||(a={}));var L=n(129),D=function(){var e=Object(b.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e([{id:0,name:"Management"},{id:1,name:"Network Design"},{id:2,name:"Training & Sport"},{id:3,name:"Web Dev"},{id:4,name:"DeFi"},{id:5,name:"Tokenomics"},{id:6,name:"Painting"},{id:7,name:"Consesus"},{id:8,name:"Photography"},{id:9,name:"Community"},{id:10,name:"Governance"},{id:11,name:"Teaching"},{id:12,name:"Architecture"},{id:13,name:"Frontend Dev"},{id:14,name:"Gardening"},{id:15,name:"Mobile Dev"},{id:16,name:"Video-Making"},{id:17,name:"Legal"},{id:18,name:"Smart Contracts"},{id:19,name:"Game Theory"},{id:20,name:"Householding"},{id:21,name:"Backend"},{id:22,name:"Blockchain"}])}),2e3)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(b.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("https://api.distributed.town","/api/skill?skill=").concat(encodeURIComponent(t)),{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e.categories})).catch((function(){return[]})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(b.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("https://api.distributed.town","/api/community?category=").concat(encodeURIComponent(t)),{method:"GET"}).then((function(e){return e.json()})).catch((function(){return[]})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=Object(k.b)("category/entities",Object(b.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D());case 1:case"end":return e.stop()}}),e)})))),U=Object(k.b)("skills/entities",function(){var e=Object(b.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),J=Object(k.b)("community/entities",function(){var e=Object(b.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),H={category:{entities:[],selectedCategory:null,status:a.Idle},community:{entities:[],communitySelectedCategory:null,selectedCommunityName:null,status:a.Idle},skills:{skillSelectedCategory:null,entities:[],selectedSkills:[],status:a.Idle}},q=Object(k.c)({name:"joinCommunity",initialState:H,reducers:{selectCategory:function(e,t){e.category.selectedCategory=t.payload},selectCommunity:function(e,t){e.community.selectedCommunityName=t.payload},updateSkill:function(e,t){var n=t.payload.skill,a=e.skills.selectedSkills.findIndex((function(e){return e.skill===n}));e.skills.selectedSkills.splice(a,1,t.payload)},toggleSkill:function(e,t){var n=e.skills.selectedSkills.findIndex((function(e){return e.skill===t.payload}));-1===n?e.skills.selectedSkills=[].concat(Object(E.a)(e.skills.selectedSkills),[{skill:t.payload,xp:0}]):e.skills.selectedSkills.splice(n,1)},resetJoinCommunityState:function(){return H}},extraReducers:function(e){e.addCase(_.pending,(function(e){e.category.status=a.Loading})).addCase(_.fulfilled,(function(e,t){e.category.entities=t.payload,e.category.status=a.Idle})).addCase(U.pending,(function(e){e.skills.status=a.Loading})).addCase(U.fulfilled,(function(e,t){e.skills.entities=t.payload,e.skills.skillSelectedCategory=e.category.selectedCategory,e.skills.status=a.Idle})).addCase(J.pending,(function(e){e.community.status=a.Loading})).addCase(J.fulfilled,(function(e,t){e.community.entities=t.payload,e.community.communitySelectedCategory=e.category.selectedCategory,e.community.status=a.Idle}))}}),z=q.actions,Q=z.selectCategory,V=z.resetJoinCommunityState,K=z.toggleSkill,Y=z.updateSkill,X=z.selectCommunity,Z=Object(L.a)(X,(function(e){var t=e.payload.joinCommunity.community,n=t.entities,a=t.selectedCommunityName;return n.find((function(e){return e.name===a}))})),$=Object(L.a)(Y,K,(function(e){return e.payload.joinCommunity.skills.selectedSkills.reduce((function(e,t){return[].concat(Object(E.a)(e),[{name:t.skill,value:t.xp}])}),[])})),ee=Object(L.a)(Y,K,(function(e){var t=e.payload.joinCommunity.skills,n=t.selectedSkills,a=t.entities;return(n.reduce((function(e,t){var n=a.find((function(e){return e.skills.some((function(e){return e===t.skill}))}));return e+=((null===n||void 0===n?void 0:n.credits)||0)*t.xp}),0)+2e3).toString()})),te=q.reducer,ne={key:"appState",storage:M.a},ae=Object(A.b)({joinCommunity:te,auth:P}),ie=Object(d.g)(ne,ae),re=Object(k.a)({middleware:function(e){return e({serializableCheck:{ignoredActions:[d.a,d.f,d.b,d.c,d.d,d.e]}}).concat(C.a)},reducer:ie}),se=function(){return Object(l.b)()},oe=re,ce=(n(264),n(2));function le(){return Object(ce.jsx)(w.a,{width:"50",height:"50"})}var ue=function(e){var t=e.match.path;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(O.a,{from:"/community",to:"".concat(t,"/skillwallet")}),Object(ce.jsx)(O.b,Object(x.a)({component:le,path:"".concat(t,"/skillwallet")},e)),Object(ce.jsx)(O.b,Object(x.a)({component:le,path:"".concat(t,"/dTown-hall")},e)),Object(ce.jsx)(O.b,Object(x.a)({component:le,path:"".concat(t,"/notifications")},e)),Object(ce.jsx)(O.b,Object(x.a)({component:le,path:"".concat(t,"/settings")},e))]})},de=n(138),pe=n.n(de),me=n(96),ye=n.n(me),be=n(169),je=n(234),xe=n(383),he=n(229),fe=n(423),ge=n(437),ve=(n(265),function(e){var t=e.left,n=e.right,i=e.prevBtn,r=e.nextBtn,s=e.status,o=e.className,c=Object(fe.a)((function(e){return e.breakpoints.up("lg")}));return Object(ce.jsxs)("div",{className:"sw-join-base-container ".concat(o),children:[Object(ce.jsx)(be.a,{sx:{p:0,m:0,gridGap:"60px"},className:"sw-box",children:t}),Object(ce.jsx)(w.f,{orientation:c?"vertical":"horizontal"}),Object(ce.jsxs)(be.a,{sx:{p:0,m:0,gridGap:"20px"},className:"sw-box",children:[Object(ce.jsx)(be.a,{sx:{width:c?"90% !important":"100%"},className:"sw-box-right-inner",children:s===a.Loading?Object(ce.jsx)(ge.a,{sx:{color:"background.paper"}}):c?Object(ce.jsx)(w.i,{children:n}):n}),Object(ce.jsxs)(be.a,{sx:{width:c?"calc(90% - 12px) !important":"100%",boxShadow:c?0:2},className:"sw-box-actions",children:[Object(ce.jsx)("div",{className:"prev-step",children:i}),Object(ce.jsx)("div",{className:"next-step",children:r})]})]})]})}),Oe=(n(266),function(){var e=Object(fe.a)((function(e){return e.breakpoints.up("lg")})),t=Object(fe.a)((function(e){return e.breakpoints.down("md")})),n=Object(l.b)(),i=Object(l.c)((function(e){return e.joinCommunity.category})),r=i.entities,s=i.status,o=i.selectedCategory;return Object(h.useEffect)((function(){r.length||n(_())}),[n,r]),Object(ce.jsx)(ve,{status:s,className:"sw-categories-container",left:Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(be.a,{className:"sw-box-logo",children:Object(ce.jsx)(w.a,{width:e?"280px":"200px"})}),Object(ce.jsx)(w.h,{mobile:t,mobileStartText:Object(ce.jsx)("p",{children:"Have you ever thought..."}),children:Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)("p",{children:["Have you ever thought, ",Object(ce.jsx)("br",{}),'"I would like to contribute, but ..."']}),Object(ce.jsx)("p",{className:"mt-4 mb-4",children:"Distributed Town (DiTo) lets you create or join a community with one click."}),Object(ce.jsx)("p",{children:"Just select what you are best at - and we will match with the best communities that need you the most."})]})})]}),right:Object(ce.jsxs)("div",{className:"sw-category-wrapper",children:[Object(ce.jsx)(je.a,{sx:{color:"background.paper",textAlign:"center",pb:2},component:"div",variant:"h6",children:"Pick a category"}),Object(ce.jsx)(xe.a,{sx:{display:"grid",width:"100%",gridGap:"15px",padding:0,gridTemplateColumns:"repeat(auto-fit, minmax(175px, 1fr))",gridAutoRows:"minmax(60px, auto)"},children:r.map((function(e){var t=e.id,a=e.name;return Object(ce.jsx)(he.a,{sx:{height:"45px"},disablePadding:!0,children:Object(ce.jsx)(w.e,{sx:{height:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},onClick:function(){return n(Q("Backend"))},className:o===a?"active-link":"",startIcon:Object(ce.jsx)(pe.a,{}),label:a})},t)}))})]}),prevBtn:null,nextBtn:Object(ce.jsx)(w.e,{disabled:null===o||s===a.Loading,endIcon:Object(ce.jsx)(ye.a,{}),component:u.b,to:"/join-community/skills",label:t?"Next":"Next: Pick your skills"})})}),we=n(140),ke=n.n(we),Te=(n(267),n(438)),Ce=n(439),Se=n(429),Me=n(440),Ae=n(441),Ie=n(431),Ne=n(167),We=n(424),Fe=n(430);n(268);var Re=function(e){var t=e.category,n=e.skills,a=e.credits,i=e.selectedSkills,r=e.toggleSkill,s=e.updateSkill;return Object(ce.jsx)(Te.a,{className:"sw-skill-card",sx:{display:"flex"},children:Object(ce.jsxs)(be.a,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(ce.jsx)(Ce.a,{sx:{flex:"1 0 auto"},children:Object(ce.jsxs)(je.a,{component:"div",variant:"h6",children:[t," ",Object(ce.jsxs)("small",{children:["(",a," Credits)"]})]})}),Object(ce.jsx)(be.a,{sx:{display:"flex",alignItems:"center",pl:"16px",pr:"16px"},children:Object(ce.jsx)(xe.a,{className:"sw-skill-list",children:n.map((function(e,t){var n=i.find((function(t){return t.skill===e}));return Object(ce.jsx)(he.a,{sx:{minHeight:"45px",alignItems:"flex-start"},disablePadding:!0,children:Object(ce.jsxs)(Se.a,{disableGutters:!0,elevation:0,square:!0,sx:{p:0,m:0,width:"100%"},expanded:!!n,children:[Object(ce.jsx)(Me.a,{children:Object(ce.jsx)(w.e,{label:e,sx:{height:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},disabled:3===i.length&&!n,className:n?"active-link":"",onClick:function(){return r(e)}})}),Object(ce.jsxs)(Ae.a,{sx:{padding:"16px"},children:[Object(ce.jsx)(je.a,{color:"primary.main",component:"div",variant:"subtitle1",align:"center",children:Object(ce.jsx)(Ie.a,{sx:{padding:"0 8px"},badgeContent:Object(ce.jsx)(Ne.a,{title:"Tell your community about the Experience you have.",arrow:!0,children:Object(ce.jsx)(pe.a,{sx:{fontSize:"1.2rem",position:"absolute"}})}),children:"Your XP Level"})}),Object(ce.jsxs)(We.a,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center",children:[Object(ce.jsx)(je.a,{color:"primary.main",component:"div",variant:"subtitle2",children:"1"}),Object(ce.jsx)(Fe.a,{valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:10,defaultValue:null===n||void 0===n?void 0:n.xp,onChangeCommitted:function(t,n){s({xp:n,skill:e})},sx:{"& .MuiSlider-thumb":{borderRadius:"0px"}}},"slider-".concat(null===n||void 0===n?void 0:n.xp)),Object(ce.jsx)(je.a,{color:"primary.main",component:"div",variant:"subtitle2",children:"10"})]})]})]})},t)}))})})]})})},Pe=function(){var e=Object(l.b)(),t=Object(fe.a)((function(e){return e.breakpoints.up("lg")})),n=Object(fe.a)((function(e){return e.breakpoints.down("md")})),i=Object(l.c)((function(e){return e.joinCommunity.skills})),r=i.entities,s=i.status,o=i.selectedSkills,c=i.skillSelectedCategory,d=Object(l.c)((function(e){return e.joinCommunity.category})).selectedCategory;return Object(h.useEffect)((function(){d&&d!==c&&e(U(d))}),[e,c,d]),Object(ce.jsx)(ve,{status:s,className:"sw-skill-container",left:Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(be.a,{className:"sw-box-logo",children:Object(ce.jsx)(w.a,{width:t?"280px":"200px"})}),Object(ce.jsx)(w.h,{mobile:n,mobileStartText:Object(ce.jsx)("p",{children:"Have you ever thought..."}),children:Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)("p",{children:["Have you ever thought, ",Object(ce.jsx)("br",{}),'"I would like to contribute, but ..."']}),Object(ce.jsx)("p",{className:"mt-4 mb-4",children:"Distributed Town (DiTo) lets you create or join a community with one click."}),Object(ce.jsx)("p",{children:"Just select what you are best at - and we will match with the best communities that need you the most."})]})})]}),right:Object(ce.jsxs)("div",{className:"sw-skill-wrapper",children:[Object(ce.jsx)(je.a,{sx:{color:"background.paper",textAlign:"center",pb:2},component:"div",variant:"h6",children:"Pick your skills (1-to-3) that you want to offer, & recieve the Credits you deserve!"}),c?r.map((function(t){var n=t.credits,a=t.skills,i=t.subCat;return Object(ce.jsx)(Re,{selectedSkills:o,category:i,credits:n,skills:a,updateSkill:function(t){return e(Y(t))},toggleSkill:function(t){return e(K(t))}},i)})):Object(ce.jsx)(je.a,{className:"no-item-selected",sx:{color:"background.paper",textAlign:"center",pb:2},component:"div",variant:"h6",children:"No category was selected, go back to select one!"})]}),prevBtn:Object(ce.jsx)(w.e,{startIcon:Object(ce.jsx)(ke.a,{}),component:u.b,to:"/join-community/categories",label:"Prev"}),nextBtn:Object(ce.jsx)(w.e,{disabled:0===o.length||s===a.Loading,endIcon:Object(ce.jsx)(ye.a,{}),component:u.b,to:"/join-community/communities",label:n?"Next":"Next: Join your community"})})},Ee=(n(271),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(t){return setTimeout(t,e)}))}),Le=function(){var e=Object(b.a)(y.a.mark((function e(t,n){var a,i,r,s=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>2&&void 0!==s[2]?s[2]:2e3,i=s.length>3&&void 0!==s[3]?s[3]:10,e.next=4,t();case 4:r=e.sent;case 5:if(!(n(r)&&i>0)){e.next=14;break}return e.next=8,Ee(a);case 8:return e.next=10,t();case 10:r=e.sent,i=-i,e.next=5;break;case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),De=n(114),Be=n(216),Ge=[{inputs:[{internalType:"address",name:"_linkToken",type:"address"},{internalType:"address",name:"_oracle",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"id",type:"bytes32"}],name:"ChainlinkCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"id",type:"bytes32"}],name:"ChainlinkFulfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"id",type:"bytes32"}],name:"ChainlinkRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"skillWalletId",type:"uint256"}],name:"PubKeyAddedToSkillWallet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"skillWalletId",type:"uint256"}],name:"SkillWalletActivated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"SkillWalletClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"skillWalletId",type:"uint256"},{indexed:!1,internalType:"address",name:"newCommunity",type:"address"}],name:"SkillWalletCommunityChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"skillWalletOwner",type:"address"},{indexed:!0,internalType:"address",name:"community",type:"address"},{indexed:!0,internalType:"uint256",name:"skillWalletId",type:"uint256"}],name:"SkillWalletCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"uint256",name:"action",type:"uint256"}],name:"ValidationFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"uint256",name:"action",type:"uint256"}],name:"ValidationPassed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!1,internalType:"address",name:"caller",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ValidationRequestIdSent",type:"event"},{inputs:[{internalType:"uint256",name:"skillWalletId",type:"uint256"}],name:"activateSkillWallet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"skillWalletId",type:"uint256"},{internalType:"string",name:"pubKey",type:"string"}],name:"addPubKeyToSkillWallet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"skillWalletOwner",type:"address"},{internalType:"string",name:"url",type:"string"},{internalType:"bool",name:"isClaimable",type:"bool"}],name:"create",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"skillWalletId",type:"uint256"}],name:"getActiveCommunity",outputs:[{internalType:"address",name:"community",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"skillWalletOwner",type:"address"}],name:"getClaimableSkillWalletId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"skillWalletId",type:"uint256"}],name:"getCommunityHistory",outputs:[{internalType:"address[]",name:"communities",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"skillWalletOwner",type:"address"}],name:"getSkillWalletIdByOwner",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalSkillWalletsRegistered",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"requestId",type:"bytes32"}],name:"isRequestIdValid",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"skillWalletId",type:"uint256"}],name:"isSkillWalletActivated",outputs:[{internalType:"bool",name:"status",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"skillWalletOwner",type:"address"}],name:"isSkillWalletClaimable",outputs:[{internalType:"bool",name:"status",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"skillWalletOwner",type:"address"}],name:"isSkillWalletRegistered",outputs:[{internalType:"bool",name:"status",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"skillWalletClaimers",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"skillWalletToPubKey",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"signature",type:"string"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"action",type:"uint256"},{internalType:"string[]",name:"stringParams",type:"string[]"},{internalType:"uint256[]",name:"intParams",type:"uint256[]"},{internalType:"address[]",name:"addressParams",type:"address[]"}],name:"validate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"},{internalType:"bool",name:"_isValid",type:"bool"}],name:"validationCallback",outputs:[],stateMutability:"nonpayable",type:"function"}],_e=[{inputs:[{internalType:"string",name:"_url",type:"string"},{internalType:"address",name:"_addrProvider",type:"address"},{internalType:"uint256",name:"_totalMembersAllowed",type:"uint256"},{internalType:"bool",name:"_claimableSkillWallets",type:"bool"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_member",type:"address"},{indexed:!1,internalType:"uint256",name:"_skillWalletTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_transferredTokens",type:"uint256"}],name:"MemberAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_member",type:"address"}],name:"MemberLeft",type:"event"},{inputs:[],name:"activeMembersCount",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"projectId",type:"uint256"}],name:"addProjectId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"member",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ditoCreditsAddr",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"ditoCreditsHolder",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMemberAddresses",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMembers",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"projectId",type:"uint256"}],name:"getProjectTreasuryAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProjects",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSkillWalletAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getTemplate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTreasuryBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"gigsAddr",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isMember",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"skillWalletTokenId",type:"uint256"},{internalType:"uint256",name:"credits",type:"uint256"}],name:"join",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"credits",type:"uint256"}],name:"joinNewMember",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"memberAddress",type:"address"}],name:"leave",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"memberAddresses",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"metadataUri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"scarcityScore",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"skillWalletIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferCredits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferToCommunity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"treasuryAddr",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}];function Ue(e){this.value=e,this.message="No event found!",this.toString=function(){return this.value+this.message}}var Je,He,qe=function(){var e=Object(b.a)(y.a.mark((function e(){var t,n=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"0x1e79bE396CE37F7eB43aF0Ef0ffb3124F3fD23eF",e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=Object(b.a)(y.a.mark((function e(t){var n,a,i,r,s,o,c,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new De.a.providers.Web3Provider(window.ethereum),a=n.getSigner(),e.next=4,qe(t);case 4:return i=e.sent,r=new De.a.Contract(i,Ge,a),e.next=8,r.claim();case 8:return s=e.sent,e.next=11,s.wait();case 11:if(o=e.sent,c=o.events,l=c.find((function(e){return"SkillWalletClaimed"===e.event}))){e.next=16;break}throw new Ue({code:-32603,message:"Internal JSON-RPC error.",data:{code:3,data:"",message:"SkillWallet:ClaimEventMissing"}});case 16:return e.abrupt("return",l.args);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(b.a)(y.a.mark((function e(t){var n,a,i,r,s,o,c,l,u,d,p,m,b,x;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.communityAddress,a=t.url,i=t.credits,r=new De.a.providers.Web3Provider(window.ethereum),s=r.getSigner(),o=new De.a.Contract(n,_e,s),e.next=6,o.joinNewMember(a,Object(Be.toWei)(i.toString()));case 6:return c=e.sent,e.next=9,c.wait();case 9:if(l=e.sent,u=l.events,d=u.find((function(e){return"MemberAdded"===e.event}))){e.next=14;break}throw new Ue({code:-32603,message:"Internal JSON-RPC error.",data:{code:3,data:"",message:"SkillWallet:MemberEventMissing"}});case 14:return p=Object(j.a)(d.args,3),m=p[0],b=p[1],x=p[2],e.abrupt("return",{userAddress:m,tokenId:b,credits:x});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(b.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("https://api.skillwallet.id","/api/skillWallet/hasPendingAuth?address=").concat(t),{method:"GET"}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(b.a)(y.a.mark((function e(t,n){var a,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://api.skillwallet.id","/api/skillWallet/").concat(n,"/nonces?action=").concat(t),{method:"POST"});case 3:return a=e.sent,e.next=6,a.json();case 6:return i=e.sent,e.abrupt("return",i.nonce);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}();!function(e){e.NoFreeSpots="NoFreeSpots",e.AlreadyMember="AlreadyMember",e.SkillWalletNotActivated="SkillWalletNotActivated",e.SkillWalletNotClaimed="SkillWalletNotClaimed",e.Retry="Retry"}(Je||(Je={})),function(e){e.AlreadyClaimed="AlreadyClaimed",e.SkillWalletNotCreated="SkillWalletNotCreated",e.Retry="Retry"}(He||(He={}));n(367);var Ye=n(442),Xe=n(443),Ze=n(434),$e=n(83);n(368);var et,tt=function(e){var t=e.community,n=e.selectedCommunityName,a=e.onSelect,i=e.inactive,r=Object(fe.a)((function(e){return e.breakpoints.down("sm")}));return Object(ce.jsx)(Te.a,{onClick:function(){return!i&&a(t.name)},className:"sw-community-card ".concat(n===t.name?"active":""," ").concat(i?"inactive":""),children:Object(ce.jsx)(Ye.a,{disabled:i,children:Object(ce.jsxs)(Ce.a,{sx:{display:"flex"},children:[Object(ce.jsxs)(be.a,{sx:{flex:"1"},children:[Object(ce.jsx)(Xe.a,{sx:{boxShadow:1,bgcolor:i?"secondary.main":"white",py:"8px"},avatar:Object(ce.jsx)(Ze.a,{sx:{bgcolor:$e.a[500]},"aria-label":"recipe",children:"R"}),title:Object(ce.jsx)(je.a,{variant:r?"h6":"h5",color:"primary.main",children:t.name}),subheader:Object(ce.jsxs)("div",{className:"car-subtitle",children:[Object(ce.jsx)(je.a,{variant:"body1",color:"text.secondary",children:"Members: ".concat(t.members)}),Object(ce.jsx)(je.a,{sx:{px:1},variant:"body1",color:"text.secondary",children:"|"}),Object(ce.jsx)(je.a,{variant:"body1",color:"text.secondary",children:"Scarcity score: ".concat(t.scarcityScore)})]})}),Object(ce.jsx)(je.a,{className:"card-description",sx:{pb:2,pt:2},variant:"body2",children:t.description})]}),Object(ce.jsxs)(be.a,{className:"can-accept-in",sx:{width:"170px"},children:[Object(ce.jsx)(je.a,{sx:{pb:2,pt:2},variant:"body2",children:"Accepting new diTizens?"}),Object(ce.jsx)("div",{className:"toggle-circle ".concat(i?"not-accepting":"accepting"),children:i?"No":"Yes"})]})]})})})};!function(e){e[e.Activate=0]="Activate",e[e.Login=1]="Login",e[e.CreateGig=2]="CreateGig",e[e.TakeGig=3]="TakeGig",e[e.SubmitGig=4]="SubmitGig",e[e.CompleteGig=5]="CompleteGig"}(et||(et={}));var nt=function(e){if(!e)return e;if("string"!==typeof e)throw new Error("SW error message is not a string!");var t=e.split("execution reverted:"),n=Object(j.a)(t,2)[1],a=(n||"").split("SkillWallet:");return(Object(j.a)(a,2)[1]||n||"Unknown error").trim()},at=n(220),it=n(221),rt=function(){var e=Object(b.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum.selectedAddress){e.next=10;break}return e.prev=1,e.next=4,window.ethereum.enable();case 4:case 10:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),st=function(){var e=Object(b.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x13881"}]});case 3:case 11:e.next=16;break;case 5:if(e.prev=5,e.t0=e.catch(0),4902!==e.t0.code){e.next=16;break}return e.prev=8,e.next=11,window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x13881",chainName:"Mumbai",nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.matic.today"],blockExplorerUrls:["https://mumbai.polygonscan.com/"]}]});case 13:return e.prev=13,e.t1=e.catch(8),e.abrupt("return",!1);case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e,null,[[0,5],[8,13]])})));return function(){return e.apply(this,arguments)}}(),ot=function(e){var t=e.message,n=e.subtitle,a=void 0===n?null:n,i=e.onCancel;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)("div",{className:"sw-join-dialog-content",children:[Object(ce.jsx)(ge.a,{sx:{color:"text.primary"}}),Object(ce.jsx)(je.a,{sx:{textAlign:"center",mt:2},component:"div",variant:"h6",children:t}),Object(ce.jsx)(je.a,{sx:{color:"secondary.main",textAlign:"center",mt:2},component:"div",variant:"body2",children:a})]}),Object(ce.jsx)(w.e,{color:"error",onClick:i,sx:{mt:4},label:"Cancel"})]})},ct=function(e){var t=e.message,n=e.subtitle,a=void 0===n?null:n,i=e.onCancel;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)("div",{className:"sw-join-dialog-content",children:[Object(ce.jsx)(je.a,{sx:{textAlign:"center",mt:2},component:"div",variant:"h6",children:t}),Object(ce.jsx)(je.a,{sx:{color:"secondary.main",textAlign:"center",mt:2},component:"div",variant:"body2",children:a})]}),Object(ce.jsx)(w.e,{color:"error",onClick:i,sx:{mt:4},label:"Cancel"})]})},lt=function(e){var t=e.message,n=e.subtitle,a=e.actionLabel,i=e.handleAdditionalAction,r=e.onCancel;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)("div",{className:"sw-join-dialog-content",children:[Object(ce.jsx)(je.a,{sx:{textAlign:"center",mt:2},component:"div",variant:"h6",children:t}),Object(ce.jsx)(je.a,{sx:{color:"secondary.main",textAlign:"center",mt:2},component:"div",variant:"body2",children:n}),Object(ce.jsx)(w.e,{color:"primary",onClick:i,sx:{mt:4,width:"200px",height:"45px"},label:a})]}),Object(ce.jsx)(w.e,{color:"error",onClick:r,sx:{mt:4},label:"Cancel"})]})},ut=function(e,t,n){var a=function(){var a=Object(b.a)(y.a.mark((function a(){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e(Object(ce.jsx)(ot,{message:"Ensuring ethereum connection ...",onCancel:t})),a.next=3,rt();case 3:return(i=a.sent)||e(Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(lt,{actionLabel:"Retry",subtitle:"If this problem repeats plase make sure your metamask is connected",message:"We could not enable the ethereum network",handleAdditionalAction:function(){return n(Je.Retry)},onCancel:t})})),a.abrupt("return",i);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),i=function(){var n=Object(b.a)(y.a.mark((function n(a){var i;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a){n.next=2;break}return n.abrupt("return",!1);case 2:return e(Object(ce.jsx)(ot,{message:"Ensuring correct network ...",onCancel:t})),n.next=5,st();case 5:return(i=n.sent)||e(Object(ce.jsx)(ct,{message:"We could not set the correct network, please set it manually and try again",onCancel:t})),n.abrupt("return",i);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),r=function(){var a=Object(b.a)(y.a.mark((function a(i,r){return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i){a.next=2;break}return a.abrupt("return",null);case 2:return e(Object(ce.jsx)(ot,{message:"Generating textile bucket url ...",onCancel:t})),a.prev=3,a.next=6,Object(it.a)(r);case 6:return a.abrupt("return",a.sent);case 9:a.prev=9,a.t0=a.catch(3),e(Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(lt,{actionLabel:"Retry",subtitle:null,message:"Unknown Error",handleAdditionalAction:function(){return n(Je.Retry)},onCancel:t})}));case 12:return a.abrupt("return",null);case 13:case"end":return a.stop()}}),a,null,[[3,9]])})));return function(e,t){return a.apply(this,arguments)}}(),s=function(){var a=Object(b.a)(y.a.mark((function a(i,r,s){var o;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i){a.next=2;break}return a.abrupt("return",null);case 2:return a.prev=2,e(Object(ce.jsx)(ot,{subtitle:"This might take awhile, please be patient",message:"Executing join membership smart contract ...",onCancel:t})),a.next=6,Qe({url:i,credits:s,communityAddress:r});case 6:return a.abrupt("return",a.sent);case 9:return a.prev=9,a.t0=a.catch(2),o=nt(a.t0.data.message),String(o)===String("Already a member")?e(Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(lt,{actionLabel:"Connect",subtitle:"Connect to SkillWallet account to see your community",message:o,handleAdditionalAction:function(){return n(Je.AlreadyMember)},onCancel:t})})):String(o)===String("There is SkillWallet already registered for this address")?e(Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(lt,{actionLabel:"Generate QR code",subtitle:"If you have not activated you skillwallet account then you can do so by clicking generate QR Code",message:o,handleAdditionalAction:function(){return n(Je.SkillWalletNotActivated)},onCancel:t})})):String(o)===String("There is SkillWallet to be claimed by this address")?e(Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(lt,{actionLabel:"Claim",subtitle:"You are already a member of this community, but you have not claimed it yet!",message:o,handleAdditionalAction:function(){return n(Je.SkillWalletNotClaimed)},onCancel:t})})):String(o)===String("No free spots left")?e(Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ct,{subtitle:"Select another community and try again!",message:o,onCancel:t})})):e(Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(lt,{actionLabel:"Retry",subtitle:"retry again",message:o,handleAdditionalAction:function(){return n(Je.Retry)},onCancel:t})})),a.abrupt("return",null);case 14:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e,t,n){return a.apply(this,arguments)}}(),o=function(){var a=Object(b.a)(y.a.mark((function a(i,r){var s;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i&&r){a.next=2;break}return a.abrupt("return",null);case 2:return e(Object(ce.jsx)(ot,{subtitle:"This might take awhile, please be patient",message:"Executing claim membership smart contract ...",onCancel:t})),a.prev=3,a.next=6,ze(i);case 6:return a.abrupt("return",a.sent);case 9:return a.prev=9,a.t0=a.catch(3),s=nt(a.t0.data.message.payload),String(s)===String("There is SkillWallet already registered for this address")?e(Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(lt,{actionLabel:"Connect",subtitle:"Connect to SkillWallet account to see your community",message:s,handleAdditionalAction:function(){return n(Je.AlreadyMember)},onCancel:t})})):e(Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(lt,{actionLabel:"Retry",subtitle:null,message:s,handleAdditionalAction:function(){return n(Je.Retry)},onCancel:t})})),a.abrupt("return",null);case 14:case"end":return a.stop()}}),a,null,[[3,9]])})));return function(e,t){return a.apply(this,arguments)}}(),c=function(){var n=Object(b.a)(y.a.mark((function n(a){var i;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a){n.next=2;break}return n.abrupt("return",null);case 2:return e(Object(ce.jsx)(ot,{subtitle:"This might take awhile, please be patient",message:"Generating QR code ...",onCancel:t})),n.next=5,Ke(et.Activate,a);case 5:return i=n.sent,e(i?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(be.a,{sx:{display:"flex",mt:2,p:2,bgcolor:"white"},children:Object(ce.jsx)(at.QRCode,{value:JSON.stringify({tokenId:a,nonce:i}),logoWidth:140,logoHeight:140,bgColor:"white",size:205})}),Object(ce.jsx)(be.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",px:2,bgcolor:"white",width:"230px",height:"60px",marginTop:"14px"},children:Object(ce.jsxs)(je.a,{sx:{color:"black",textAlign:"center"},component:"div",variant:"body1",children:["Scan with your ",Object(ce.jsx)("b",{children:"SkillWallet App"})," ",Object(ce.jsx)("br",{}),"to claim your Membership"]})}),Object(ce.jsx)(w.e,{color:"error",onClick:t,sx:{mt:4},label:"Cancel"})]}):Object(ce.jsx)(ct,{message:"QR code was not generated successfully!",onCancel:t})),n.abrupt("return",i);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return{onEthConnection:a,onEthNetworkChange:i,onTextileBucket:r,onJoinMembership:s,onClaimMembership:o,onQRCodeGenerate:c}},dt=n(435),pt=n(444),mt=function(e){var t=e.open,n=e.handleClose,a=e.dialogContent,i=e.fullScreen,r=void 0!==i&&i,s=r?{}:{minWidth:"400px",minHeight:"400px"};return Object(ce.jsx)(dt.a,{open:t,onClose:n,fullScreen:r,children:Object(ce.jsx)(pt.a,{sx:Object(x.a)(Object(x.a)({},s),{},{bgcolor:"primary.main",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}),children:a})})},yt="2456546",bt=function(){var e=se(),t=Object(fe.a)((function(e){return e.breakpoints.up("lg")})),n=Object(fe.a)((function(e){return e.breakpoints.down("md")})),i=Object(fe.a)((function(e){return e.breakpoints.down("sm")})),r=Object(l.c)((function(e){return e.joinCommunity.category})).selectedCategory,s=Object(l.c)((function(e){return e.joinCommunity.skills})).selectedSkills,o=Object(l.c)((function(e){return e.joinCommunity.community})),c=o.entities,d=o.status,p=o.selectedCommunityName,m=o.communitySelectedCategory,x=Object(l.c)(Z),f=Object(l.c)($),g=Object(l.c)(ee),v=Object(h.useState)(!1),O=Object(j.a)(v,2),k=O[0],T=O[1],C=Object(h.useState)(null),S=Object(j.a)(C,2),M=S[0],A=S[1],I=Object(h.useState)(null),N=Object(j.a)(I,2),W=N[0],F=N[1],R=Object(h.useState)(null),P=Object(j.a)(R,2),E=P[0],L=P[1],D=function(){var e=Object(b.a)(y.a.mark((function e(){var t,n,a,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E&&W){e.next=2;break}return e.abrupt("return");case 2:return t=function(){return Ve(window.ethereum.selectedAddress)},n=function(e){return!e.hasPendingAuth&&!!k},e.next=6,Le(t,n);case 6:a=e.sent,i=a.hasPendingAuth,console.log("hasPendingAuth: ",i);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){T(!1),L(null),F(null),A(null)},G=function(){var e=Object(b.a)(y.a.mark((function e(){var t,n,a,i,r,s,o,c,l,u,d,p,m;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Tao",t={name:"".concat("Tao","'s SkillWallet"),description:"Universal, self-sovereign IDs tied to skills & contributions rather than personal data.",image:null,properties:{username:"Tao",skills:f}},T(!0),n=ut(A,(function(){return B()}),function(){var e=Object(b.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Je.AlreadyMember!==t){e.next=4;break}B(),e.next=26;break;case 4:if(Je.SkillWalletNotActivated!==t){e.next=13;break}return e.next=7,c(yt);case 7:return n=e.sent,L(n),e.next=11,D();case 11:e.next=26;break;case 13:if(Je.SkillWalletNotClaimed!==t){e.next=25;break}return!0,e.next=17,o(x.address,true);case 17:return e.next=19,c(yt);case 19:return a=e.sent,L(a),e.next=23,D();case 23:e.next=26;break;case 25:Je.Retry!==t&&He.Retry!==t||(L(null),F(null),A(null),G());case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a=n.onEthConnection,i=n.onEthNetworkChange,r=n.onTextileBucket,s=n.onJoinMembership,o=n.onClaimMembership,c=n.onQRCodeGenerate,console.log(g,"credits"),e.next=7,a();case 7:return l=e.sent,console.log("isConnected: ",l),e.next=11,i(l);case 11:return u=e.sent,console.log("isCorrectNetwork: ",l),e.next=15,r(u,t);case 15:return d=e.sent,console.log("bucketUrl: ",d),e.next=19,s(d,x.address,g);case 19:return p=e.sent,console.log("member: ",p),e.next=23,o(x.address,!!p);case 23:return F(null===p||void 0===p?void 0:p.tokenId),e.next=26,c(W);case 26:return m=e.sent,L(m),e.next=30,D();case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.useEffect)((function(){s.length&&r&&r!==m&&e(J(r))}),[e,m,r,s]),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(mt,{fullScreen:i,open:k,onClose:function(){return T(!1)},dialogContent:M}),Object(ce.jsx)(ve,{status:d,className:"sw-communities-container",left:Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(be.a,{className:"sw-box-logo",children:Object(ce.jsx)(w.a,{width:t?"280px":"200px"})}),Object(ce.jsx)(w.h,{mobile:n,mobileStartText:Object(ce.jsx)("p",{children:"Have you ever thought..."}),children:Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)("p",{children:["Have you ever thought, ",Object(ce.jsx)("br",{}),'"I would like to contribute, but ..."']}),Object(ce.jsx)("p",{className:"mt-4 mb-4",children:"Distributed Town (DiTo) lets you create or join a community with one click."}),Object(ce.jsx)("p",{children:"Just select what you are best at - and we will match with the best communities that need you the most."})]})})]}),right:Object(ce.jsxs)("div",{className:"sw-communties-wrapper",children:[Object(ce.jsx)(je.a,{sx:{color:"background.paper",textAlign:"center",pb:2},component:"div",variant:"h6",children:"Here is a few comminities for you (Based on your Skills). Choose one that inspires you the most & start adding Value to it"}),r&&s.length?c.map((function(t,n){return Object(ce.jsx)(tt,{inactive:1===n,onSelect:function(t){return e(X(t))},selectedCommunityName:p,community:t},"community-".concat(n))})):Object(ce.jsx)(je.a,{className:"no-item-selected",sx:{color:"background.paper",textAlign:"center",pb:2},component:"div",variant:"h6",children:"No skills were selected, go back and select some skills before selecting a community"})]}),prevBtn:Object(ce.jsx)(w.e,{startIcon:Object(ce.jsx)(ke.a,{}),component:u.b,to:"/join-community/skills",label:"Prev"}),nextBtn:Object(ce.jsx)(w.e,{disabled:null===p||d===a.Loading,endIcon:Object(ce.jsx)(ye.a,{}),onClick:function(){return G()},to:"/join-community/Community",label:n?"Next":"Next: Claim your membership"})})]})},jt=function(e){var t=Object(l.b)();return Object(h.useEffect)((function(){return function(){t(V())}}),[t]),Object(ce.jsxs)("div",{className:"sw-join-community-container",children:[Object(ce.jsx)(O.b,Object(x.a)({path:"/join-community/categories",component:Oe},e)),Object(ce.jsx)(O.b,Object(x.a)({path:"/join-community/skills",component:Pe},e)),Object(ce.jsx)(O.b,Object(x.a)({path:"/join-community/communities",component:bt},e))]})},xt=n(224),ht=n.n(xt),ft=(n(371),function(){var e=Object(fe.a)((function(e){return e.breakpoints.up("lg")})),t=Object(fe.a)((function(e){return e.breakpoints.down("md")}));return Object(ce.jsxs)("div",{className:"sw-get-started-container",children:[Object(ce.jsxs)(be.a,{sx:{p:0,m:0},className:"sw-box",children:[Object(ce.jsx)(be.a,{className:"sw-box-logo",children:Object(ce.jsx)(w.a,{width:e?"280px":"200px"})}),Object(ce.jsx)(w.h,{mobile:t,mobileStartText:Object(ce.jsx)("p",{children:"is a new financial..."}),children:Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)("p",{children:[Object(ce.jsx)("strong",{children:"Distributed Town"})," is a new financial infrastructure for public goods, designed for the real world."]}),Object(ce.jsx)("p",{children:"It\u2019s built upon mutual, collaborative economics between individuals and communities - and a universal identity management based on skills, rather than personal data."})]})})]}),Object(ce.jsx)(w.f,{orientation:e?"vertical":"horizontal"}),Object(ce.jsxs)(be.a,{sx:{p:0,m:0},className:"sw-box",children:[Object(ce.jsx)(be.a,{className:"sw-box-title",children:Object(ce.jsxs)(je.a,{color:"text.primary",component:"div",variant:e?"h4":"h5",children:["This is ",Object(ce.jsx)("span",{className:"underline",children:"your Community"})]})}),Object(ce.jsxs)(be.a,{className:"sw-box-actions",children:[Object(ce.jsx)(w.e,{label:"Join a community",component:u.b,to:"/join-community/categories"}),Object(ce.jsx)(Ie.a,{badgeContent:Object(ce.jsx)(Ne.a,{title:"Coming soon!",arrow:!0,children:Object(ce.jsx)(ht.a,{sx:{bgcolor:"text.primary",borderRadius:"50%",fontSize:"1.2rem",position:"absolute"}})}),children:Object(ce.jsx)(w.e,{disabled:!0,label:"Create",component:u.b,to:"/community/create"})})]})]})]})}),gt=encodeURIComponent(Object(v.renderToStaticMarkup)(Object(ce.jsx)(w.d,{})));function vt(){return Object(ce.jsx)("h2",{style:{color:"white"},children:"Test"})}var Ot=function(){return Object(ce.jsx)("div",{className:"app-loading",children:Object(ce.jsx)(w.b,{width:"80",height:"80"})})},wt=function(e){var t=e.match.path;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(O.b,Object(x.a)({path:"".concat(t,"/community"),component:ue},e)),Object(ce.jsx)(O.b,Object(x.a)({path:"".concat(t,"/notifications"),component:vt},e))]})},kt=function(e){var t=Object.assign({},e);return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(O.b,Object(x.a)({exact:!0,component:ft,path:"/"},t)),Object(ce.jsx)(O.b,Object(x.a)({component:jt,path:"/join-community"},t))]})},Tt=Object(O.f)((function(e){var t=se(),n=Object(h.useState)(!0),a=Object(j.a)(n,2),i=a[0],r=a[1],s=Object(l.c)((function(e){return e.auth})).isAutheticated;Object(h.useEffect)((function(){var e=function(){var e=Object(b.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(!1),t(F(!0));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(g.a)(window),window.addEventListener("onSkillwalletLogin",e);var n=setTimeout((function(){s||r(!1)}),2e3);return function(){clearTimeout(n),window.removeEventListener("onSkillwalletLogin",e)}}),[s,t]);var o=[{type:"href",label:"SkillWallet",href:"/community/skillwallet",icon:Object(ce.jsx)(f.a,{component:w.c})},{type:"href",label:"dTown Hall",href:"/community/dTown-hall",icon:Object(ce.jsx)(f.a,{component:w.c})},{type:"href",label:"Notifications",href:"/community/notifications",icon:Object(ce.jsx)(f.a,{component:w.c})},{type:"href",label:"Settings",href:"/community/settings",icon:Object(ce.jsx)(f.a,{component:w.c})},{type:"divider"},{label:"Log off",type:"button",onClick:function(){localStorage.removeItem("skillWallet"),t(R()),e.history.push("/"),window.location.reload()},icon:Object(ce.jsx)(f.a,{component:w.c})}];return Object(ce.jsx)(w.g,{className:i?"loading":"",top:Object(ce.jsx)("div",{className:"wallet-btn",style:{visibility:i?"hidden":"visible"},children:Object(ce.jsx)("skillwallet-auth",{allowCreateNewUser:!1,id:"walletButton"})}),backgroundUrl:"url('data:image/svg+xml;utf8, ".concat(gt,"')"),drawer:s&&Object(ce.jsx)(w.j,{sidebarTop:Object(ce.jsx)(w.b,{width:"100",height:"100"}),open:!0,menuItems:o}),children:i?Object(ce.jsx)(Ot,{}):s?Object(ce.jsx)(wt,Object(x.a)({},e)):Object(ce.jsx)(kt,Object(x.a)({},e))})})),Ct=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,447)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))},St=Object(d.h)(oe),Mt=Object(i.a)({components:{MuiUseMediaQuery:{defaultProps:{noSsr:!0}},MuiDialogContent:{styleOverrides:{root:{borderStyle:"solid",borderWidth:"1px",borderColor:"text.primary"}}}},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}},palette:{type:"dark",text:{primary:"#fff"},primary:{main:"#161615"},secondary:{main:"#D8D8D8"}},shape:{borderRadius:0},typography:{fontFamily:["Josefin Sans"," sans-serif"].join(",")}});c.a.render(Object(ce.jsx)(r.a,{injectFirst:!0,children:Object(ce.jsx)(s.a,{theme:Mt,children:Object(ce.jsx)(u.a,{basename:"/distributed-town-web",children:Object(ce.jsx)(l.a,{store:oe,children:Object(ce.jsx)(p.a,{persistor:St,children:Object(ce.jsx)(Tt,{})})})})})}),document.getElementById("root")),Ct()}},[[372,2,3]]]);
//# sourceMappingURL=main.8f2f4be8.chunk.js.map