(this["webpackJsonpdistributed-town-web"]=this["webpackJsonpdistributed-town-web"]||[]).push([[0],{262:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(2),a=n.n(r),i=n(23),c=n(13),s=n(188),o={key:"bqbeg4w4u6ewltnejxwmvu6ngwu",secret:"bh24lv4dxie5dabwnl75y3onzphkvlqhyf56dlba"};function l(e){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(a.a.mark((function e(t){var n,r,i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.withKeyInfo(o);case 2:return n=e.sent,e.next=5,n.getOrCreate("SkillWallet");case 5:if(r=e.sent,i=r.root){e.next=9;break}throw new Error("bucket not created");case 9:return"profile.png",e.next=12,n.pushPath(i.key,"profile.png",t);case 12:return c=e.sent,e.abrupt("return","https://hub.textile.io".concat(c.path.path));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(){var t=Object(i.a)(a.a.mark((function t(n){var r,i,u,d,b,m,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.withKeyInfo(o);case 2:return r=t.sent,t.next=5,r.getOrCreate("SkillWallet");case 5:if(i=t.sent,u=i.root){t.next=9;break}throw new Error("bucket not created");case 9:if(!n.image){t.next=17;break}return d=Object(c.X)(n.image,"avatar"),t.next=13,d.arrayBuffer();case 13:return b=t.sent,t.next=16,l(b);case 16:n.image=t.sent;case 17:return m=e.from(JSON.stringify(n,null,2)),"metadata.json",t.next=21,r.pushPath(u.key,"metadata.json",m);case 21:return p=t.sent,t.abrupt("return","https://hub.textile.io".concat(p.path.path));case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}).call(this,n(32).Buffer)},312:function(e,t,n){},313:function(e,t,n){var r={"./auth-image_11.entry.js":[478,4]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=313,e.exports=a},319:function(e,t,n){},328:function(e,t){},331:function(e,t){},336:function(e,t){},344:function(e,t){},374:function(e,t){},376:function(e,t){},396:function(e,t){},398:function(e,t){},432:function(e,t,n){},433:function(e,t,n){},434:function(e,t,n){},435:function(e,t,n){},436:function(e,t,n){},437:function(e,t,n){},438:function(e,t,n){},439:function(e,t,n){},440:function(e,t,n){},441:function(e,t,n){},442:function(e,t,n){},445:function(e,t,n){},446:function(e,t,n){},447:function(e,t,n){},448:function(e,t,n){},449:function(e,t,n){},450:function(e,t,n){},451:function(e,t,n){},454:function(e,t,n){},455:function(e,t,n){"use strict";n.r(t);var r=n(530),a=n(541),i=n(56),c=n.n(i),s=n(28),o=n(41),l=n(158),u=n(242),d=n(531),b=n(2),m=n.n(b),p=n(23),j=n(14),h=n(27),x=n(0),f=n.n(x),O=(n(312),n(191)),v=n(157),g=n.n(v),y=n(269),w=n(243),k=n(38),C=n(13),S=function(){return Object(s.b)()},N=n(534),A=n(536),T=n(20),I=n(57),E={snackbar:{open:!1,message:"",severity:"success",duration:2e3},logs:[]},F=Object(I.c)({name:"ui",initialState:E,reducers:{addLog:function(e,t){Array.isArray(t.payload)?e.logs=[].concat(Object(T.a)(e.logs),Object(T.a)(t.payload)):e.logs.push(t.payload)},openSnackbar:function(e,t){e.snackbar.open=!0,e.snackbar.message=t.payload.message,e.snackbar.severity=t.payload.severity||"success",e.snackbar.duration=t.payload.duration||4e3},closeSnackbar:function(e){e.snackbar=Object(h.a)(Object(h.a)({},e.snackbar),{},{open:!1})},resetUIState:function(){return E}}}),L=F.actions,R=L.openSnackbar,P=L.closeSnackbar,W=L.addLog,M=F.reducer,D=n(1),B=f.a.forwardRef((function(e,t){return Object(D.jsx)(N.a,Object(h.a)({elevation:6,ref:t,variant:"filled"},e))}));function _(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.ui.snackbar})),n=t.message,r=t.duration,a=t.severity,i=t.open,c=function(){e(P())};return Object(D.jsx)(A.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:r,open:i,onClose:c,children:Object(D.jsx)(B,{onClose:c,severity:a,sx:{width:"100%"},children:n})})}var G,z=n(475),U=n(521),H=n(476),J=n(65),Q=n(279),q=n(149),K=n.n(q),V=function(e){var t=e.open,n=e.handleClose,r=e.logs,a=e.fullScreen,i=void 0!==a&&a,c=i?{}:{minWidth:"400px",minHeight:"400px"};return Object(D.jsxs)(z.a,{open:t,onClose:n,fullScreen:i,children:[Object(D.jsxs)(U.a,{sx:{m:0,p:2},children:["Logs",n?Object(D.jsx)(Q.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(D.jsx)(K.a,{})}):null]}),Object(D.jsx)(H.a,{sx:Object(h.a)(Object(h.a)({},c),{},{bgcolor:"primary.main",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}),children:r.map((function(e,t){return Object(D.jsx)(J.a,{sx:{color:"text.primary",textAlign:"center",pb:1},component:"div",variant:"h6",children:e},t)}))})]})},Y=n(526),X=n(113),Z=n(543);n(319);!function(e){e.Idle="Idle",e.Loading="Loading",e.Failed="failed"}(G||(G={}));var $=function(e,t){var n="Server error";try{var r=e.response;r&&500!==r.status&&(n=r.data.error)}catch(a){n="Server error"}throw t&&t(R({message:n,severity:"error"})),new Error(e)},ee=n(80),te=n(252),ne=n(96),re=n.n(ne),ae=n(98);function ie(e){this.value=e,this.message="No event found!",this.toString=function(){return this.value+this.message}}var ce=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","Universal, self-sovereign IDs tied to skills & contributions rather than personal data.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(p.a)(m.a.mark((function e(){var t=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.length>0&&void 0!==t[0]?t[0]:null,e.abrupt("return",Object({NODE_ENV:"production",PUBLIC_URL:"/distributed-town-web",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PUBLIC_API_URL:"https://api.distributed.town",REACT_APP_PUBLIC_SKILL_WALLET_API_URL:"https://api.skillwallet.id/",REACT_APP_PUBLIC_COMMUNITIES_REGISTRY_ADDRESS:"0x40E0a02Aae7D6b8eFdff4C31830217829FC8b626",REACT_APP_PUBLIC_RPC_URL:"https://rpc-mumbai.maticvigil.com/",REACT_APP_PUBLIC_TEXTILE_KEY:"bqbeg4w4u6ewltnejxwmvu6ngwu",REACT_APP_PUBLIC_TEXTILE_SECRET:"bh24lv4dxie5dabwnl75y3onzphkvlqhyf56dlba",REACT_APP_PUBLIC_BUCKET_NAME:"SkillWallet"}).REACT_APP_SKILLWALLET_ADDRESS);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,r,a,i,c,s,o,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ee.a.providers.Web3Provider(window.ethereum),r=n.getSigner(),e.next=4,se(t);case 4:return a=e.sent,i=new ee.a.Contract(a,ae.SkillWalletAbi,r),e.next=8,i.claim();case 8:return c=e.sent,e.next=11,c.wait();case 11:if(s=e.sent,o=s.events,l=o.find((function(e){return e.event===ae.SWContractEventType.SkillWalletClaimed}))){e.next=16;break}throw new ie({code:-32603,message:"Internal JSON-RPC error.",data:{code:3,data:"",message:"SkillWallet:ClaimEventMissing"}});case 16:return e.abrupt("return",l.args);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,r,a,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ee.a.providers.Web3Provider(window.ethereum),r=n.getSigner(),e.next=4,se(t);case 4:return a=e.sent,i=new ee.a.Contract(a,ae.SkillWalletAbi,r),e.next=8,i.isSkillWalletRegistered(window.ethereum.selectedAddress);case 8:if(!e.sent){e.next=14;break}return e.next=12,i.getSkillWalletIdByOwner(window.ethereum.selectedAddress);case 12:return c=e.sent,e.abrupt("return",null===c||void 0===c?void 0:c.toString());case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(p.a)(m.a.mark((function e(){var t,n,r,a,i,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new ee.a.providers.Web3Provider(window.ethereum),n=t.getSigner(),e.next=5,se(null);case 5:return r=e.sent,a=new ee.a.Contract(r,ae.SkillWalletAbi,n),e.next=9,a.getSkillWalletIdByOwner(window.ethereum.selectedAddress);case 9:return i=e.sent,e.next=12,a.isSkillWalletActivated(i);case 12:return c=e.sent,s=c.status,e.abrupt("return",s);case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,r,a,i,c,s,o,l,u,d,b,p,h,x;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.communityAddress,r=t.url,a=t.credits,i=new ee.a.providers.Web3Provider(window.ethereum),c=i.getSigner(),s=new ee.a.Contract(n,ae.DitoCommunityAbi,c),e.next=6,s.joinNewMember(r,Object(te.toWei)(a.toString()));case 6:return o=e.sent,e.next=9,o.wait();case 9:if(l=e.sent,u=l.events,d=u.find((function(e){return e.event===ae.SWContractEventType.MemberAdded}))){e.next=14;break}throw new ie({code:-32603,message:"Internal JSON-RPC error.",data:{code:3,data:"",message:"SkillWallet:MemberEventMissing"}});case 14:return b=Object(j.a)(d.args,3),p=b[0],h=b[1],x=b[2],e.abrupt("return",{userAddress:p,tokenId:null===h||void 0===h?void 0:h.toString(),credits:x});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("https://api.skillwallet.id/","/api/skillWallet/hasPendingAuth?address=").concat(t),{method:"GET"}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(p.a)(m.a.mark((function e(t,n){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://api.skillwallet.id/","/api/skillWallet/").concat(n,"/nonces?action=").concat(t),{method:"POST"});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a.nonce);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),pe=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.get("".concat("https://api.distributed.town","/api/community/").concat(t)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.get("".concat("https://api.distributed.town","/api/community/").concat(t,"/gigs"),{}).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.gigs})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=Object(I.b)("community",function(){var e=Object(p.a)(m.a.mark((function e(t,n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,e.prev=1,e.next=4,pe(t);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",$(e.t0,r));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),xe=Object(I.b)("community/gigs",function(){var e=Object(p.a)(m.a.mark((function e(t,n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,e.prev=1,e.next=4,je(t);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",$(e.t0,r));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),fe={community:null,status:G.Idle,gigs:[]},Oe=Object(I.c)({name:"community",initialState:fe,reducers:{setCommunity:function(e,t){e.community=t.payload},resetCommunityState:function(){return fe}},extraReducers:function(e){e.addCase(he.pending,(function(e){e.status=G.Loading})).addCase(he.fulfilled,(function(e,t){e.community=t.payload,e.status=G.Idle})).addCase(he.rejected,(function(e){e.status=G.Failed})).addCase(xe.pending,(function(e){e.status=G.Loading})).addCase(xe.fulfilled,(function(e,t){e.gigs=[].concat(Object(T.a)(t.payload),Object(T.a)(t.payload),Object(T.a)(t.payload)),e.status=G.Idle})).addCase(xe.rejected,(function(e){e.status=G.Failed}))}}),ve=(Oe.actions.setCommunity,Oe.reducer),ge=n(473),ye=n(276),we=n(523),ke=n(524),Ce=n(525),Se=n(153),Ne=n.n(Se),Ae=n(257),Te=n.n(Ae),Ie=n(152),Ee=n.n(Ie),Fe=(n(432),n(255)),Le=n.n(Fe),Re=n(471);n(433);var Pe=function(e){var t=e.url,n=Object(x.useState)(!1),r=Object(j.a)(n,2),a=r[0],i=r[1];function c(){return(c=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("clipboard"in navigator)){e.next=2;break}return e.abrupt("return",navigator.clipboard.writeText(t));case 2:return e.abrupt("return",document.execCommand("copy",!0,t));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(D.jsx)("div",{className:"copy-wrapper",children:Object(D.jsxs)(Re.a,{className:"copy-button",type:"button",onClick:function(){(function(e){return c.apply(this,arguments)})(t).then((function(){i(!0),setTimeout((function(){i(!1)}),2500)})).catch((function(e){console.log(e)}))},children:[Object(D.jsx)(Le.a,{className:"copy-icon"}),Object(D.jsx)("div",{className:"copy-text",style:{transition:"all 0.3s ease-in",opacity:a?"0.7":"1"},children:a?"Copied!":"Copy Link"})]})})};var We=function(e){var t=e.onClose,n=e.community,r=e.open,a="https://skillwallet.id/";return Object(D.jsx)(z.a,{onClose:function(){t()},open:r,children:Object(D.jsxs)(ge.a,{sx:{p:"15px"},children:[Object(D.jsx)(ye.a,{children:Object(D.jsxs)(we.a,{url:a,className:"social-button",title:"I just joined the ".concat(null===n||void 0===n?void 0:n.name," community!"),children:[Object(D.jsx)(Ne.a,{className:"social-icon"}),Object(D.jsx)("div",{className:"social-name",children:"Twitter"})]})}),Object(D.jsx)(ye.a,{children:Object(D.jsxs)(ke.a,{url:a,className:"social-button",quote:"I just joined the ".concat(null===n||void 0===n?void 0:n.name," community!"),hashtag:"#DistributedTown",children:[Object(D.jsx)(Te.a,{className:"social-icon"}),Object(D.jsx)("div",{className:"social-name",children:"Facebook"})]})}),Object(D.jsx)(ye.a,{children:Object(D.jsxs)(Ce.a,{url:a,className:"social-button",children:[Object(D.jsx)(Ee.a,{className:"social-icon"}),Object(D.jsx)("div",{className:"social-name",children:"LinkedIn"})]})}),Object(D.jsx)(ye.a,{children:Object(D.jsx)(Pe,{url:a})})]})})},Me=function(){var e=Object(s.b)(),t=Object(Y.a)((function(e){return e.breakpoints.down("md")})),n=Object(x.useState)(!1),r=Object(j.a)(n,2),a=r[0],i=r[1],c=Object(s.c)((function(e){return e.community})),o=c.status,l=c.community,u=Object(k.f)().search,d=new URLSearchParams(u).get("communityAddress"),b=new URLSearchParams(u).get("diToCredits");return Object(x.useEffect)((function(){l&&(null===l||void 0===l?void 0:l.address)===d||e(he(d))}),[d,l,e,u]),Object(D.jsx)("div",{className:"sw-join-success-wrapper",children:o===G.Loading?Object(D.jsx)("div",{className:"sw-spinner-wrapper",children:Object(D.jsx)(Z.a,{sx:{color:"text.primary"}})}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{className:"sw-community-details-wrapper",children:[Object(D.jsx)("div",{className:"sw-congrats-wrapper",children:Object(D.jsx)(J.a,{sx:{color:"text.primary",mb:"45px",textAlign:"center"},component:"div",variant:"h1",children:"Congratulations"})}),Object(D.jsxs)(J.a,{sx:{color:"text.primary",mb:2,textAlign:"center"},component:"div",variant:"h2",children:["You are now a member of ",null===l||void 0===l?void 0:l.name,"."]}),Object(D.jsx)(J.a,{sx:{color:"text.primary",mb:5,textAlign:"center"},component:"div",variant:"h2",children:"Your new DITO credits are now:"}),Object(D.jsx)(C.h,{className:"sw-dito-credits",height:"113px",width:"166px"}),Object(D.jsx)(J.a,{sx:{color:"text.primary",mb:1,textAlign:"center",fontWeight:"bold"},component:"div",variant:"xl",children:b})]}),Object(D.jsxs)("div",{className:"sw-share-button-wrapper",children:[Object(D.jsx)(C.F,{sx:{width:"310px",height:"50px"},label:t?"Share":"Share  & Invite your peers",onClick:function(){i(!0)}}),Object(D.jsx)(We,{community:l,open:a,onClose:function(){i(!1)}})]})]})})},De=n(130),Be=n(544),_e=n(545),Ge=n(472),ze=n(546),Ue=n(154),He=n.n(Ue),Je=(n(434),n(527)),Qe=n(537),qe={title:"The Dark DiTo",icon:C.x,description:"The greatest Description you could think of. A story about passion, cooperation, conflict & chaos - unveiling, word by word, a deeper truth about humankind."},Ke=function(){var e=Object(Y.a)((function(e){return e.breakpoints.up("lg")})),t=Object(x.useState)(qe),n=Object(j.a)(t,2),r=n[0],a=n[1],i=Object(x.useMemo)((function(){return He()((function(e){a(e||qe)}),200)}),[]);return Object(x.useEffect)((function(){return function(){return i.cancel()}}),[i]),Object(D.jsxs)("div",{className:"sw-dashboard-container",children:[Object(D.jsxs)(De.a,{sx:{p:0,m:0,gridGap:"30px"},className:"sw-box",children:[Object(D.jsxs)(J.a,{sx:{color:"text.primary",textAlign:"center",pb:2},component:"div",variant:"h4",children:["Welcome to diTown Hall ",Object(D.jsx)("br",{}),Object(D.jsx)("small",{children:"where everything happes"})]}),Object(D.jsx)(C.F,{sx:{height:"65px"},endIcon:Object(D.jsx)(C.x,{className:"sw-btn-icon",width:"30px"}),label:"Open Gigs",component:o.b,to:"/community/dTown-hall/gigs",onMouseEnter:function(){return i({title:"Gigs",icon:C.x,description:"Gigs description"})},onMouseLeave:function(){return i(null)}}),Object(D.jsx)(C.F,{sx:{height:"65px"},endIcon:Object(D.jsx)(C.B,{className:"sw-btn-icon",width:"30px"}),label:"Projects",to:"/community/town-hall/projects",onMouseEnter:function(){return i({title:"Projects",icon:C.B,description:"Projects description"})},onMouseLeave:function(){return i(null)}}),Object(D.jsx)(C.F,{sx:{height:"65px"},endIcon:Object(D.jsx)(C.T,{className:"sw-btn-icon",width:"30px"}),label:"Treasury",to:"/community/town-hall/treasury",onMouseEnter:function(){return i({title:"Treasury",icon:C.T,description:"Treasury description"})},onMouseLeave:function(){return i(null)}})]}),Object(D.jsx)(C.G,{width:"1px",orientation:e?"vertical":"horizontal"}),Object(D.jsx)(De.a,{sx:{p:0,m:0,gridGap:"20px"},className:"sw-box",children:Object(D.jsx)(De.a,{onMouseEnter:function(){return i(r)},onMouseLeave:function(){return i(null)},children:Object(D.jsx)(Je.a,{mode:"out-in",children:Object(D.jsx)(Qe.a,{addEndListener:function(e,t){return e.addEventListener("transitionend",t,!1)},classNames:"fade",children:Object(D.jsxs)(Be.a,{sx:{bgcolor:"text.primary"},children:[Object(D.jsx)(_e.a,{avatar:Object(D.jsx)(Ge.a,{sx:{boxShadow:3,bgcolor:"primary.main",width:60,height:60,borderRadius:0},"aria-label":"recipe",children:Object(D.jsx)(O.a,{fontSize:"large",component:null===r||void 0===r?void 0:r.icon})}),titleTypographyProps:{fontSize:"large",color:"primary.main"},title:null===r||void 0===r?void 0:r.title}),Object(D.jsx)(ze.a,{children:Object(D.jsx)(J.a,{color:"primary.main",variant:"body2",children:null===r||void 0===r?void 0:r.description})})]})},null===r||void 0===r?void 0:r.title)})})})]})},Ve=n(39),Ye=n(468),Xe=n(142),Ze=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e([{id:0,name:"Management",icon:"Management"},{id:1,name:"Network Design",icon:"Network"},{id:2,name:"Training & Sport",icon:"TrainSport"},{id:3,name:"Web Dev",icon:"WebDev"},{id:4,name:"DeFi",icon:"DeFi"},{id:5,name:"Tokenomics",icon:"Tokenomics"},{id:6,name:"Painting",icon:"Painting"},{id:7,name:"Consensus",icon:"Consensus"},{id:8,name:"Photography",icon:"Photography"},{id:9,name:"Community",icon:"Community"},{id:10,name:"Governance",icon:"Governance"},{id:11,name:"Teaching",icon:"Teaching"},{id:12,name:"Architecture",icon:"Architecture"},{id:13,name:"Frontend Dev",icon:"Frontend"},{id:14,name:"Gardening",icon:"Gardening"},{id:15,name:"Mobile Dev",icon:"Mobile"},{id:16,name:"Video-Making",icon:"Video"},{id:17,name:"Legal",icon:"Legal"},{id:18,name:"Smart Contracts",icon:"SmartContracts"},{id:19,name:"Game Theory",icon:"GameTheory"},{id:20,name:"Householding",icon:"HouseHolding"},{id:21,name:"Backend",icon:"Backend"},{id:22,name:"Blockchain",icon:"Blockchain"}])}),500)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.get("".concat("https://api.distributed.town","/api/skill?skill=").concat(encodeURIComponent(t))).then((function(e){return e.data})).then((function(e){return e.categories})).catch((function(){return[]})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.a.get("".concat("https://api.distributed.town","/api/community?category=").concat(encodeURIComponent(t))).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=Object(I.b)("category/entities",Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ze());case 1:case"end":return e.stop()}}),e)})))),nt=Object(I.b)("skills/entities",function(){var e=Object(p.a)(m.a.mark((function e(t,n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,e.prev=1,e.next=4,$e(t);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",$(e.t0,r));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),rt=Object(I.b)("community/entities",function(){var e=Object(p.a)(m.a.mark((function e(t,n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,e.prev=1,e.next=4,et(t);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",$(e.t0,r));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),at={currentStep:{},userInfo:{name:null,avatar:null},category:{entities:[],selectedCategory:null,status:G.Idle},community:{entities:[],communitySelectedCategory:null,selectedCommunityName:null,status:G.Idle},skills:{skillSelectedCategory:null,entities:[],selectedSkills:[],status:G.Idle}},it=Object(I.c)({name:"joinCommunity",initialState:at,reducers:{setCurrentStep:function(e,t){e.currentStep=t.payload},updateName:function(e,t){e.userInfo.name=t.payload},updateAvatarUrl:function(e,t){e.userInfo.avatar=t.payload},selectCategory:function(e,t){e.category.selectedCategory=t.payload},selectCommunity:function(e,t){e.community.selectedCommunityName=t.payload},updateSkill:function(e,t){var n=t.payload,r=n.skill,a=n.xp,i=e.skills.selectedSkills.findIndex((function(e){return e.skill===r}));0===a&&-1!==i?e.skills.selectedSkills.splice(i,1):-1===i&&a>0?e.skills.selectedSkills=[].concat(Object(T.a)(e.skills.selectedSkills),[t.payload]):a>0&&e.skills.selectedSkills.splice(i,1,t.payload)},toggleSkill:function(e,t){var n=e.skills.selectedSkills.findIndex((function(e){return e.skill===t.payload}));-1===n?e.skills.selectedSkills=[].concat(Object(T.a)(e.skills.selectedSkills),[{skill:t.payload,xp:0}]):e.skills.selectedSkills.splice(n,1)},resetJoinCommunityState:function(){return at}},extraReducers:function(e){e.addCase(tt.pending,(function(e){e.category.status=G.Loading})).addCase(tt.fulfilled,(function(e,t){e.category.entities=t.payload,e.category.status=G.Idle})).addCase(nt.pending,(function(e){e.skills.selectedSkills=[],e.skills.status=G.Loading})).addCase(nt.fulfilled,(function(e,t){e.skills.entities=t.payload,e.skills.skillSelectedCategory=e.category.selectedCategory,e.skills.status=G.Idle})).addCase(nt.rejected,(function(e){e.skills.entities=[],e.skills.skillSelectedCategory=null,e.skills.status=G.Failed})).addCase(rt.pending,(function(e){e.community.status=G.Loading})).addCase(rt.fulfilled,(function(e,t){e.community.entities=t.payload,e.community.communitySelectedCategory=e.category.selectedCategory,e.community.status=G.Idle})).addCase(rt.rejected,(function(e){e.community.entities=[],e.community.communitySelectedCategory=null,e.community.status=G.Failed}))}}),ct=it.actions,st=ct.selectCategory,ot=ct.resetJoinCommunityState,lt=ct.toggleSkill,ut=ct.updateSkill,dt=ct.selectCommunity,bt=ct.updateAvatarUrl,mt=ct.updateName,pt=ct.setCurrentStep,jt=Object(Xe.a)(dt,(function(e){var t=e.payload.joinCommunity.community,n=t.entities,r=t.selectedCommunityName;return n.find((function(e){return e.name===r}))})),ht=Object(Xe.a)(ut,lt,(function(e){return e.payload.joinCommunity.skills.selectedSkills.reduce((function(e,t){return[].concat(Object(T.a)(e),[{name:t.skill,value:t.xp}])}),[])})),xt=Object(Xe.a)(ut,lt,(function(e){var t=e.payload.joinCommunity.skills,n=t.selectedSkills,r=t.entities;return(n.reduce((function(e,t){var n=r.find((function(e){return e.skills.some((function(e){return e===t.skill}))}));return e+=((null===n||void 0===n?void 0:n.credits)||0)*t.xp}),0)+2e3).toString()})),ft=Object(Xe.a)(ut,lt,(function(e){for(var t=e.payload.joinCommunity.skills,n=t.selectedSkills,r=t.entities,a=n.reduce((function(e,t){var n=r.find((function(e){return e.skills.some((function(e){return e===t.skill}))}));return e=[].concat(Object(T.a)(e),[{value:t.xp/10*100,name:t.skill,credits:((null===n||void 0===n?void 0:n.credits)||0)*t.xp}])}),[]),i={0:"One",1:"Two",2:"Three"},c=a.length;c<3;c+=1)a.push({value:0,name:"Skill ".concat(i[c]),credits:0});return a})),Ot=it.reducer,vt=(n(435),{Management:C.t,Network:C.v,NetworkDesign:C.v,TrainSport:C.S,TrainingSport:C.S,WebDev:C.V,DeFi:C.g,Tokenomics:C.Q,Painting:C.y,Consensus:C.e,Photography:C.A,Community:C.d,Governance:C.n,GovernanceConsensus:C.n,Teaching:C.P,Architecture:C.a,Frontend:C.k,Gardening:C.m,Mobile:C.u,MobileDev:C.u,Video:C.U,VideoMaking:C.U,Legal:C.r,SmartContracts:C.E,GameTheory:C.l,HouseHolding:C.o,Backend:C.b,Blockchain:C.c,BlockchainInfrastructure:C.c}),gt=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.joinCommunity.currentStep})).activeStep,n=Object(s.c)((function(e){return e.joinCommunity.category})),r=n.entities,a=n.status,i=n.selectedCategory,c=Object(s.c)((function(e){return e.joinCommunity.userInfo}));return Object(x.useEffect)((function(){r.length||e(tt())}),[e,r,c]),Object(x.useEffect)((function(){-1!==t&&e(pt({activeStep:-1,title:"Pick your interest",description:"Just select what you are best at - and we will match with the best communities that need you the most",toPrevBtnPath:"/join-community/categories",left:null}))}),[e,t]),Object(D.jsx)(D.Fragment,{children:a===G.Loading?Object(D.jsx)(Z.a,{sx:{color:"text.primary",mt:2}}):Object(D.jsxs)("div",{className:"sw-category-wrapper",children:[Object(D.jsx)(ge.a,{className:"grid",sx:{padding:0,display:"grid",width:"100%",gridGap:"15px",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gridAutoRows:"minmax(60px, auto)"},children:r.map((function(t){var n=t.id,r=t.name,a=t.icon,c=vt[a];return Object(D.jsx)(ye.a,{sx:{height:"45px",width:"auto"},disablePadding:!0,children:Object(D.jsx)(C.F,{sx:{height:"45px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"14px"},onClick:Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(st(r));case 2:case"end":return t.stop()}}),t)}))),className:i===r?"active-link":"",startIcon:Object(D.jsx)(c,{className:"sw-btn-icon",width:"14px"}),label:r},n)},n)}))}),Object(D.jsx)("div",{className:"bottom-action",children:Object(D.jsx)(C.F,{disabled:null===i||a===G.Loading,component:o.b,to:"/join-community/user-info",label:"Next: Create your Account"})})]})})},yt=n(109),wt=n.n(yt),kt=(n(436),function(e){var t=e.username,n=e.avatar,r=e.creditSkills,a=e.totalCredits,i=e.showCreditAmount,c=void 0!==i&&i,s=Object(Ve.a)();return Object(D.jsxs)("div",{className:"sw-user-info-wrapper",children:[Object(D.jsxs)("div",{className:"sw-user-info",children:[Object(D.jsx)(Ge.a,{className:"sw-profile-pic",variant:"square",src:n,sx:{width:110,height:110,border:"2px solid white"}}),Object(D.jsx)(J.a,{sx:{color:"background.paper",textAlign:"center",my:2},component:"div",variant:"h1",children:t})]}),Object(D.jsx)("div",{className:"sw-total-credits",children:Object(D.jsx)(Ye.a,{badgeContent:Object(D.jsx)(X.a,{title:Object(D.jsxs)(D.Fragment,{children:[Number(a)-2e3," (skill credits) + 2000 (base credits)"]}),children:Object(D.jsx)(wt.a,{sx:{borderRadius:"50%",fontSize:"1.2rem"}})}),children:Object(D.jsxs)(J.a,{sx:{color:"text.primary",textAlign:"center",mb:2},component:"div",variant:"subtitle1",children:["Total credits: ",a]})})}),r.map((function(e,t){var n=e.value,r=e.name,a=e.credits,i=vt[Object(C.bb)(r)];return Object(D.jsxs)("div",{className:"sw-credit-widget",children:[Object(D.jsxs)("div",{className:"credit-label",children:[void 0===i?Object(D.jsx)("div",{className:"sw-credit-icon"}):Object(D.jsx)(i,{className:"sw-credit-icon",height:"16px"}),Object(D.jsx)(J.a,{sx:{color:"text.primary",textAlign:"start"},component:"div",variant:"h3",children:r})]}),Object(D.jsxs)("div",{className:"credit-content",children:[Object(D.jsx)(C.J,{percentage:n,children:" "}),c&&Object(D.jsxs)("div",{className:"credit-amount",children:[Object(D.jsx)(J.a,{sx:{color:"text.primary",textAlign:"start",mr:1},component:"div",variant:"h3",children:a}),Object(D.jsx)(C.h,{sx:{fill:s.palette.text.primary},width:"26px"})]})]})]},t)}))]})}),Ct=n(539),St=n(9),Nt=n(7),At=n(465),Tt=n(160),It=n(280),Et=n(548),Ft=(n(437),n(547));n(438);var Lt=function(e){var t=e.text,n=e.numberOfLines,r=void 0===n?2:n,a=e.lineHeight,i=void 0===a?1:a,c=e.readMoreCharacterLimit,s=void 0===c?100:c,o=e.showLessButton,l=void 0!==o&&o,u=Object(x.useState)(!1),d=Object(j.a)(u,2),b=d[0],m=d[1],p=Object(x.useState)(!1),h=Object(j.a)(p,2),f=h[0],O=h[1],v=Object(x.useState)(null),g=Object(j.a)(v,2),y=g[0],w=g[1],k=Object(x.useState)(null),C=Object(j.a)(k,2),S=C[0],N=C[1];return Object(x.useEffect)((function(){var e={lineHeight:i,maxHeight:"".concat(r*i,"em")},n=function(){m(!b)};w(function(){var n=function(){var e,n,r=[];if(t){for(var a=t.split(" ");a.join(" ").length>s;)r.unshift(a.pop());e=a.join(" "),r.length>0&&(n=r.join(" "))}return{teaserText:e,remainingText:n}}(),r=n.teaserText,a=n.remainingText;return O(!!a),!b&&t.length>s?Object(D.jsxs)("span",{children:[r.replace(/\s*$/,""),Object(D.jsx)("span",{className:"read-more__text--remaining read-more__text--hide",children:a}),"\u2026"]}):Object(D.jsxs)("span",{children:[r,Object(D.jsx)(Ft.a,{style:e,component:"span",in:b,timeout:"auto",unmountOnExit:!0,children:a})]})}()),N(function(){if(b&&!l)return Object(D.jsx)(D.Fragment,{});var e=b?"Show Less":"Read More";return Object(D.jsx)("button",{onClick:n,className:"read-more__button",children:e})}())}),[s,l,b,t,i,r]),Object(D.jsxs)(J.a,{component:"div",className:"read-more-description",color:"primary.main",sx:{pt:2,maxHeight:"auto"},variant:"body2",children:[y," ",f?S:""]})},Rt=Object(Nt.a)(At.a)((function(e){var t,n=e.theme;return t={height:"15px",borderRadius:0,border:"1px solid ".concat(n.palette.background.paper)},Object(St.a)(t,"&.".concat(Tt.a.colorPrimary),{backgroundColor:n.palette.background.paper}),Object(St.a)(t,"& .".concat(Tt.a.bar),{borderRadius:0,backgroundColor:n.palette.primary.main}),t}));var Pt=function(e){var t=e.gig,n=Object(Y.a)((function(e){return e.breakpoints.down("sm")}));return Object(D.jsxs)(Be.a,{className:"sw-gig-card",sx:{bgcolor:"text.primary",display:"flex",flexDirection:"column",boxShadow:4},children:[Object(D.jsxs)(ze.a,{sx:{flex:"1",display:"flex",flexDirection:"column"},children:[Object(D.jsxs)(De.a,{children:[Object(D.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(D.jsx)(Ge.a,{sx:{width:28,height:28},src:t.image}),Object(D.jsx)(C.h,{width:"30px"})]}),Object(D.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(D.jsx)(J.a,{sx:{mt:"3px"},lineHeight:1,variant:n?"body1":"h6",color:"primary.main",children:t.title}),Object(D.jsxs)(J.a,{minWidth:"70px",sx:{mt:"3px"},textAlign:"end",fontWeight:"bold",lineHeight:1,variant:n?"body2":"body1",color:"primary.main",children:[t.credits," DITO"]})]})]}),Object(D.jsx)(De.a,{sx:{flex:"1"},children:Object(D.jsx)(Lt,{text:t.description,numberOfLines:6,lineHeight:1.4,showLessButton:!0,readMoreCharacterLimit:180})}),Object(D.jsx)(It.a,{sx:{my:2,borderColor:"primary.main"}}),Object(D.jsxs)(De.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(D.jsx)("div",{className:"credit-label",children:Object(D.jsx)(C.K,{mobile:!0,mobileStartText:Object(D.jsx)(J.a,{color:"primary.main",sx:{textAlign:"start"},component:"div",variant:"body2",children:"Match your skills"}),children:Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(J.a,{sx:{textAlign:"start"},component:"div",variant:"body2",children:"Match your skills"})})})}),Object(D.jsxs)("div",{className:"sw-progress-bar",children:[Object(D.jsx)(Rt,{sx:{borderColor:"text.primary"},variant:"determinate",value:t.props.commitment}),Object(D.jsxs)(J.a,{className:"sw-progress-bar-label",sx:{color:"text.primary",textAlign:"center"},component:"span",variant:"body2",children:[t.props.commitment,"%"]})]})]})]}),Object(D.jsx)(It.a,{sx:{borderColor:"primary.main"}}),Object(D.jsx)(Et.a,{sx:{justifyContent:"center"},children:Object(D.jsx)(Re.a,{variant:"outlined",size:"small",children:Object(D.jsx)("span",{style:{marginTop:"4px"},children:"Take this Gig"})})})]})},Wt=(n(439),function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.community})),n=t.status,r=t.community,a=t.gigs,i=Object(s.c)((function(e){return e.auth})).userInfo;return Object(x.useEffect)((function(){!a.length&&(null===r||void 0===r?void 0:r.address)&&e(xe(null===r||void 0===r?void 0:r.address))}),[e,null===r||void 0===r?void 0:r.address,a]),Object(D.jsxs)("div",{className:"sw-container",children:[Object(D.jsx)("div",{className:"sw-user-container",children:Object(D.jsx)(kt,{username:null===i||void 0===i?void 0:i.nickname,avatar:null===i||void 0===i?void 0:i.imageUrl,creditSkills:null===i||void 0===i?void 0:i.skills,totalCredits:null===i||void 0===i?void 0:i.totalCredits})}),Object(D.jsxs)("div",{className:"sw-gigs-container",children:[Object(D.jsx)("div",{className:"sw-gigs-top",children:Object(D.jsx)(J.a,{color:"background.paper",sx:{mb:4,height:"100%",display:"flex",justifyContent:"start",alignItems:"center"},variant:"h4",children:"Open Gigs"})}),Object(D.jsx)(De.a,{className:"sw-box-right-inner",children:n===G.Loading?Object(D.jsx)(Z.a,{sx:{color:"background.paper"}}):Object(D.jsx)(Ct.a,{container:!0,spacing:{xs:2,md:4},columns:{xs:4,sm:4,md:12,lg:15,xl:16},children:a.map((function(e,t){return Object(D.jsx)(Ct.a,{item:!0,xs:4,sm:4,md:6,lg:5,xl:4,children:Object(D.jsx)(Pt,{gig:e},"gig-".concat(t))},t)}))})})]})]})}),Mt=function(e){var t=e.match.path;return Object(D.jsxs)(k.c,{children:[Object(D.jsx)(k.a,Object(h.a)({component:Ke,path:"".concat(t,"/dashboard")},e)),Object(D.jsx)(k.a,Object(h.a)({component:Wt,path:"".concat(t,"/gigs")},e))]})};n(440);function Dt(){return Object(D.jsx)(J.a,{color:"background.paper",sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},variant:"h3",children:"Coming soon!"})}var Bt=function(e){var t=e.match.path;return Object(D.jsxs)(k.c,{children:[Object(D.jsx)(k.a,Object(h.a)({component:Dt,path:"".concat(t,"/skillwallet")},e)),Object(D.jsx)(k.a,Object(h.a)({component:Mt,path:"".concat(t,"/dTown-hall")},e)),Object(D.jsx)(k.a,Object(h.a)({component:Dt,path:"".concat(t,"/notifications")},e)),Object(D.jsx)(k.a,Object(h.a)({component:Dt,path:"".concat(t,"/settings")},e)),Object(D.jsx)(k.a,Object(h.a)({component:Me,path:"".concat(t,"/success")},e))]})},_t=n(529),Gt=n(259),zt=n.n(Gt),Ut=n(260),Ht=n.n(Ut),Jt=n(258);n(441);function Qt(e){var t=Object(x.useState)(0),n=Object(j.a)(t,2),r=n[0],a=n[1],i=Object(x.useState)(-1),c=Object(j.a)(i,2),s=c[0],o=c[1],l=Object(x.useState)([]),u=Object(j.a)(l,2),d=u[0],b=u[1],m=Object(x.useState)("0px"),p=Object(j.a)(m,2),f=p[0],O=p[1],v=Object(Y.a)((function(e){return e.breakpoints.down("sm")})),g=Object(Y.a)((function(e){return e.breakpoints.down("md")})),y=function(){var e,t,n=s,a="slider-single active",i=Object(T.a)(d);if(r>1){n<r?n++:n=0,e=n>0?i[n-1]:i[r];var c=i[n];t=n<r?i[n+1]:i[0],i.forEach((function(e){e.class.includes("preactivede")&&(e.class="slider-single proactivede"),e.class.includes("preactive")&&(e.class="slider-single preactivede")})),e.class="slider-single preactive",c.class=a,t.class="slider-single proactive",b(i),o(n),document.getElementsByClassName("slider-single active").length>0&&setTimeout((function(){if(document.getElementsByClassName("slider-single active").length>0){var e=document.getElementsByClassName("slider-single active")[0].clientHeight;O("".concat(e,"px"))}}),500)}else i[0]&&i[0].class!==a&&(i[0].class=a,b(i),o(0))},w=function(){if(r>1){var e,t,n=s,a=Object(T.a)(d);n>0?n--:n=r,t=n<r?a[n+1]:a[0];var i=a[n];e=n>0?a[n-1]:a[r],a.forEach((function(e){e.class.includes("proactivede")&&(e.class="slider-single preactivede"),e.class.includes("proactive")&&(e.class="slider-single proactivede")})),e.class="slider-single preactive",i.class="slider-single active",t.class="slider-single proactive",b(a),o(n),document.getElementsByClassName("slider-single active").length>0&&setTimeout((function(){if(document.getElementsByClassName("slider-single active").length>0){var e=document.getElementsByClassName("slider-single active")[0].clientHeight;O("".concat(e,"px"))}}),500)}},k=function(t){var n="slider-".concat(t).concat(v?" small":g?" medium":" large");return e.arrows||(n="slider-disabled"),n},C=Object(Jt.useSwipeable)({onSwipedLeft:function(){return y()},onSwipedRight:function(){return w()},preventDefaultTouchmoveEvent:!0,trackMouse:!0});return Object(x.useEffect)((function(){if(!(r>0)){var t=[];e.slides.forEach((function(e){var n={class:"slider-single proactivede",element:e};t.push(n)})),2===e.slides.length&&e.slides.forEach((function(e){var n={class:"slider-single proactivede",element:e};t.push(n)})),b(t),a(t.length-1),o(-1),-1===s&&y()}}),[e.slides,r]),Object(x.useEffect)((function(){-1===s&&y()}),[d,s]),Object(D.jsx)("div",Object(h.a)(Object(h.a)({className:"react-3d-carousel",style:{height:f,maxWidth:v?"500px":g?"700px":"800px",minWidth:v?"500px":g?"700px":"800px"}},C),{},{children:d&&d.length>0&&Object(D.jsx)("div",{className:"slider-container",children:Object(D.jsx)("div",{className:"slider-content",style:{width:v?"40%":"100%"},children:d.map((function(e,t){return Object(D.jsxs)("div",{className:e.class,children:[Object(D.jsx)("div",{className:k("left"),onClick:w,children:Object(D.jsx)("div",{children:Object(D.jsx)(zt.a,{sx:{height:"30px",width:"30px",color:"background.paper"}})})}),Object(D.jsx)("div",{className:k("right"),onClick:y,children:Object(D.jsx)("div",{children:Object(D.jsx)(Ht.a,{sx:{height:"30px",width:"30px",color:"background.paper"}})})}),Object(D.jsx)("div",{className:"slider-single-content",children:e.element})]},t)}))})})}))}Qt.defaultProps={interval:3e3,arrows:!0,arrowBorders:!1};var qt,Kt={isAutheticated:!1,userAddress:null,userInfo:null},Vt=Object(I.c)({name:"auth",initialState:Kt,reducers:{setAuthenticated:function(e,t){var n=t.payload,r=n.isAuthenticated,a=n.userInfo;e.isAutheticated=r,e.userInfo=Object(h.a)(Object(h.a)({},a),{},{totalCredits:(a.skills||[]).reduce((function(e,t){return e+=t.value}),2e3)})},setUserAddress:function(e,t){e.userAddress=t.payload},resetAuthState:function(){return Kt}}}),Yt=Vt.actions,Xt=Yt.setAuthenticated,Zt=(Yt.setUserAddress,Yt.resetAuthState),$t=Vt.reducer;!function(e){e.NoFreeSpots="NoFreeSpots",e.AlreadyMember="AlreadyMember",e.SkillWalletNotActivated="SkillWalletNotActivated",e.SkillWalletNotClaimed="SkillWalletNotClaimed",e.RetryJoin="RetryJoin",e.RetryNetwork="RetryNetwork",e.RetryTextile="RetryTextile",e.RetryNonce="RetryNonce",e.AlreadyClaimed="AlreadyClaimed",e.SkillWalletNotCreated="SkillWalletNotCreated",e.RetryClaim="RetryClaim",e.RetryAuth="RetryAuth",e.RetryTokenId="RetryTokenId",e.RetryQrCode="RetryQrCode"}(qt||(qt={}));var en;n(442);!function(e){e[e.Activate=0]="Activate",e[e.Login=1]="Login",e[e.CreateGig=2]="CreateGig",e[e.TakeGig=3]="TakeGig",e[e.SubmitGig=4]="SubmitGig",e[e.CompleteGig=5]="CompleteGig"}(en||(en={}));var tn=n(261),nn=n(262),rn=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum.selectedAddress){e.next=11;break}return e.prev=1,e.next=4,Object(C.Z)(window.ethereum.request({method:"eth_requestAccounts"}),2e4);case 4:case 11:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(1),t&&t(W(JSON.stringify(e.t0))),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),an=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x13881"}]});case 3:case 12:e.next=18;break;case 5:if(e.prev=5,e.t0=e.catch(0),t&&t(W(JSON.stringify(e.t0))),4902!==e.t0.code){e.next=18;break}return e.prev=9,e.next=12,window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x13881",chainName:"Mumbai",nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.matic.today"],blockExplorerUrls:["https://mumbai.polygonscan.com/"]}]});case 14:return e.prev=14,e.t1=e.catch(9),t&&t(W(JSON.stringify(e.t1))),e.abrupt("return",!1);case 18:return e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e,null,[[0,5],[9,14]])})));return function(t){return e.apply(this,arguments)}}(),cn=function(e){var t=e.message,n=e.subtitle,r=void 0===n?null:n,a=e.onCancel;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{className:"sw-join-dialog-content",children:[Object(D.jsx)(Z.a,{sx:{color:"text.primary"}}),Object(D.jsx)(J.a,{sx:{textAlign:"center",mt:2},component:"div",variant:"h6",children:t}),Object(D.jsx)(J.a,{sx:{color:"text.primary",textAlign:"center",mt:2},component:"div",variant:"body2",children:r})]}),Object(D.jsx)(C.F,{color:"error",onClick:a,sx:{mt:4},label:"Cancel"})]})},sn=function(e){var t=e.message,n=e.subtitle,r=void 0===n?null:n,a=e.onCancel;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{className:"sw-join-dialog-content",children:[Object(D.jsx)(J.a,{sx:{textAlign:"center",mt:2},component:"div",variant:"h6",children:t}),Object(D.jsx)(J.a,{sx:{color:"text.primary",textAlign:"center",mt:2},component:"div",variant:"body2",children:r})]}),Object(D.jsx)(C.F,{color:"error",onClick:a,sx:{mt:4},label:"Cancel"})]})},on=function(e){var t=e.message,n=e.subtitle,r=e.actionLabel,a=e.handleAdditionalAction,i=e.onCancel;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{className:"sw-join-dialog-content",children:[Object(D.jsx)(J.a,{sx:{textAlign:"center",mt:2},component:"div",variant:"h6",children:t}),Object(D.jsx)(J.a,{sx:{color:"text.primary",textAlign:"center",mt:2},component:"div",variant:"body2",children:n}),Object(D.jsx)(C.F,{color:"primary",onClick:a,sx:{mt:4,width:"200px",height:"45px"},label:r})]}),Object(D.jsx)(C.F,{color:"error",onClick:i,sx:{mt:4},label:"Cancel"})]})},ln=function(e,t,n,r){var a=function(){var a=Object(p.a)(m.a.mark((function a(){var i;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(Object(D.jsx)(cn,{message:"Ensuring ethereum connection ...",onCancel:n})),a.next=3,rn(e);case 3:return(i=a.sent)||t(Object(D.jsx)(on,{actionLabel:"Retry",subtitle:"If this problem repeats plase make sure your metamask is connected",message:"We could not enable the ethereum network",handleAdditionalAction:function(){return r(qt.RetryNetwork)},onCancel:n})),a.abrupt("return",i);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),i=function(){var a=Object(p.a)(m.a.mark((function a(i){var c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i){a.next=2;break}return a.abrupt("return",!1);case 2:return t(Object(D.jsx)(cn,{message:"Ensuring correct network ...",onCancel:n})),a.next=5,an(e);case 5:return(c=a.sent)||t(Object(D.jsx)(on,{actionLabel:"Retry",subtitle:null,message:"We could not set the correct network, please set it manually and try again",handleAdditionalAction:function(){return r(qt.RetryNetwork)},onCancel:n})),a.abrupt("return",c);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var a=Object(p.a)(m.a.mark((function a(i,c){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i){a.next=2;break}return a.abrupt("return",null);case 2:return t(Object(D.jsx)(cn,{message:"Generating textile bucket url ...",onCancel:n})),a.prev=3,a.next=6,Object(nn.a)(c);case 6:return a.abrupt("return",a.sent);case 9:return a.prev=9,a.t0=a.catch(3),a.next=13,e(W(JSON.stringify(a.t0)));case 13:t(Object(D.jsx)(on,{actionLabel:"Retry",subtitle:null,message:"Unknown Error",handleAdditionalAction:function(){return r(qt.RetryTextile)},onCancel:n}));case 14:return a.abrupt("return",null);case 15:case"end":return a.stop()}}),a,null,[[3,9]])})));return function(e,t){return a.apply(this,arguments)}}(),s=function(){var a=Object(p.a)(m.a.mark((function a(i,c,s){var o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i){a.next=2;break}return a.abrupt("return",null);case 2:return a.prev=2,t(Object(D.jsx)(cn,{subtitle:"This might take awhile, please be patient",message:"Executing join membership smart contract ...",onCancel:n})),a.next=6,de({url:i,credits:s,communityAddress:c});case 6:return a.abrupt("return",a.sent);case 9:return a.prev=9,a.t0=a.catch(2),a.next=13,e(W(JSON.stringify(a.t0)));case 13:return o=Object(C.z)(a.t0.data.message),String(o).includes("There is SkillWallet already registered for this address")?t(Object(D.jsx)(on,{actionLabel:"Generate QR code",subtitle:"If you have not activated you skillwallet account then you can do so by clicking generate QR Code",message:o,handleAdditionalAction:function(){return r(qt.SkillWalletNotActivated)},onCancel:n})):String(o).includes("There is SkillWallet to be claimed by this address")||String(o).includes("Already a member")?t(Object(D.jsx)(on,{actionLabel:"Claim",subtitle:"You are already a member of this community, but you have not claimed it yet!",message:o,handleAdditionalAction:function(){return r(qt.SkillWalletNotClaimed)},onCancel:n})):String(o).includes("No free spots left")?t(Object(D.jsx)(sn,{subtitle:"Select another community and try again!",message:o,onCancel:n})):t(Object(D.jsx)(on,{actionLabel:"Retry",subtitle:"retry again",message:o,handleAdditionalAction:function(){return r(qt.RetryJoin)},onCancel:n})),a.abrupt("return",null);case 16:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e,t,n){return a.apply(this,arguments)}}(),o=function(){var a=Object(p.a)(m.a.mark((function a(i,c){var s;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i&&c){a.next=2;break}return a.abrupt("return",null);case 2:return t(Object(D.jsx)(cn,{subtitle:"This might take awhile, please be patient",message:"Executing claim membership smart contract ...",onCancel:n})),a.prev=3,a.next=6,oe(i);case 6:return a.abrupt("return",a.sent);case 9:return a.prev=9,a.t0=a.catch(3),a.next=13,e(W(JSON.stringify(a.t0)));case 13:return s=Object(C.z)(a.t0.data.message.payload),String(s).includes("There is SkillWallet already registered for this address")?t(Object(D.jsx)(on,{actionLabel:"Connect",subtitle:"Connect to SkillWallet account to see your community",message:s,handleAdditionalAction:function(){return r(qt.AlreadyClaimed)},onCancel:n})):t(Object(D.jsx)(on,{actionLabel:"Retry",subtitle:null,message:s,handleAdditionalAction:function(){return r(qt.RetryClaim)},onCancel:n})),a.abrupt("return",null);case 16:case"end":return a.stop()}}),a,null,[[3,9]])})));return function(e,t){return a.apply(this,arguments)}}(),l=function(){var a=Object(p.a)(m.a.mark((function a(i){var c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i){a.next=2;break}return a.abrupt("return",null);case 2:return t(Object(D.jsx)(cn,{subtitle:"This might take awhile, please be patient",message:"Getting your skillwallet metadata ...",onCancel:n})),a.prev=3,a.next=6,le(i);case 6:return a.abrupt("return",a.sent);case 9:return a.prev=9,a.t0=a.catch(3),a.next=13,e(W(JSON.stringify(a.t0)));case 13:return c=Object(C.z)(a.t0.data.message.payload),t(Object(D.jsx)(on,{actionLabel:"Retry",subtitle:null,message:c,handleAdditionalAction:function(){return r(qt.RetryTokenId)},onCancel:n})),a.abrupt("return",null);case 16:case"end":return a.stop()}}),a,null,[[3,9]])})));return function(e){return a.apply(this,arguments)}}(),u=function(){var e=Object(p.a)(m.a.mark((function e(a){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",null);case 2:return t(Object(D.jsx)(cn,{subtitle:"This might take awhile, please be patient",message:"Generating QR code ...",onCancel:n})),e.next=5,me(en.Activate,a);case 5:return i=e.sent,t(i?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(De.a,{sx:{display:"flex",mt:2,p:2,bgcolor:"white"},children:Object(D.jsx)(tn.QRCode,{value:JSON.stringify({tokenId:a,nonce:i}),logoWidth:140,logoHeight:140,bgColor:"white",size:205})}),Object(D.jsx)(De.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",px:2,bgcolor:"white",width:"255px",height:"60px",marginTop:"14px"},children:Object(D.jsxs)(J.a,{sx:{color:"black",textAlign:"center"},component:"div",variant:"body1",children:["Scan with your ",Object(D.jsx)("b",{children:"SkillWallet App"})," ",Object(D.jsx)("br",{}),"to claim your Membership"]})}),Object(D.jsx)(C.F,{color:"error",onClick:n,sx:{mt:4},label:"Cancel"})]}):Object(D.jsx)(on,{actionLabel:"Retry",subtitle:null,message:"QR code was not generated successfully!",handleAdditionalAction:function(){return r(qt.RetryNonce)},onCancel:n})),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(p.a)(m.a.mark((function e(a){var i,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",!1);case 2:return i=function(){return ue()},c=function(e){return!e},e.next=6,Object(C.W)(i,c,8e3,20);case 6:return(s=e.sent)||t(Object(D.jsx)(on,{actionLabel:"Retry",subtitle:"QR Code was not approved!",message:"Activate your skillwallet account by using skillwallet app.",handleAdditionalAction:function(){return r(qt.RetryQrCode)},onCancel:n})),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var a=Object(p.a)(m.a.mark((function a(i,c,s){var o,l,u,d;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i&&c&&s){a.next=2;break}return a.abrupt("return",!1);case 2:return t(Object(D.jsx)(cn,{subtitle:"This might take awhile, please be patient",message:"Authenticating ....",onCancel:n})),a.prev=3,o=function(){return be(window.ethereum.selectedAddress)},l=function(e){return!e.hasPendingAuth},a.next=8,Object(C.W)(o,l);case 8:return u=a.sent,d=u.hasPendingAuth,a.abrupt("return",d);case 13:return a.prev=13,a.t0=a.catch(3),a.next=17,e(W(JSON.stringify(a.t0)));case 17:t(Object(D.jsx)(on,{actionLabel:"Retry",subtitle:"Something went wrong",message:"Authentication was unsuccessful",handleAdditionalAction:function(){return r(qt.RetryAuth)},onCancel:n}));case 18:return a.abrupt("return",!1);case 19:case"end":return a.stop()}}),a,null,[[3,13]])})));return function(e,t,n){return a.apply(this,arguments)}}();return{onEthConnection:a,onEthNetworkChange:i,onTextileBucket:c,onJoinMembership:s,onClaimMembership:o,onQRCodeGenerate:u,onAuthenticate:b,onGetTokenId:l,isQrCodeActivated:d}},un=function(e){var t=e.open,n=e.handleClose,r=e.dialogContent,a=e.fullScreen,i=void 0!==a&&a,c=i?{}:{maxWidth:"400px",minWidth:"400px",minHeight:"400px"};return Object(D.jsx)(z.a,{open:t,onClose:n,fullScreen:i,children:Object(D.jsx)(H.a,{sx:Object(h.a)(Object(h.a)({},c),{},{bgcolor:"primary.main",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}),children:r})})},dn=n(264),bn=n.n(dn),mn=function(e){var t=e.cardStyles,n=t.back,r=t.front,a=e.cardZIndex,i=e.containerStyle,c=e.containerClassName,s=e.flipDirection,o=e.flipSpeedFrontToBack,l=e.flipSpeedBackToFront,u=e.infinite,d=e.onClick,b=Object(x.useState)(e.isFlipped),m=Object(j.a)(b,2),p=m[0],f=m[1],O=Object(x.useState)(0),v=Object(j.a)(O,2),g=v[0],y=v[1];Object(x.useEffect)((function(){e.isFlipped!==p&&(f(e.isFlipped),y((function(e){return e+180})))}),[p,e.isFlipped]);var w=Object(x.useMemo)((function(){var e="sw-card-flip";return c&&(e+=" ".concat(c)),e}),[c]),k=function(t){if(2!==e.children.length)throw new Error("Component Flipcard requires 2 children to function");return e.children[t]},C="rotateY(".concat(u?g:p?180:0,"deg)"),S="rotateY(".concat(u?g+180:p?0:-180,"deg)"),N="rotateX(".concat(u?g:p?180:0,"deg)"),A="rotateX(".concat(u?g+180:p?0:-180,"deg)"),T={back:Object(h.a)({WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden",height:"100%",left:"0",position:p?"relative":"absolute",top:"0",transform:"horizontal"===s?S:A,transformStyle:"preserve-3d",transition:"".concat(o,"s"),width:"100%"},n),container:{perspective:"1000px",zIndex:"".concat(a)},flipper:{height:"100%",position:"relative",width:"100%"},front:Object(h.a)({WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden",height:"100%",left:"0",position:p?"absolute":"relative",top:"0",transform:"horizontal"===s?C:N,transformStyle:"preserve-3d",transition:"".concat(l,"s"),width:"100%",zIndex:"2"},r)};return Object(D.jsx)("div",{className:w,style:Object(h.a)(Object(h.a)({},T.container),i),onClick:d,onKeyPress:null,children:Object(D.jsxs)("div",{className:"sw-card-flipper",style:T.flipper,children:[Object(D.jsx)("div",{style:T.front,children:k(0)}),Object(D.jsx)("div",{style:T.back,children:k(1)})]})})};mn.defaultProps={cardStyles:{back:{},front:{}},cardZIndex:"auto",containerStyle:{},flipDirection:"horizontal",flipSpeedBackToFront:.6,flipSpeedFrontToBack:.6,infinite:!1,isFlipped:!1};var pn=mn,jn=(n(445),function(e){var t=e.community,n=e.onSelect,r=Object(x.useState)(!1),a=Object(j.a)(r,2),i=a[0],c=a[1],s=Object(Ve.a)(),o=t.members>=t.totalMembersAllowed,l=function(e){e.stopPropagation(),c(!i)},u=function(){return null};return Object(D.jsxs)(pn,{isFlipped:i,onClick:o?u:l,containerClassName:"".concat(i?"flipped":""," ").concat(o?"closed":""),children:[Object(D.jsx)("div",{className:"sw-card-front ".concat(i?"flipped":""," ").concat(o?"closed":""),style:{background:s.palette.background.paper,boxShadow:s.shadows[1]},onClick:o?u:l,children:Object(D.jsxs)("div",{className:"sw-card-container front".concat(o?" closed":""),children:[Object(D.jsx)("img",{className:"community-logo",alt:"community-logo",src:t.image}),Object(D.jsx)(J.a,{sx:{color:"black",textAlign:"center",pb:1,mt:1},component:"div",variant:t.name.length>25?"h2":"h1",children:t.name}),Object(D.jsxs)(J.a,{sx:{color:"primary.main",textAlign:"center"},component:"div",variant:"body2",children:[+t.totalMembersAllowed-+t.members,"/",t.totalMembersAllowed," Spaces Available"]}),Object(D.jsx)(J.a,{sx:{color:"primary.main",textAlign:"center"},component:"div",variant:"body2",children:"80% Skill Match"}),Object(D.jsx)(J.a,{sx:{color:"primary.main",textAlign:"center",mt:1},variant:"xl",component:"div",children:o?"Closed":"Open"}),!o&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(J.a,{sx:{color:"primary.main",textAlign:"center"},component:"div",variant:"body2",children:"Click to read more"}),Object(D.jsx)("div",{className:"flip-icon-wrapper",children:Object(D.jsx)(bn.a,{className:"flip-icon"})})]})]})}),Object(D.jsx)("div",{className:"sw-card-back",style:{background:s.palette.primary.main,boxShadow:s.shadows[1]},onClick:l,children:Object(D.jsxs)("div",{className:"sw-card-container back",children:[Object(D.jsxs)("div",{className:"sw-community-summary-wrapper",children:[Object(D.jsx)("div",{className:"sw-community-image-wrapper",children:Object(D.jsx)("img",{className:"community-logo-small",alt:"community-logo",src:t.image})}),Object(D.jsxs)("div",{className:"sw-community-summary",children:[Object(D.jsx)(J.a,{sx:{color:"background.paper",textAlign:"left"},component:"div",variant:"h3",children:t.name}),Object(D.jsxs)(J.a,{sx:{color:"background.paper",textAlign:"left"},component:"div",variant:"body2",children:[+t.totalMembersAllowed-+t.members," Spaces Available"]}),Object(D.jsx)(J.a,{sx:{color:"background.paper",textAlign:"left"},component:"div",variant:"body2",children:"80% Skill Match"})]})]}),Object(D.jsxs)("div",{className:"sw-description-wrapper",children:[Object(D.jsx)(J.a,{sx:{color:"background.paper"},component:"div",variant:"body2",children:t.description}),Object(D.jsx)(C.F,{sx:{height:"50px"},color:"secondary",onClick:function(e){e.stopPropagation(),!o&&n(t.name)},disabled:o,label:"Join Community"})]})]})})]})}),hn=function(e){var t=S(),n=Object(Y.a)((function(e){return e.breakpoints.down("sm")})),r=Object(s.c)((function(e){return e.joinCommunity.currentStep})).activeStep,a=Object(s.c)((function(e){return e.auth})).isAutheticated,i=Object(s.c)((function(e){return e.joinCommunity.category})).selectedCategory,c=Object(s.c)((function(e){return e.joinCommunity.skills})).selectedSkills,o=Object(s.c)((function(e){return e.joinCommunity.userInfo})),l=Object(s.c)((function(e){return e.joinCommunity.community})),u=l.entities,d=l.status,b=Object(s.c)(jt),h=Object(s.c)(ht),f=Object(s.c)(xt),O=Object(s.c)(ft),v=Object(x.useState)(!1),g=Object(j.a)(v,2),y=g[0],w=g[1],k=Object(x.useState)(null),C=Object(j.a)(k,2),N=C[0],A=C[1],I=function(){w(!1),A(null)},E=function(){var n=Object(p.a)(m.a.mark((function n(r){var a,i,c,s,l,u,d,j,x,O,v,g,y,k,C,S,N,T,E;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(dt(r));case 2:return n.next=4,ce();case 4:return a=n.sent,i={name:"".concat(null===o||void 0===o?void 0:o.name,"'s SkillWallet"),description:a,image:null===o||void 0===o?void 0:o.avatar,properties:{username:null===o||void 0===o?void 0:o.name,skills:h}},w(!0),c=function(n){n&&(t(Xt({isAuthenticated:!0,userInfo:o})),e.history.push("/community/success?communityAddress=".concat(b.address,"&diToCredits=").concat(f)))},s=ln(t,A,I,function(){var e=Object(p.a)(m.a.mark((function e(t){var n,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null,r=null,a=!1,e.t0=t,e.next=e.t0===qt.AlreadyMember?6:e.t0===qt.SkillWalletNotActivated||e.t0===qt.AlreadyClaimed||e.t0===qt.RetryNonce?8:e.t0===qt.SkillWalletNotClaimed||e.t0===qt.RetryClaim?21:e.t0===qt.RetryQrCode?37:e.t0===qt.RetryJoin||e.t0===qt.RetryNetwork||e.t0===qt.RetryTextile?51:53;break;case 6:return I(),e.abrupt("break",54);case 8:return e.next=10,d(b.address);case 10:return n=e.sent,console.log("TokenId: ",n),e.next=14,v(n);case 14:return r=e.sent,e.next=17,g(n);case 17:return a=e.sent,console.log("IsQrCodeActivated: ",a),c(a),e.abrupt("break",54);case 21:return e.next=23,O(b.address,!0);case 23:return e.next=25,d(b.address);case 25:return n=e.sent,console.log("TokenId: ",n),e.next=29,v(n);case 29:return r=e.sent,console.log("Nonce: ",r),e.next=33,g(n);case 33:return a=e.sent,console.log("IsQrCodeActivated: ",a),c(a),e.abrupt("break",54);case 37:return e.next=39,d(b.address);case 39:return n=e.sent,console.log("TokenId: ",n),e.next=43,v(n);case 43:return r=e.sent,console.log("Nonce: ",r),e.next=47,g(n);case 47:return a=e.sent,console.log("IsQrCodeActivated: ",a),c(a),e.abrupt("break",54);case 51:return A(null),e.abrupt("break",54);case 53:console.error("Not handled!");case 54:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=s.onEthConnection,u=s.onEthNetworkChange,d=s.onGetTokenId,j=s.onTextileBucket,x=s.onJoinMembership,O=s.onClaimMembership,v=s.onQRCodeGenerate,g=s.isQrCodeActivated,n.next=11,l();case 11:return y=n.sent,console.log("IsConnected: ",y),n.next=15,u(y);case 15:return k=n.sent,console.log("IsCorrectNetwork: ",y),n.next=19,j(k,i);case 19:return C=n.sent,console.log("BucketUrl: ",C),n.next=23,x(C,b.address,f);case 23:return S=n.sent,N=null===S||void 0===S?void 0:S.tokenId,console.log("Member: ",S),console.log("TokenId: ",N),n.next=29,O(b.address,!!S);case 29:return n.next=31,v(N);case 31:return T=n.sent,console.log("Nonce: ",T),n.next=35,g(N);case 35:E=n.sent,console.log("IsQrCodeActivated: ",E),c(E);case 38:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(x.useEffect)((function(){c.length&&i&&t(rt(i))}),[t,i,c]),Object(x.useEffect)((function(){a&&I()}),[t,a]),Object(x.useEffect)((function(){var e=null;return d===G.Idle&&(e=setInterval((function(){var e=document.querySelectorAll(".slider-single");Object(T.a)(e).forEach((function(e){var t=e.querySelector(".sw-card-front");t&&(!e.classList.contains("active")||t.classList.contains("closed")||t.classList.contains("flipped")?t.classList.remove("sw-card-tilt"):(t.classList.add("sw-card-tilt"),setTimeout((function(){t.classList.remove("sw-card-tilt")}),1500)))}))}),8e3)),function(){return e&&clearInterval(e)}}),[d]),Object(x.useEffect)((function(){2!==r&&t(pt({activeStep:2,stepperText:"Welcome to Distributed Town",title:"Step 3 - Pick your Community",description:"Here's a few communities for you (based on your skills). Choose one that inspires you the most & start adding Value to it",toPrevBtnPath:"/join-community/skills",left:null}))}),[t,f,O,r]),Object(D.jsx)(D.Fragment,{children:d===G.Loading?Object(D.jsx)(Z.a,{sx:{color:"text.primary",mt:2}}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(un,{fullScreen:n,open:y,onClose:function(){return w(!1)},dialogContent:N}),Object(D.jsx)("div",{className:"sw-communties-wrapper",children:i&&c.length?(null===u||void 0===u?void 0:u.length)?Object(D.jsx)(Qt,{slides:function(){var e=[].concat(Object(T.a)(u),[{name:"Test Closed Community",address:"0xC643138abBcb8396718D7040859fee7905c65B05",description:"For researchers & web3, open-source teams, that innovate in a liberal fashion - for a more sustainable, meritocratic world.",template:"Open-Source & DeFi",image:"https://hub.textile.io/ipfs/bafkreiaks3kjggtxqaj3ixk6ce2difaxj5r6lbemx5kcqdkdtub5vwv5mi",isDiToNativeCommunity:!1,members:24,totalMembersAllowed:24}]);return null===e||void 0===e?void 0:e.map((function(e){return Object(D.jsx)("div",{style:{height:"350px",width:"330px",marginTop:"10px",marginBottom:"10px"},children:Object(D.jsx)(jn,{community:e,onSelect:E})})}))}()}):Object(D.jsxs)(J.a,{sx:{color:"text.primary",textAlign:"center",pb:2,mt:4},component:"div",variant:"h6",children:["We could not find any communities for ",i," category, please go back and select a different category!"]}):Object(D.jsx)(J.a,{className:"no-item-selected",sx:{color:"text.primary",textAlign:"center",pb:2},component:"div",variant:"body2",children:"No skills were selected, go back and select some skills before selecting a community"})})]})})},xn=n(540),fn=n(549),On=n(550),vn=n(265),gn=n.n(vn),yn=n(270),wn=n(79),kn=function(e){var t=e.changeHandler,n=e.debounceTime,r=void 0===n?300:n,a=Object(x.useMemo)((function(){return He()(t,r)}),[t,r]);return Object(D.jsx)(wn.c,{onChange:a})},Cn=["children","initialValues","changeHandler"],Sn=function(e){var t=e.children,n=e.initialValues,r=e.changeHandler,a=Object(yn.a)(e,Cn),i=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsx)(wn.b,Object(h.a)(Object(h.a)({onSubmit:i,initialValues:n},a),{},{children:function(e){return Object(D.jsxs)("form",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},autoComplete:"off",children:[Object(D.jsx)(kn,{changeHandler:r}),t(e)]})}}))},Nn=n(528);n(446);var An=function(e){var t=e.skills,n=e.state,r=e.updateSkill,a=e.totalSkills;return Object(D.jsx)(Be.a,{className:"sw-skill-card",sx:{display:"flex",boxShadow:0,backgroundColor:"transparent"},children:Object(D.jsx)(ze.a,{sx:{flex:"1 0 auto",width:"100%",p:"16px"},children:Object(D.jsx)(ge.a,{className:"sw-skill-list",children:t.map((function(e,t){var i=n[e],c=(!i||0===i)&&3===(null===a||void 0===a?void 0:a.length),s=i>0,o=vt[Object(C.bb)(e)];return Object(D.jsx)(ye.a,{disabled:c,sx:{height:"48px",opacity:1,alignItems:"center",borderColor:s?"background.paper":"primary.main",bgcolor:c?"currentColor":s?"primary.main":"background.paper",boxShadow:s?1:0,"&.Mui-disabled":{opacity:1}},children:Object(D.jsxs)(Nn.a,{sx:{width:"100%"},direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",children:[void 0===o?Object(D.jsx)("div",{className:"sw-skill-icon"}):Object(D.jsx)(o,{className:"sw-skill-icon ".concat(s?"active":""),height:"18px"}),Object(D.jsx)(J.a,{sx:{width:"100%",ml:"14px"},color:s?"text.primary":"primary.main",component:"div",variant:"subtitle2",align:"left",children:e}),Object(D.jsx)(wn.a,{name:e,render:function(t){return Object(D.jsx)(C.M,{name:e,value:t.input.value||0,onChange:t.input.onChange,onChangeCommitted:function(t,n){r({xp:n,skill:e})},step:1,mode:s?"white":"black",marks:!0,min:0,max:10,disabled:c})}})]})},t)}))})})})},Tn=(n(447),function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.joinCommunity.currentStep})).activeStep,n=Object(s.c)((function(e){return e.joinCommunity.skills})),r=n.entities,a=n.status,i=n.skillSelectedCategory,c=Object(s.c)((function(e){return e.joinCommunity.category})).selectedCategory,l=Object(x.useState)(!1),u=Object(j.a)(l,2),d=u[0],b=u[1],h=Object(x.useState)(Object(s.c)((function(e){return e.joinCommunity.skills.selectedSkills}))),f=Object(j.a)(h,1)[0],O=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){c&&c!==i&&e(nt(c))}),[e,i,c]),Object(x.useEffect)((function(){1!==t&&e(pt({activeStep:1,stepperText:"Welcome to Distributed Town",title:"Step 2 - Pick your Skills",description:"Pick your skills (1-to-3) that you want to offer, & recieve the Credits you deserve!",toPrevBtnPath:"/join-community/user-info",descriptionTooltip:"Tell your community about the Experience you have."}))}),[e,t]),Object(D.jsx)(Sn,{changeHandler:O,initialValues:f.reduce((function(e,t){return e[null===t||void 0===t?void 0:t.skill]=(null===t||void 0===t?void 0:t.xp)||0,e}),{}),children:function(t){var n=t.values,c=Object.keys(n).filter((function(e){return 0!==n[e]})).map((function(e){return{skill:e}})),s=3===c.length;return a===G.Loading?Object(D.jsx)(Z.a,{sx:{color:"text.primary",mt:2}}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"sw-skill-wrapper",children:i?(null===r||void 0===r?void 0:r.length)?r.map((function(t,r){var a,i=t.credits,o=t.skills,l=t.subCat,u=c.some((function(e){var t=e.skill;return-1!==o.indexOf(t)}));return Object(D.jsxs)(xn.a,{disableGutters:!0,elevation:0,disabled:!u&&s,square:!0,expanded:d===r,sx:{p:0,mt:3,width:"100%",".MuiAccordionSummary-root":{minHeight:"43px"}},onChange:(a=r,function(e,t){b(!!t&&a)}),children:[Object(D.jsx)(fn.a,{sx:{m:0,height:"43px"},expandIcon:Object(D.jsx)(gn.a,{}),children:Object(D.jsxs)(J.a,{sx:{m:0,lineHeight:"43px"},component:"div",variant:"h3",color:d===r?"text.primary":"primary.main",children:[l,Object(D.jsx)(J.a,{sx:{ml:1},component:"span",variant:"subtitle1",color:"info.dark",children:Object(D.jsxs)("small",{children:["(",i," Credits)"]})})]})}),Object(D.jsx)(On.a,{sx:{p:0},children:d===r&&Object(D.jsx)(An,{state:n,totalSkills:c,skills:o,updateSkill:function(t){return e(ut(t))}},l)})]},"acc-".concat(r))})):Object(D.jsxs)(J.a,{sx:{color:"text.secondary",textAlign:"center",pb:2,mt:4},component:"div",variant:"body1",children:["We could not find any skills for ",i," category, please go back and select a different category!"]}):Object(D.jsx)(J.a,{className:"no-item-selected",sx:{color:"text.secondary",textAlign:"center",pb:2},component:"div",variant:"body1",children:"No category was selected, go back to select one!"})}),Object(D.jsx)("div",{className:"bottom-action",children:Object(D.jsx)(C.F,{disabled:0===(null===c||void 0===c?void 0:c.length)||a===G.Loading,component:o.b,to:"/join-community/communities",label:"Next: Claim your Memebership!"})})]})}})}),In=n(532),En=(n(448),function(){return Object(D.jsx)(C.K,{children:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(J.a,{sx:{color:"text.primary",mb:1},component:"div",variant:"h6",align:"center",children:Object(D.jsx)("p",{children:"Welcome to Distributed Town \ud83c\udfd9"})}),Object(D.jsxs)("p",{children:["Distributedd town is a fully pseudonymous, skill-based ecosystem. ",Object(D.jsx)("br",{})]}),Object(D.jsx)("p",{className:"mt-4 mb-4",children:"In the next several steps you\u2019ll be customizing your profile, picking your skills, and receiving your first Community Credits \ud83d\ude4c"}),Object(D.jsx)("p",{children:"Have fun, and enjoy your first universal citizenship \ud83d\ude0e"})]})},"user-info-1")}),Fn=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.joinCommunity.currentStep})).activeStep,n=Object(x.useState)(Object(s.c)((function(e){return e.joinCommunity.userInfo}))),r=Object(j.a)(n,1)[0],a=function(){var t=Object(p.a)(m.a.mark((function t(n){var a,i,c,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.values,i=a.avatar,(c=a.name)!==(null===r||void 0===r?void 0:r.name)&&e(mt(c)),i===(null===r||void 0===r?void 0:r.avatar)){t.next=11;break}if(!i||"string"===typeof i){t.next=10;break}return t.next=6,Object(C.ab)(i);case 6:s=t.sent,e(bt(s)),t.next=11;break;case 10:e(bt(null));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.useEffect)((function(){0!==t&&e(pt({activeStep:0,title:"Step 1 - Tell us about you",description:"Lorem consetetur sadipscing elitr, sed diam nonumy eirmod",toPrevBtnPath:"/join-community/categories",left:En}))}),[e,t]),Object(D.jsx)("div",{className:"sw-user-info-wrapper",children:Object(D.jsx)(Sn,{changeHandler:a,initialValues:r,children:function(e){var t=e.values;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{className:"sw-form-field",children:[Object(D.jsx)(J.a,{sx:{color:"text.primary",mb:"4px"},component:"div",variant:"h3",children:"Nickname"}),Object(D.jsx)(J.a,{sx:{color:"text.primary",mb:"12px"},component:"div",variant:"body2",children:"What would you like your community to call you?"}),Object(D.jsx)("div",{className:"sw-form-field-content",children:Object(D.jsx)(wn.a,{name:"name",render:function(e){var t;return Object(D.jsx)(In.a,{name:e.input.name,value:e.input.value,onChange:e.input.onChange,autoFocus:!0,required:!0,focused:!0,error:e.meta.touched&&e.meta.pristine&&!e.input.value,color:"secondary",placeholder:"Required Field",inputProps:{maxLength:20},helperText:Object(D.jsxs)(J.a,{sx:{color:"text.primary"},align:"right",component:"span",variant:"body2",children:["Max characters ",20-((null===(t=e.input.value)||void 0===t?void 0:t.length)||0)]})})}})})]}),Object(D.jsxs)("div",{className:"sw-form-field",children:[Object(D.jsx)(J.a,{sx:{color:"text.primary",mb:"4px"},component:"div",variant:"h3",children:"Avatar"}),Object(D.jsx)(J.a,{sx:{color:"text.primary",mb:"12px"},component:"div",variant:"body2",children:"A public image - that's how others will see you."}),Object(D.jsx)("div",{className:"sw-form-field-content sw-image-upload",children:Object(D.jsx)("div",{className:"sw-field-upload",children:Object(D.jsxs)("div",{children:[Object(D.jsx)(wn.a,{name:"avatar",render:function(e){return Object(D.jsx)(C.O,{name:e.input.name,initialPreviewUrl:e.input.value,fileChange:e.input.onChange,sx:{width:"110px",height:"110px"}})}}),Object(D.jsx)(J.a,{sx:{color:"text.primary"},align:"right",component:"div",variant:"body2",children:".png or .jpg"})]})})})]}),Object(D.jsx)("div",{className:"bottom-action",children:Object(D.jsx)(C.F,{type:"button",disabled:!(null===t||void 0===t?void 0:t.name)||!(null===t||void 0===t?void 0:t.avatar),component:o.b,to:"/join-community/skills",label:"Next: Pick your Skills"})})]})}})})},Ln=function(e){var t=e.largeDevice;return Object(D.jsxs)(De.a,{sx:{width:"100%",display:"flex",flexDirection:"column",gridGap:90},children:[Object(D.jsx)(De.a,{className:"sw-box-logo",children:Object(D.jsx)(C.i,{height:t?"76px":"80px"})}),Object(D.jsx)(C.K,{children:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("p",{children:["Have you ever thought, ",Object(D.jsx)("br",{}),'"I would like to contribute, but ..."']}),Object(D.jsx)("p",{className:"mt-4 mb-4",children:"Distributed Town (DiTo) lets you create or join a community with one click."})]})})]})},Rn=function(e){var t=e.largeDevice;return Object(D.jsxs)(De.a,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[Object(D.jsx)(De.a,{className:"sw-box-logo",sx:{marginTop:"75px"},children:Object(D.jsx)(C.j,{height:t?"76px":"80px"})}),Object(D.jsx)(C.K,{className:"sw-box-user-info",children:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(J.a,{sx:{color:"text.primary",mb:6},fontWeight:"bold",component:"div",variant:"h2",align:"center",children:Object(D.jsx)("p",{children:"Welcome to Distributed Town"})}),Object(D.jsxs)("p",{children:["Distributedd town is a fully pseudonymous, skill-based ecosystem. ",Object(D.jsx)("br",{})]}),Object(D.jsx)("p",{className:"mt-4 mb-4",children:"In the next several steps you\u2019ll be customizing your profile, picking your skills, and receiving your first Community Credits"}),Object(D.jsx)("p",{children:"Have fun, and enjoy your first universal citizenship"})]})})]})};n(449);var Pn=function(){var e=Object(s.c)(xt),t=Object(s.c)(ft),n=Object(s.c)((function(e){return e.joinCommunity.userInfo}));return Object(D.jsx)(C.K,{showBorder:!1,className:"sw-credits",children:Object(D.jsx)(kt,{showCreditAmount:!0,username:null===n||void 0===n?void 0:n.name,avatar:null===n||void 0===n?void 0:n.avatar,creditSkills:t,totalCredits:e})})},Wn=function(e){var t=e.largeDevice;return Object(D.jsxs)(De.a,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[Object(D.jsx)(De.a,{className:"sw-box-logo",sx:{marginTop:"75px"},children:Object(D.jsx)(C.j,{height:t?"76px":"80px"})}),Object(D.jsx)(Pn,{})]})},Mn=(n(450),function(e){var t=Object(s.b)(),n=Object(s.c)((function(e){return e.joinCommunity.currentStep})),r=n.description,a=n.title,i=n.activeStep,c=n.descriptionTooltip,l=n.toPrevBtnPath,u=n.stepperText,d=Object(Y.a)((function(e){return e.breakpoints.down("md")})),b=Object(x.useState)(Object(T.a)(Array(3))),m=Object(j.a)(b,1)[0],p=Object(x.useState)(!0),f=Object(j.a)(p,2),O=f[0],v=f[1],y=function(){return v(!O)};return Object(x.useEffect)((function(){v(!d)}),[d]),Object(x.useEffect)((function(){return function(){t(ot())}}),[t]),Object(D.jsx)("div",{className:"sw-join-base-container",children:Object(D.jsx)(C.H,{hideTop:!0,scrollbarStyles:{height:"100%"},top:null,drawer:Object(D.jsx)(C.L,{width:"530px",mode:"close",preventClose:!0,handleToggle:y,sidebarTopIcon:null,mobile:d,open:O,sx:{paddingX:0},children:Object(D.jsx)(De.a,{sx:{height:"100%",px:7},className:"sw-box",children:Object(D.jsxs)(k.c,{children:[Object(D.jsx)(k.a,Object(h.a)({path:"/join-community/categories",component:Ln},e)),Object(D.jsx)(k.a,Object(h.a)({path:"/join-community/user-info",component:Rn},e)),Object(D.jsx)(k.a,Object(h.a)({path:"/join-community/skills",component:Wn},e)),Object(D.jsx)(k.a,Object(h.a)({path:"/join-community/communities",component:Wn},e))]})})}),children:Object(D.jsxs)(De.a,{sx:{p:0,m:0,gridGap:"0"},className:"sw-box",children:[Object(D.jsx)("div",{className:"sw-menu-icon",children:d&&Object(D.jsx)(X.a,{title:"Open sidebar",placement:"right",color:"white",children:Object(D.jsx)(Q.a,{className:"sw-toolbar-button",color:"info",onClick:y,children:Object(D.jsx)(g.a,{})})})}),Object(D.jsxs)(De.a,{sx:{maxWidth:-1!==i?"650px":"100%",flexGrow:1},className:"sw-box-right-inner",children:[Object(D.jsx)(C.N,{stepperText:u,title:a,steps:m,description:r,activeStep:i,descriptionTooltip:c,backButton:Object(D.jsxs)(Re.a,{to:l||"/",size:"small",color:"info",component:o.b,children:[Object(D.jsx)(_t.a,{sx:{marginTop:"-3px"}}),"Back"]})}),Object(D.jsx)(De.a,{className:"sw-box",sx:{maxWidth:-1===i?"100%":"450px",width:"100%",margin:"20px auto"},children:Object(D.jsxs)(k.c,{children:[Object(D.jsx)(k.a,Object(h.a)({path:"/join-community/categories",component:gt},e)),Object(D.jsx)(k.a,Object(h.a)({path:"/join-community/user-info",component:Fn},e)),Object(D.jsx)(k.a,Object(h.a)({path:"/join-community/skills",component:Tn},e)),Object(D.jsx)(k.a,Object(h.a)({path:"/join-community/communities",component:hn},e))]})})]})]})})})}),Dn=(n(451),function(){var e=Object(Y.a)((function(e){return e.breakpoints.up("lg")}));return Object(D.jsxs)("div",{className:"sw-get-started-container",children:[Object(D.jsxs)(De.a,{sx:{p:0,m:0},className:"sw-box",children:[Object(D.jsx)(De.a,{className:"sw-box-logo",children:Object(D.jsx)(C.i,{height:e?"76px":"80px"})}),Object(D.jsx)(C.K,{children:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("p",{children:[Object(D.jsx)("strong",{children:"Distributed Town"})," is a new financial infrastructure for public goods, designed for the real world."]}),Object(D.jsx)("p",{children:"It\u2019s built upon mutual, collaborative economics between individuals and communities - and a universal identity management based on skills, rather than personal data."})]})})]}),Object(D.jsx)(C.G,{width:"1px",orientation:e?"vertical":"horizontal"}),Object(D.jsxs)(De.a,{sx:{p:0,m:0},className:"sw-box",children:[Object(D.jsx)(De.a,{className:"sw-box-title",children:Object(D.jsxs)(J.a,{color:"info",component:"div",align:"center",variant:"h1",children:["This is ",Object(D.jsx)("span",{className:"underline",children:"your Community"})]})}),Object(D.jsxs)(De.a,{className:"sw-box-actions",children:[Object(D.jsx)(C.F,{label:"Join",endIcon:Object(D.jsx)(C.q,{className:"sw-btn-icon",width:"45px"}),component:o.b,to:"/join-community/categories"}),Object(D.jsx)(Ye.a,{badgeContent:Object(D.jsx)(X.a,{title:"Coming soon!",children:Object(D.jsx)(wt.a,{sx:{bgcolor:"text.primary",color:"primary.main",borderRadius:"50%",fontSize:"1.2rem",position:"absolute"}})}),children:Object(D.jsx)(C.F,{endIcon:Object(D.jsx)(C.f,{className:"sw-btn-icon",width:"45px"}),disabled:!0,label:"Create",component:o.b,to:"/community/create"})})]})]})]})}),Bn=encodeURIComponent(Object(w.renderToStaticMarkup)(Object(D.jsx)(C.s,{}))),_n=function(){return Object(D.jsx)("div",{className:"app-loading",children:Object(D.jsx)(C.j,{width:"80",height:"80"})})};function Gn(){return Object(D.jsx)(J.a,{color:"background.paper",sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},variant:"h3",children:"404 Not found!"})}var zn=function(e){return Object(D.jsxs)(k.c,{children:[Object(D.jsx)(k.a,Object(h.a)({path:"/community",component:Bt},e)),Object(D.jsx)(k.a,{path:"*",component:Gn})]})},Un=function(e){return Object(D.jsxs)(k.c,{children:[Object(D.jsx)(k.a,Object(h.a)({exact:!0,component:Dn,path:"/"},e)),Object(D.jsx)(k.a,Object(h.a)({component:Mn,path:"/join-community"},e)),Object(D.jsx)(k.a,{path:"*",component:Gn})]})},Hn=Object(k.g)((function(e){var t,n,r=S(),a=Object(x.useState)(!0),i=Object(j.a)(a,2),c=i[0],o=i[1],l=Object(x.useState)(!1),u=Object(j.a)(l,2),d=u[0],b=u[1],f=Object(x.useState)(!1),v=Object(j.a)(f,2),w=v[0],k=v[1],N=Object(x.useState)(!0),A=Object(j.a)(N,2),T=A[0],I=A[1],E=Object(Y.a)((function(e){return e.breakpoints.down("md")})),F=Object(s.c)((function(e){return e.auth})).isAutheticated,L=Object(s.c)((function(e){return e.ui})).logs,R=null===e||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.pathname)||void 0===n?void 0:n.includes("join-community"),P=function(){return I(!T)};Object(x.useEffect)((function(){d||b(!0)}),[d,r]),Object(x.useEffect)((function(){var t=function(){var t=Object(p.a)(m.a.mark((function t(n){var a,i,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n.detail,i=!!a,c=sessionStorage.getItem("skillWallet"),i&&c?(r(Xt({isAuthenticated:i,userInfo:JSON.parse(c)})),e.history.push("/community/dTown-hall/dashboard")):(r(Zt()),e.history.push("/"));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o(!1));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.a)(window),window.addEventListener("initSkillwalletAuth",n),window.addEventListener("onSkillwalletLogin",t),function(){window.removeEventListener("initSkillwalletAuth",n),window.removeEventListener("onSkillwalletLogin",t)}}),[F,r,e.history]),Object(x.useEffect)((function(){I(!E)}),[E]);var W=[{type:"href",label:"SkillWallet",href:"/community/skillwallet",icon:Object(D.jsx)(O.a,{component:C.D})},{type:"href",label:"dTown Hall",href:"/community/dTown-hall/dashboard",icon:Object(D.jsx)(O.a,{component:C.R})},{type:"href",label:"Notifications",href:"/community/notifications",icon:Object(D.jsx)(O.a,{component:C.w})},{type:"href",label:"Settings",href:"/community/settings",icon:Object(D.jsx)(O.a,{component:C.C})},{type:"href",label:"Community",href:"/community/success?communityAddress=0xC643138abBcb8396718D7040859fee7905c65B05&diToCredits=2060",icon:Object(D.jsx)(O.a,{component:C.p})}];return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(V,{open:w,handleClose:function(){return k(!1)},logs:L,fullScreen:E}),Object(D.jsx)(_,{}),Object(D.jsx)(C.H,{hideTop:R,className:c?"loading":"",disableGutters:R,scrollbarStyles:{height:R?"100%":"calc(100% - 50px)"},top:Object(D.jsxs)("div",{className:"top-bar",style:{visibility:c?"hidden":"visible"},children:[Object(D.jsx)("div",{className:"left",children:E&&F&&Object(D.jsx)(X.a,{title:"Open sidebar",placement:"right",color:"white",children:Object(D.jsx)(Q.a,{className:"sw-sidebar-close-button",color:"info",onClick:P,children:Object(D.jsx)(g.a,{})})})}),!F&&Object(D.jsx)("div",{className:"border-middle",style:{width:"1px",height:"50px",opacity:"0.8",backgroundColor:"white"}}),Object(D.jsx)("div",{className:"right",children:Object(D.jsx)("skillwallet-auth",{style:{visibility:R?"hidden":"visible"},mode:"light",allowCreateNewUser:!1,id:"walletButton"})})]}),backgroundUrl:"url('data:image/svg+xml;utf8, ".concat(Bn,"')"),drawer:F&&Object(D.jsx)(C.L,{handleToggle:P,sidebarTopIcon:C.j,mobile:E,open:T,mode:"dock",preventClose:!1,children:Object(D.jsx)(C.I,{handleToggle:function(){return P()},mobile:E,open:T,menuItems:W})}),children:c?Object(D.jsx)(_n,{}):F?Object(D.jsx)(zn,Object(h.a)({},e)):Object(D.jsx)(Un,Object(h.a)({},e))})]})})),Jn=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,553)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))},Qn=n(266),qn=n.n(Qn),Kn=n(267),Vn=n.n(Kn),Yn=n(268),Xn=n.n(Yn),Zn=n(54),$n={key:"appState",storage:Vn.a,stateReconciler:Xn.a,blacklist:["auth"]},er=Object(Zn.b)({joinCommunity:Ot,auth:$t,ui:M,community:ve}),tr=Object(l.a)($n,er),nr=Object(I.a)({middleware:function(e){return e({serializableCheck:!1}).concat(qn.a)},reducer:tr}),rr=n(189),ar=n(516),ir={type:"dark",background:{default:"#161615",paper:"#FFFFFF"},text:{secondary:"#D8D8D8",primary:"#FFFFFF",disabled:"#CCCCCC"},primary:{main:"#161615"},secondary:{main:"#8F37AA"},info:{main:"#FFFFFF",dark:"#7C7C7C"}},cr=Object(rr.a)({components:{MuiCssBaseline:{styleOverrides:"\n          .Mui-disabled {\n            color: ".concat(ir.text.disabled,";\n          }\n        ")},MuiTooltip:{defaultProps:{TransitionComponent:ar.a},styleOverrides:{tooltip:{border:"3px solid",borderColor:ir.text.primary,borderRadius:"4px",backgroundColor:ir.background.default,boxSizing:"border-box"}}},MuiUseMediaQuery:{defaultProps:{noSsr:!0}},MuiDialogContent:{styleOverrides:{root:{borderStyle:"solid",borderWidth:"1px",borderColor:ir.text.primary}}}},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}},palette:ir,shape:{borderRadius:0},shadows:Object(C.Y)(ir.secondary.main),typography:{fontSize:16,button:{fontSize:"1.25rem"},body1:{fontSize:"0.875rem"},body2:{fontSize:"0.75rem"},subtitle1:{fontSize:"1rem"},subtitle2:{fontSize:"0.875rem"},h1:{fontSize:"1.875rem"},h2:{fontSize:"1.25rem"},h3:{fontSize:"1.125rem"},h4:{fontSize:"0.875rem"},h5:{fontSize:"0.75rem"},h6:{fontSize:"0.625rem"},xl:{fontSize:"50px"},xxl:{fontSize:"60px"},fontFamily:["Josefin Sans"," sans-serif"].join(",")}}),sr=(n(454),Object(l.b)(nr));c.a.render(Object(D.jsx)(r.a,{injectFirst:!0,children:Object(D.jsx)(a.a,{theme:cr,children:Object(D.jsx)(o.a,{basename:"/",children:Object(D.jsx)(s.a,{store:nr,children:Object(D.jsxs)(u.a,{persistor:sr,children:[Object(D.jsx)(d.a,{}),Object(D.jsx)(Hn,{})]})})})})}),document.getElementById("root")),Jn()}},[[455,2,3]]]);
//# sourceMappingURL=main.9c64fde7.chunk.js.map