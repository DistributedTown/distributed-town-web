{"version":3,"sources":["utils/to-base-64.ts","api/textile-bucket.api.ts","../node_modules/@skill-wallet/auth/dist/esm lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object","store/status.ts","auth/auth.reducer.ts","pages/community/join/store/join.api.ts","pages/community/join/store/join.reducer.ts","store/store.ts","auth/Web3Provider.tsx","auth/Web3jsComponent.tsx","pages/community/community.tsx","pages/community/join/base/join-base.tsx","pages/community/join/categories/categories.tsx","pages/community/join/skills/skill-card.tsx","pages/community/join/skills/skills.tsx","api/skillwallet.api.ts","pages/community/join/store/model.ts","pages/community/join/communities/community-card.tsx","api/model.ts","utils/parse-smart-contact-error.ts","api/ethereum-network.api.ts","utils/async-poller.ts","auth/connector.ts","pages/community/join/communities/claim-membership-handlers.tsx","pages/community/join/communities/claim-membership-dialog.tsx","pages/community/join/communities/community-credits.tsx","pages/community/join/communities/communities.tsx","pages/community/join/user-info/user-info.tsx","pages/community/join/join.tsx","pages/get-started/get-started.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","isBase64","str","trim","btoa","atob","err","base64toFile","dataurl","filename","Error","split","metadata","base64","mime","match","bstr","n","length","u8arr","Uint8Array","charCodeAt","File","type","keyInfo","key","process","secret","uploadImageToTextileBucket","content","a","Buckets","withKeyInfo","buckets","getOrCreate","root","pushPath","links","path","generateTextileBucketUrl","image","arrayBuffer","buf","Buffer","from","JSON","stringify","map","webpackAsyncContext","req","__webpack_require__","o","then","e","code","ids","id","keys","Object","module","exports","ResultState","initialState","isAutheticated","web3jsInstance","userAddress","authSlice","createSlice","name","reducers","setAuthenticated","state","action","payload","setWeb3jsInstance","setUserAddress","resetAuthState","actions","getCategories","setTimeout","getSkills","categoryId","fetch","encodeURIComponent","method","res","json","categories","catch","getCommunties","fetchCategories","createAsyncThunk","fetchSkills","fetchCommunities","userInfo","avatar","category","entities","selectedCategory","status","Idle","community","communitySelectedCategory","selectedCommunityName","skills","skillSelectedCategory","selectedSkills","joinCommunitySlice","updateName","updateAvatarUrl","selectCategory","selectCommunity","updateSkill","skill","index","findIndex","x","splice","toggleSkill","xp","resetJoinCommunityState","extraReducers","builder","addCase","pending","Loading","fulfilled","getCommunity","createSelector","x1","joinCommunity","find","getFormattedSkills","reduce","prev","curr","value","getCredits","entity","some","s","credits","toString","getSkillCredits","percentage","persistConfig","storage","stateReconciler","autoMergeLevel2","blacklist","combineReducers","joinCommunitySliceReducer","auth","authSliceReducer","persistedReducer","persistReducer","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","concat","logger","reducer","useAppDispatch","useDispatch","getLibrary","provider","library","EthersWeb3Provider","pollingInterval","Web3Provider","children","Web3jsComponent","useWeb3React","active","connector","dispatch","useSelector","useEffect","getProvider","instance","Web3","console","log","eth","getAccounts","accounts","Topic","width","height","Community","props","to","component","JoinBaseLayout","left","right","prevBtn","nextBtn","className","largeDevice","useMediaQuery","theme","breakpoints","up","Box","sx","p","m","gridGap","orientation","CircularProgress","color","boxShadow","Categories","small","down","mobile","mobileStartText","Typography","textAlign","pb","variant","List","display","padding","gridTemplateColumns","gridAutoRows","ListItem","disablePadding","whiteSpace","overflow","textOverflow","onClick","startIcon","label","Link","disabled","endIcon","SkillCard","Card","flexDirection","CardContent","flex","alignItems","pl","pr","currentSkill","minHeight","Accordion","disableGutters","elevation","square","expanded","AccordionSummary","AccordionDetails","align","Badge","badgeContent","Tooltip","title","arrow","fontSize","position","Stack","spacing","direction","mb","Slider","valueLabelDisplay","step","marks","min","max","defaultValue","onChangeCommitted","_","borderRadius","Skills","subCat","mt","skillWalletAbi","inputs","internalType","stateMutability","anonymous","indexed","outputs","communityAbi","NoEventException","this","message","ClaimMembershipErrorTypes","getSkillWalletDescription","getSkillWalletAddress","claimCommunityMembershipContract","communityAddress","ethers","providers","window","ethereum","signer","getSigner","skillWalletAddress","contract","Contract","claim","claimTx","wait","claimTransactionResult","events","claimedEvent","event","data","args","getTokenIdContract","skillwalletAddress","isSkillWalletRegistered","selectedAddress","getSkillWalletIdByOwner","tokenId","executeCommunityContract","url","joinNewMember","toWei","createTx","communityTransactionResult","memberJoinedEvent","communityCredits","hasPendingAuthentication","address","response","generateNonce","nonce","CommunityCard","NonceActions","onSelect","inactive","members","totalMembersAllowed","CardActionArea","CardHeader","bgcolor","py","Avatar","src","subheader","px","scarcityScore","pt","description","ParseSWErrorMessage","skillWalletMsg","switchToEtheremNetwork","request","params","chainId","chainName","nativeCurrency","symbol","decimals","rpcUrls","blockExplorerUrls","ms","asyncPoll","fn","fnCondition","maxRetries","injected","InjectedConnector","supportedChainIds","DialogLoadingMessage","subtitle","onCancel","DialogErrorMessage","DialogAdditionalActionNeeded","actionLabel","handleAdditionalAction","OnClaimMembershipHandlers","setDialogContent","handleClose","onEthConnection","activate","isAuthorized","isConnected","RetryNetwork","onEthNetworkChange","isCorrectNetwork","onTextileBucket","metadataJson","RetryTextile","onJoinMembership","buckerUrl","String","includes","AlreadyMember","SkillWalletNotActivated","SkillWalletNotClaimed","RetryJoin","onClaimMembership","hasJoinedCommunity","AlreadyClaimed","RetryClaim","onGetTokenId","RetryTokenId","onQRCodeGenerate","Activate","logoWidth","logoHeight","bgColor","size","justifyContent","marginTop","RetryNonce","onAuthenticate","condition","hasPendingAuth","RetryAuth","ClaimMembershipDialog","open","dialogContent","fullScreen","dialogSize","minWidth","Dialog","onClose","DialogContent","NoBorderLinearProgress","styled","LinearProgress","border","palette","background","paper","linearProgressClasses","colorPrimary","backgroundColor","bar","primary","main","CommunityCredits","totalCredits","creditSkills","paddingLeft","Number","ml","mr","Communities","extraSmall","selectedCommunity","formattedSkills","useState","setOpen","setTokenId","setNonce","claimMembership","properties","username","bucketUrl","member","isAuthenticated","UserInfo","debouncedChangeHandler","useMemo","debounce","target","cancel","TextField","autoFocus","inputProps","maxLength","onChange","helperText","initialPreviewUrl","fileChange","Join","GetStarted","svgString","renderToStaticMarkup","Home","style","LoadingMessage","PrivateRoutes","AuthRoutes","exact","withRouter","isLoading","setLoading","onSWLogin","defineCustomElements","addEventListener","timeout","clearTimeout","removeEventListener","menuItems","href","icon","SvgIcon","JoinSelSvg","localStorage","removeItem","history","push","location","reload","top","visibility","allowCreateNewUser","backgroundUrl","drawer","sidebarTop","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","persistor","persistStore","createTheme","components","MuiUseMediaQuery","defaultProps","noSsr","MuiDialogContent","styleOverrides","borderStyle","borderWidth","borderColor","values","xs","sm","md","lg","xl","text","secondary","shape","typography","fontFamily","join","ReactDOM","render","StyledEngineProvider","injectFirst","ThemeProvider","basename","document","getElementById"],"mappings":"oNAAaA,EAAW,SAACC,GACvB,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAcN,GACrBI,EAAOG,OAAS,kBAAML,EAAQE,EAAOI,SACrCJ,EAAOK,QAAU,SAACC,GAAD,OAAWP,EAAOO,QAI1BC,EAAW,SAACC,GACvB,GAAY,KAARA,GAA6B,KAAfA,EAAIC,OACpB,OAAO,EAET,IACE,OAAOC,KAAKC,KAAKH,MAAUA,EAC3B,MAAOI,GACP,OAAO,IAIEC,EAAe,WAAqC,IAApCC,EAAmC,uDAAzB,GAAIC,EAAqB,uCAC9D,IAAKD,EACH,MAAM,IAAIE,MAAM,2BAElB,MAA2BF,EAAQG,MAAM,KAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACMC,EAAOF,EAASG,MAAM,WAAW,GAEvC,IAAKd,EAASY,GACZ,MAAM,IAAIH,MAAM,qCAOlB,IALA,IAAMM,EAAOX,KAAKQ,GACdI,EAAID,EAAKE,OACPC,EAAQ,IAAIC,WAAWH,GAGtBA,KACLE,EAAMF,GAAKD,EAAKK,WAAWJ,GAG7B,OAAO,IAAIK,KAAK,CAACH,GAAQV,EAAU,CAAEc,KAAMT,M,8HCnCvCU,EAAU,CACdC,IAAKC,8BACLC,OAAQD,4CAGH,SAAeE,EAAtB,kC,4CAAO,WAA0CC,GAA1C,qBAAAC,EAAA,sEACiBC,IAAQC,YAAYR,GADrC,cACCS,EADD,gBAEkBA,EAAQC,YAAYR,eAFtC,mBAEGS,EAFH,EAEGA,KAFH,sBAGY,IAAIzB,MAAM,sBAHtB,qCAKeuB,EAAQG,SAASD,EAAKV,IALrC,cAKgDI,GALhD,eAKCQ,EALD,yDAM2BA,EAAMC,KAAKA,OANtC,6C,sBASA,IAAMC,EAAwB,uCAAG,WAAO3B,GAAP,2BAAAkB,EAAA,sEAChBC,IAAQC,YAAYR,GADJ,cAChCS,EADgC,gBAEfA,EAAQC,YAAYR,eAFL,mBAE9BS,EAF8B,EAE9BA,KAF8B,sBAGrB,IAAIzB,MAAM,sBAHW,WAKlCE,EAAS4B,MALyB,wBAM9BlD,EAAOiB,YAAaK,EAAS4B,MAAO,UANN,UAOVlD,EAAKmD,cAPK,eAO9BA,EAP8B,iBAQbb,EAA2Ba,GARd,QAQpC7B,EAAS4B,MAR2B,sBAWhCE,EAAMC,EAAOC,KAAKC,KAAKC,UAAUlC,EAAU,KAAM,IAC1C,gBAZyB,UAalBqB,EAAQG,SAASD,EAAKV,IAD7B,gBACwCiB,GAbf,eAahCL,EAbgC,yDAcNA,EAAMC,KAAKA,OAdL,4CAAH,wD,yFClBrC,IAAIS,EAAM,CACT,2BAA4B,CAC3B,IACA,IAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAO1D,QAAQC,UAAU4D,MAAK,WAC7B,IAAIC,EAAI,IAAI3C,MAAM,uBAAyBuC,EAAM,KAEjD,MADAI,EAAEC,KAAO,mBACHD,KAIR,IAAIE,EAAMR,EAAIE,GAAMO,EAAKD,EAAI,GAC7B,OAAOL,EAAoBG,EAAEE,EAAI,IAAIH,MAAK,WACzC,OAAOF,EAAoBM,MAG7BR,EAAoBS,KAAO,WAC1B,OAAOC,OAAOD,KAAKV,IAEpBC,EAAoBQ,GAAK,IACzBG,EAAOC,QAAUZ,G,qhBCvBLa,E,uPCQNC,EAA0B,CAC9BC,gBAAgB,EAChBC,eAAgB,KAChBC,YAAa,MAGFC,EAAYC,YAAY,CACnCC,KAAM,OACNN,eACAO,SAAU,CACRC,iBADQ,SACSC,EAAOC,GACtBD,EAAMR,eAAiBS,EAAOC,SAEhCC,kBAJQ,SAIUH,EAAOC,GACvBD,EAAMP,eAAiBQ,EAAOC,SAEhCE,eAPQ,SAOOJ,EAAOC,GACpBD,EAAMN,YAAcO,EAAOC,SAE7BG,eAAgB,kBAAMd,MAInB,EAAgFI,EAAUW,QAAlFP,EAAR,EAAQA,iBAAkBI,EAA1B,EAA0BA,kBAAmBC,EAA7C,EAA6CA,eAAgBC,EAA7D,EAA6DA,eAErDV,IAAf,Q,kBDjCYL,K,YAAAA,E,kBAAAA,E,iBAAAA,M,kBECCiB,EAAa,uCAAG,sBAAAhD,EAAA,+EAC3B,IAAIvC,SAAQ,SAACC,GACXuF,YAAW,WACTvF,EAAQ,CACN,CACEgE,GAAI,EACJY,KAAM,cAER,CACEZ,GAAI,EACJY,KAAM,kBAER,CACEZ,GAAI,EACJY,KAAM,oBAER,CACEZ,GAAI,EACJY,KAAM,WAER,CACEZ,GAAI,EACJY,KAAM,QAER,CACEZ,GAAI,EACJY,KAAM,cAER,CACEZ,GAAI,EACJY,KAAM,YAER,CACEZ,GAAI,EACJY,KAAM,YAER,CACEZ,GAAI,EACJY,KAAM,eAER,CACEZ,GAAI,EACJY,KAAM,aAER,CACEZ,GAAI,GACJY,KAAM,cAER,CACEZ,GAAI,GACJY,KAAM,YAER,CACEZ,GAAI,GACJY,KAAM,gBAER,CACEZ,GAAI,GACJY,KAAM,gBAER,CACEZ,GAAI,GACJY,KAAM,aAGR,CACEZ,GAAI,GACJY,KAAM,cAER,CACEZ,GAAI,GACJY,KAAM,gBAER,CACEZ,GAAI,GACJY,KAAM,SAER,CACEZ,GAAI,GACJY,KAAM,mBAER,CACEZ,GAAI,GACJY,KAAM,eAER,CACEZ,GAAI,GACJY,KAAM,gBAER,CACEZ,GAAI,GACJY,KAAM,WAER,CACEZ,GAAI,GACJY,KAAM,kBAGT,SAlGsB,2CAAH,qDAqGbY,EAAS,uCAAG,WAAOC,GAAP,SAAAnD,EAAA,+EAChBoD,MAAM,GAAD,OAAIxD,+BAAJ,4BAA4DyD,mBAAmBF,IAAe,CAAEG,OAAQ,QACjHhC,MAAK,SAACiC,GAAD,OAASA,EAAIC,UAClBlC,MAAK,qBAAGmC,cACRC,OAAM,iBAAM,OAJQ,2CAAH,sDAOTC,EAAa,uCAAG,WAAOR,GAAP,SAAAnD,EAAA,+EACpBoD,MAAM,GAAD,OAAIxD,+BAAJ,mCAAmEyD,mBAAmBF,IAAe,CAAEG,OAAQ,QACxHhC,MAAK,SAACiC,GAAD,OAASA,EAAIC,UAClBE,OAAM,iBAAM,OAHY,2CAAH,sDC1EbE,EAAkBC,YAAiB,oBAAD,sBAAsB,sBAAA7D,EAAA,+EAAYgD,KAAZ,4CACxDc,EAAcD,YAAiB,kBAAD,uCAAoB,WAAOV,GAAP,SAAAnD,EAAA,+EAA8BkD,EAAUC,IAAxC,2CAApB,uDAC9BY,EAAmBF,YAAiB,qBAAD,uCAAuB,WAAOV,GAAP,SAAAnD,EAAA,+EAA8B2D,EAAcR,IAA5C,2CAAvB,uDAE1CnB,EAAmC,CACvCgC,SAAU,CACR1B,KAAM,KACN2B,OAAQ,MAEVC,SAAU,CACRC,SAAU,GACVC,iBAAkB,KAClBC,OAAQtC,EAAYuC,MAEtBC,UAAW,CACTJ,SAAU,GACVK,0BAA2B,KAC3BC,sBAAuB,KACvBJ,OAAQtC,EAAYuC,MAEtBI,OAAQ,CACNC,sBAAuB,KACvBR,SAAU,GACVS,eAAgB,GAChBP,OAAQtC,EAAYuC,OAIXO,EAAqBxC,YAAY,CAC5CC,KAAM,gBACNN,eACAO,SAAU,CACRuC,WADQ,SACGrC,EAAOC,GAChBD,EAAMuB,SAAS1B,KAAOI,EAAOC,SAE/BoC,gBAJQ,SAIQtC,EAAOC,GACrBD,EAAMuB,SAASC,OAASvB,EAAOC,SAEjCqC,eAPQ,SAOOvC,EAAOC,GACpBD,EAAMyB,SAASE,iBAAmB1B,EAAOC,SAE3CsC,gBAVQ,SAUQxC,EAAOC,GACrBD,EAAM8B,UAAUE,sBAAwB/B,EAAOC,SAEjDuC,YAbQ,SAaIzC,EAAOC,GACjB,IAAQyC,EAAUzC,EAAOC,QAAjBwC,MACFC,EAAQ3C,EAAMiC,OAAOE,eAAeS,WAAU,SAACC,GAAD,OAAOA,EAAEH,QAAUA,KACvE1C,EAAMiC,OAAOE,eAAeW,OAAOH,EAAO,EAAG1C,EAAOC,UAEtD6C,YAlBQ,SAkBI/C,EAAOC,GACjB,IAAM0C,EAAQ3C,EAAMiC,OAAOE,eAAeS,WAAU,SAACC,GAAD,OAAOA,EAAEH,QAAUzC,EAAOC,YAC/D,IAAXyC,EACF3C,EAAMiC,OAAOE,eAAb,sBACKnC,EAAMiC,OAAOE,gBADlB,CAEE,CACEO,MAAOzC,EAAOC,QACd8C,GAAI,KAIRhD,EAAMiC,OAAOE,eAAeW,OAAOH,EAAO,IAG9CM,wBAAyB,kBAAM1D,IAEjC2D,cAAe,SAACC,GACdA,EACGC,QAAQjC,EAAgBkC,SAAS,SAACrD,GACjCA,EAAMyB,SAASG,OAAStC,EAAYgE,WAErCF,QAAQjC,EAAgBoC,WAAW,SAACvD,EAAOC,GAC1CD,EAAMyB,SAASC,SAAWzB,EAAOC,QACjCF,EAAMyB,SAASG,OAAStC,EAAYuC,QAErCuB,QAAQ/B,EAAYgC,SAAS,SAACrD,GAC7BA,EAAMiC,OAAOE,eAAiB,GAC9BnC,EAAMiC,OAAOL,OAAStC,EAAYgE,WAEnCF,QAAQ/B,EAAYkC,WAAW,SAACvD,EAAOC,GACtCD,EAAMiC,OAAOP,SAAWzB,EAAOC,QAC/BF,EAAMiC,OAAOC,sBAAwBlC,EAAMyB,SAASE,iBACpD3B,EAAMiC,OAAOL,OAAStC,EAAYuC,QAEnCuB,QAAQ9B,EAAiB+B,SAAS,SAACrD,GAClCA,EAAM8B,UAAUF,OAAStC,EAAYgE,WAEtCF,QAAQ9B,EAAiBiC,WAAW,SAACvD,EAAOC,GAC3CD,EAAM8B,UAAUJ,SAAWzB,EAAOC,QAClCF,EAAM8B,UAAUC,0BAA4B/B,EAAMyB,SAASE,iBAC3D3B,EAAM8B,UAAUF,OAAStC,EAAYuC,WAKtC,EACLO,EAAmB9B,QADNiC,EAAR,EAAQA,eAAgBU,EAAxB,EAAwBA,wBAAyBF,EAAjD,EAAiDA,YAAaN,GAA9D,EAA8DA,YAAaD,GAA3E,EAA2EA,gBAAiBF,GAA5F,EAA4FA,gBAAiBD,GAA7G,EAA6GA,WAGvGmB,GAAeC,YAAejB,IAAiB,SAACkB,GAC3D,MAA4CA,EAAGxD,QAAQyD,cAAc7B,UAA7DJ,EAAR,EAAQA,SAAUM,EAAlB,EAAkBA,sBAClB,OAAON,EAASkC,MAAK,SAAC9E,GAAD,OAAOA,EAAEe,OAASmC,QAG5B6B,GAAqBJ,YAAehB,GAAaM,GAAa,SAACW,GAE1E,OAD2BA,EAAGxD,QAAQyD,cAAc1B,OAA5CE,eACc2B,QAAO,SAACC,EAAqCC,GACjE,MAAM,GAAN,mBACKD,GADL,CAEE,CACElE,KAAMmE,EAAKtB,MACXuB,MAAOD,EAAKhB,QAGf,OAGQkB,GAAaT,YAAehB,GAAaM,GAAa,SAACW,GAClE,MAAqCA,EAAGxD,QAAQyD,cAAc1B,OAAtDE,EAAR,EAAQA,eAAgBT,EAAxB,EAAwBA,SAMxB,OAL0BS,EAAe2B,QAAO,SAACC,EAAcC,GAC7D,IAAMG,EAASzC,EAASkC,MAAK,qBAAG3B,OAAoBmC,MAAK,SAACC,GAAD,OAAOA,IAAML,EAAKtB,YAE3E,OADAqB,KAAe,OAANI,QAAM,IAANA,OAAA,EAAAA,EAAQG,UAAW,GAAKN,EAAKhB,KAErC,GACyB,KAAMuB,cAGvBC,GAAkBf,YAAehB,GAAaM,GAAa,SAACW,GACvE,MAAqCA,EAAGxD,QAAQyD,cAAc1B,OAAtDE,EAAR,EAAQA,eAAgBT,EAAxB,EAAwBA,SACxB,OAAOS,EAAe2B,QAAO,SAACC,EAAaC,GACzC,IAAMG,EAASzC,EAASkC,MAAK,qBAAG3B,OAAoBmC,MAAK,SAACC,GAAD,OAAOA,IAAML,EAAKtB,YAS3E,OARAqB,EAAI,sBACCA,GADD,CAEF,CACEU,WAAaT,EAAKhB,GAAK,GAAM,IAC7BnD,KAAMmE,EAAKtB,MACX4B,UAAgB,OAANH,QAAM,IAANA,OAAA,EAAAA,EAAQG,UAAW,GAAKN,EAAKhB,QAI1C,OAGUZ,KAAf,QCrKMsC,GAAoC,CACxCxH,IAAK,WACLyH,YACAC,gBAAiBC,IACjBC,UAAW,CAAC,SAGRhF,GAAWiF,YAAgB,CAC/BpB,cAAeqB,GACfC,KAAMC,IAGFC,GAAmBC,YAAeV,GAAe5E,IAE1CuF,GAAQC,YAAe,CAClCC,WAAY,SAACC,GAAD,OACVA,EAAqB,CACnBC,mBAAmB,IAClBC,OAAOC,MACZC,QAAST,KAKEU,GAAiB,kBAAMC,eAErBT,M,4BChCTU,GAAa,SAACC,GAClB,IAAMC,EAAU,IAAIC,KAAmBF,GAEvC,OADAC,EAAQE,gBAJsB,IAKvBF,GAWMG,GAJmC,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACnD,OAAO,eAAC,KAAD,CAAmBN,WAAYA,GAA/B,SAA4CM,K,qBCuBtCC,GAjCS,SAAC,GAAkB,IAAhBD,EAAe,EAAfA,SACzB,EAA8BE,eAAtBC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,UACVC,EAAWb,KACTpG,EAAmBkH,aAAY,SAAC3G,GAAD,OAAsBA,EAAMiF,QAA3DxF,eA2BR,OAzBAmH,qBAAU,WACC,OAATH,QAAS,IAATA,KACII,cACDhI,MAAK,SAACmH,GACL,IAAMc,EAAW,IAAIC,KAAKf,GAC1BU,EAASvG,EAAkB2G,OAE5B7F,OAAM,SAAClF,GACNiL,QAAQC,IAAIlL,QAEf,CAACyK,EAAQC,EAAWC,IAEvBE,qBAAU,WACe,OAAnBnH,GAGHA,EAAwByH,IAAIC,aAAY,SAACpL,EAAKqL,GACzCrL,EACFiL,QAAQvL,MAAMM,GAEd2K,EAAStG,EAAegH,EAAS,UAGpC,CAAC3H,EAAgBiH,IAEbL,G,OCjCT,SAASgB,KACP,OAAO,eAAC,IAAD,CAAaC,MAAM,KAAKC,OAAO,OAGxC,IAaeC,GAbG,SAACC,GACjB,IAAQ1J,EAAS0J,EAAMjL,MAAfuB,KACR,OACE,uCACE,eAAC,IAAD,CAAUM,KAAK,aAAaqJ,GAAE,UAAK3J,EAAL,kBAC9B,eAAC,IAAD,aAAO4J,UAAWN,GAAOtJ,KAAI,UAAKA,EAAL,iBAA6B0J,IAC1D,eAAC,IAAD,aAAOE,UAAWN,GAAOtJ,KAAI,UAAKA,EAAL,gBAA4B0J,IACzD,eAAC,IAAD,aAAOE,UAAWN,GAAOtJ,KAAI,UAAKA,EAAL,mBAA+B0J,IAC5D,eAAC,IAAD,aAAOE,UAAWN,GAAOtJ,KAAI,UAAKA,EAAL,cAA0B0J,Q,2HCiD9CG,I,OA3DQ,SAAC,GAcjB,IAbLC,EAaI,EAbJA,KACAC,EAYI,EAZJA,MACAC,EAWI,EAXJA,QACAC,EAUI,EAVJA,QACApG,EASI,EATJA,OACAqG,EAQI,EARJA,UASMC,EAAcC,cAAc,SAACC,GAAD,OAAyBA,EAAMC,YAAYC,GAAG,SAEhF,OACE,uBAAKL,UAAS,iCAA4BA,GAA1C,UACE,eAACM,GAAA,EAAD,CACEC,GAAI,CACFC,EAAG,EACHC,EAAG,EACHC,QAAS,QAEXV,UAAU,SANZ,SAQGJ,IAEH,eAAC,IAAD,CAAWe,YAAaV,EAAc,WAAa,eACnD,gBAACK,GAAA,EAAD,CACEC,GAAI,CACFC,EAAG,EACHC,EAAG,EACHC,QAAS,QAEXV,UAAU,SANZ,UAQE,eAACM,GAAA,EAAD,CAAKC,GAAI,CAAElB,MAAOY,EAAc,iBAAmB,QAAUD,UAAU,qBAAvE,SACGrG,IAAWtC,EAAYgE,QACtB,eAACuF,GAAA,EAAD,CAAkBL,GAAI,CAAEM,MAAO,sBAC5BZ,EAGH,eAAC,IAAD,UAAcJ,IAFdA,IAKJ,gBAACS,GAAA,EAAD,CACEC,GAAI,CAAElB,MAAOY,EAAc,8BAAgC,OAAQa,UAAYb,EAAkB,EAAJ,GAC7FD,UAAU,iBAFZ,UAIE,sBAAKA,UAAU,YAAf,SAA4BF,IAC5B,sBAAKE,UAAU,YAAf,SAA4BD,eC0DvBgB,I,OAlGI,WACjB,IAAMd,EAAcC,cAAc,SAACC,GAAD,OAAyBA,EAAMC,YAAYC,GAAG,SAC1EW,EAAQd,cAAc,SAACC,GAAD,OAAyBA,EAAMC,YAAYa,KAAK,SAEtExC,EAAWZ,cACjB,EAA+Ca,aAAY,SAAC3G,GAAD,OAAsBA,EAAM2D,cAAclC,YAA7FC,EAAR,EAAQA,SAAUE,EAAlB,EAAkBA,OAAQD,EAA1B,EAA0BA,iBACpBJ,EAAWoF,aAAY,SAAC3G,GAAD,OAAsBA,EAAM2D,cAAcpC,YAQvE,OANAqF,qBAAU,YACHlF,EAAS/E,SAAV,OAAoB4E,QAApB,IAAoBA,OAApB,EAAoBA,EAAU1B,QAA9B,OAAsC0B,QAAtC,IAAsCA,OAAtC,EAAsCA,EAAUC,SAClDkF,EAASvF,OAEV,CAACuF,EAAUhF,EAAUH,IAGtB,eAAC,GAAD,CACEK,OAAQA,EACRqG,UAAU,0BACVJ,KACE,uCACE,eAACU,GAAA,EAAD,CAAKN,UAAU,cAAf,SACE,eAAC,IAAD,CAAaX,MAAOY,EAAc,QAAU,WAG9C,eAAC,IAAD,CAASiB,OAAQF,EAAOG,gBAAiB,0DAAzC,SACE,uCACE,yDACyB,wBADzB,2CAIA,oBAAGnB,UAAU,YAAb,yFAEA,gJAKRH,MACE,uBAAKG,UAAU,sBAAf,UACE,eAACoB,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,mBAAoBQ,UAAW,SAAUC,GAAI,GAAK5B,UAAU,MAAM6B,QAAQ,KAAnG,8BAIS,OAARjI,QAAQ,IAARA,OAAA,EAAAA,EAAU1B,QAAV,OAAkB0B,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAUC,QAC3B,eAACiI,GAAA,EAAD,CACEjB,GAAI,CACFkB,QAAS,OACTpC,MAAO,OACPqB,QAAS,OACTgB,QAAS,EACTC,oBAAqB,uCACrBC,aAAc,sBAPlB,SAUGnI,EAASlD,KAAI,gBAAGS,EAAH,EAAGA,GAAIY,EAAP,EAAOA,KAAP,OACZ,eAACiK,GAAA,EAAD,CAAmBtB,GAAI,CAAEjB,OAAQ,QAAUwC,gBAAc,EAAzD,SACE,eAAC,IAAD,CACEvB,GAAI,CACFjB,OAAQ,OACRyC,WAAY,SACZC,SAAU,SACVC,aAAc,WACd5C,MAAO,QAET6C,QAAS,kBAAMzD,EAASnE,EAAe1C,KACvCoI,UAAWtG,IAAqB9B,EAAO,cAAgB,GACvDuK,UAAW,eAAC,KAAD,IACXC,MAAOxK,KAZIZ,QAkBnB,eAACoK,GAAA,EAAD,CACEpB,UAAU,mBACVO,GAAI,CAAEM,MAAO,mBAAoBQ,UAAW,SAAUC,GAAI,GAC1D5B,UAAU,MACV6B,QAAQ,KAJV,8EAWNzB,QAAS,eAAC,IAAD,CAAUqC,UAAW,eAAC,KAAD,IAAwBzC,UAAW2C,IAAM5C,GAAG,4BAA4B2C,MAAM,SAC5GrC,QACE,eAAC,IAAD,CACEuC,SAA+B,OAArB5I,GAA6BC,IAAWtC,EAAYgE,YAAqB,OAAR/B,QAAQ,IAARA,OAAA,EAAAA,EAAU1B,QAAV,OAAkB0B,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAUC,SACvGgJ,QAAS,eAAC,KAAD,IACT7C,UAAW2C,IACX5C,GAAG,yBACH2C,MAAOpB,EAAQ,OAAS,+B,0GCSnBwB,OAnGf,YAA6F,IAAxEhJ,EAAuE,EAAvEA,SAAUQ,EAA6D,EAA7DA,OAAQqC,EAAqD,EAArDA,QAASnC,EAA4C,EAA5CA,eAAgBY,EAA4B,EAA5BA,YAAaN,EAAe,EAAfA,YAC3E,OACE,eAACiI,GAAA,EAAD,CAAMzC,UAAU,gBAAgBO,GAAI,CAAEkB,QAAS,QAA/C,SACE,gBAACnB,GAAA,EAAD,CAAKC,GAAI,CAAEkB,QAAS,OAAQiB,cAAe,SAAUrD,MAAO,QAA5D,UACE,eAACsD,GAAA,EAAD,CAAapC,GAAI,CAAEqC,KAAM,YAAzB,SACE,gBAACxB,GAAA,EAAD,CAAY1B,UAAU,MAAM6B,QAAQ,KAApC,UACG/H,EADH,IACa,uCAAS6C,EAAT,oBAGf,eAACiE,GAAA,EAAD,CACEC,GAAI,CACFkB,QAAS,OACToB,WAAY,SACZC,GAAI,OACJC,GAAI,QALR,SAQE,eAACvB,GAAA,EAAD,CAAMxB,UAAU,gBAAhB,SACGhG,EAAOzD,KAAI,SAACkE,EAAeC,GAC1B,IAAMsI,EAAe9I,EAAeyB,MAAK,SAACf,GAAD,OAAOA,EAAEH,QAAUA,KAC5D,OACE,eAACoH,GAAA,EAAD,CAAsBtB,GAAI,CAAE0C,UAAW,OAAQJ,WAAY,cAAgBf,gBAAc,EAAzF,SACE,gBAACoB,GAAA,EAAD,CAAWC,gBAAc,EAACC,UAAW,EAAGC,QAAM,EAAC9C,GAAI,CAAEC,EAAG,EAAGC,EAAG,EAAGpB,MAAO,QAAUiE,WAAYN,EAA9F,UACE,eAACO,GAAA,EAAD,UACE,eAAC,IAAD,CACEnB,MAAO3H,EACP8F,GAAI,CACFjB,OAAQ,OACRyC,WAAY,SACZC,SAAU,SACVC,aAAc,WACd5C,MAAO,QAETiD,SAAoC,IAA1BpI,EAAexF,SAAiBsO,EAC1ChD,UAAWgD,EAAe,cAAgB,GAC1Cd,QAAS,kBAAMpH,EAAYL,QAG/B,gBAAC+I,GAAA,EAAD,CAAkBjD,GAAI,CAAEmB,QAAS,QAAjC,UACE,eAACN,GAAA,EAAD,CAAYP,MAAM,eAAenB,UAAU,MAAM6B,QAAQ,YAAYkC,MAAM,SAA3E,SACE,eAACC,GAAA,EAAD,CACEnD,GAAI,CACFmB,QAAS,SAEXiC,aACE,eAACC,GAAA,EAAD,CAASC,MAAM,qDAAqDC,OAAK,EAAzE,SACE,eAAC,KAAD,CACEvD,GAAI,CACFwD,SAAU,SACVC,SAAU,gBATpB,6BAmBF,gBAACC,GAAA,EAAD,CAAOC,QAAS,EAAGC,UAAU,MAAM5D,GAAI,CAAE6D,GAAI,GAAKvB,WAAW,SAA7D,UACE,eAACzB,GAAA,EAAD,CAAYP,MAAM,eAAenB,UAAU,MAAM6B,QAAQ,YAAzD,eAGA,eAAC8C,GAAA,EAAD,CAEEC,kBAAkB,OAClBC,KAAM,EACNC,OAAK,EACLC,IAAK,EACLC,IAAK,GACLC,aAAY,OAAE3B,QAAF,IAAEA,OAAF,EAAEA,EAAcjI,GAC5B6J,kBAAmB,SAACC,EAAG7I,GACrBxB,EAAY,CACVO,GAAIiB,EACJvB,WAGJ8F,GAAI,CACF,qBAAsB,CACpBuE,aAAc,SAhBpB,wBACiB9B,QADjB,IACiBA,OADjB,EACiBA,EAAcjI,KAmB/B,eAACqG,GAAA,EAAD,CAAYP,MAAM,eAAenB,UAAU,MAAM6B,QAAQ,YAAzD,0BA9DO7G,gBC6DhBqK,GApFA,WACb,IAAMtG,EAAWZ,cACXoC,EAAcC,cAAc,SAACC,GAAD,OAAyBA,EAAMC,YAAYC,GAAG,SAC1EW,EAAQd,cAAc,SAACC,GAAD,OAAyBA,EAAMC,YAAYa,KAAK,SAC5E,EAAoEvC,aAAY,SAAC3G,GAAD,OAAsBA,EAAM2D,cAAc1B,UAAlHP,EAAR,EAAQA,SAAUE,EAAlB,EAAkBA,OAAQO,EAA1B,EAA0BA,eAAgBD,EAA1C,EAA0CA,sBAClCP,EAAqBgF,aAAY,SAAC3G,GAAD,OAAsBA,EAAM2D,cAAclC,YAA3EE,iBAQR,OANAiF,qBAAU,WACJjF,GAAoBA,IAAqBO,GAC3CwE,EAASrF,EAAYM,MAEtB,CAAC+E,EAAUxE,EAAuBP,IAGnC,eAAC,GAAD,CACEC,OAAQA,EACRqG,UAAU,qBACVJ,KACE,uCACE,eAACU,GAAA,EAAD,CAAKN,UAAU,cAAf,SACE,eAAC,IAAD,CAAaX,MAAOY,EAAc,QAAU,WAE9C,eAAC,IAAD,CAASiB,OAAQF,EAAOG,gBAAiB,0DAAzC,SACE,uCACE,yDACyB,wBADzB,2CAIA,oBAAGnB,UAAU,YAAb,yFAEA,gJAKRH,MACE,uBAAKG,UAAU,mBAAf,UACE,eAACoB,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,mBAAoBQ,UAAW,SAAUC,GAAI,GAAK5B,UAAU,MAAM6B,QAAQ,KAAnG,kGAGCtH,GACC,OAACR,QAAD,IAACA,OAAD,EAACA,EAAU/E,QAKT+E,EAASlD,KAAI,gBAAG8F,EAAH,EAAGA,QAASrC,EAAZ,EAAYA,OAAQgL,EAApB,EAAoBA,OAApB,OACX,eAAC,GAAD,CAEE9K,eAAgBA,EAChBV,SAAUwL,EACV3I,QAASA,EACTrC,OAAQA,EACRQ,YAAa,SAACC,GAAD,OAAWgE,EAASjE,GAAYC,KAC7CK,YAAa,SAACL,GAAD,OAAWgE,EAAS3D,EAAYL,MANxCuK,MANT,gBAAC5D,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,mBAAoBQ,UAAW,SAAUC,GAAI,EAAG2D,GAAI,GAAKvF,UAAU,MAAM6B,QAAQ,KAA1G,8CACoCtH,EADpC,gEAiBF,eAACmH,GAAA,EAAD,CACEpB,UAAU,mBACVO,GAAI,CAAEM,MAAO,mBAAoBQ,UAAW,SAAUC,GAAI,GAC1D5B,UAAU,MACV6B,QAAQ,KAJV,iEAWNzB,QAAS,eAAC,IAAD,CAAUqC,UAAW,eAAC,KAAD,IAAwBzC,UAAW2C,IAAM5C,GAAG,6BAA6B2C,MAAM,SAC7GrC,QACE,eAAC,IAAD,CACEuC,SAAoC,IAA1BpI,EAAexF,QAAgBiF,IAAWtC,EAAYgE,QAChEkH,QAAS,eAAC,KAAD,IACT7C,UAAW2C,IACX5C,GAAG,8BACH2C,MAAOpB,EAAQ,OAAS,iC,4BCzF5BkE,GAAiB,CACrB,CACEC,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,aACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,UACN7C,KAAM,YAGVsQ,gBAAiB,aACjBtQ,KAAM,eAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,QACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,WACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,UACN7C,KAAM,YAGV6C,KAAM,WACN7C,KAAM,SAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,QACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,WACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,OACdxN,KAAM,WACN7C,KAAM,SAGV6C,KAAM,iBACN7C,KAAM,SAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,KACN7C,KAAM,YAGV6C,KAAM,qBACN7C,KAAM,SAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,KACN7C,KAAM,YAGV6C,KAAM,qBACN7C,KAAM,SAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,KACN7C,KAAM,YAGV6C,KAAM,qBACN7C,KAAM,SAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,gBACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,WACN7C,KAAM,YAGV6C,KAAM,uBACN7C,KAAM,SAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,gBACN7C,KAAM,YAGV6C,KAAM,2BACN7C,KAAM,SAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,gBACN7C,KAAM,YAGV6C,KAAM,uBACN7C,KAAM,SAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,UACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,QACN7C,KAAM,YAGV6C,KAAM,qBACN7C,KAAM,SAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,gBACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,eACN7C,KAAM,YAGV6C,KAAM,8BACN7C,KAAM,SAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,mBACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,YACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,gBACN7C,KAAM,YAGV6C,KAAM,qBACN7C,KAAM,SAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,OACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,KACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,UACN7C,KAAM,YAGV6C,KAAM,WACN7C,KAAM,SAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,UACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,QACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,SACN7C,KAAM,YAGV6C,KAAM,mBACN7C,KAAM,SAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,UACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,QACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,SACN7C,KAAM,YAGV6C,KAAM,mBACN7C,KAAM,SAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,YACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,SACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,UACN7C,KAAM,YAGV6C,KAAM,0BACN7C,KAAM,SAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,gBACN7C,KAAM,YAGV6C,KAAM,sBACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,gBACN7C,KAAM,WAER,CACEqQ,aAAc,SACdxN,KAAM,SACN7C,KAAM,WAGV6C,KAAM,yBACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,KACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,UACN7C,KAAM,YAGV6C,KAAM,UACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,QACN7C,KAAM,YAGV6C,KAAM,YACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,UACN4N,QAAS,CACP,CACEJ,aAAc,SACdxN,KAAM,GACN7C,KAAM,WAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,QACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,mBACN7C,KAAM,WAER,CACEqQ,aAAc,SACdxN,KAAM,MACN7C,KAAM,UAER,CACEqQ,aAAc,OACdxN,KAAM,cACN7C,KAAM,SAGV6C,KAAM,SACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,gBACN7C,KAAM,YAGV6C,KAAM,qBACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,YACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,UACN7C,KAAM,YAGV6C,KAAM,cACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,mBACN7C,KAAM,YAGV6C,KAAM,4BACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,gBACN7C,KAAM,YAGV6C,KAAM,sBACN4N,QAAS,CACP,CACEJ,aAAc,YACdxN,KAAM,cACN7C,KAAM,cAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,mBACN7C,KAAM,YAGV6C,KAAM,0BACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,iCACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,QACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,WACN7C,KAAM,YAGV6C,KAAM,mBACN4N,QAAS,CACP,CACEJ,aAAc,OACdxN,KAAM,GACN7C,KAAM,SAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,YACN7C,KAAM,YAGV6C,KAAM,mBACN4N,QAAS,CACP,CACEJ,aAAc,OACdxN,KAAM,GACN7C,KAAM,SAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,gBACN7C,KAAM,YAGV6C,KAAM,yBACN4N,QAAS,CACP,CACEJ,aAAc,OACdxN,KAAM,SACN7C,KAAM,SAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,mBACN7C,KAAM,YAGV6C,KAAM,yBACN4N,QAAS,CACP,CACEJ,aAAc,OACdxN,KAAM,SACN7C,KAAM,SAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,mBACN7C,KAAM,YAGV6C,KAAM,0BACN4N,QAAS,CACP,CACEJ,aAAc,OACdxN,KAAM,SACN7C,KAAM,SAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,OACN4N,QAAS,CACP,CACEJ,aAAc,SACdxN,KAAM,GACN7C,KAAM,WAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,WACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,OACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,UACN7C,KAAM,WAER,CACEqQ,aAAc,QACdxN,KAAM,OACN7C,KAAM,UAGV6C,KAAM,mBACN4N,QAAS,CACP,CACEJ,aAAc,SACdxN,KAAM,GACN7C,KAAM,WAGVsQ,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,QACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,UACN7C,KAAM,YAGV6C,KAAM,UACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,oBACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,OACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,KACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,UACN7C,KAAM,YAGV6C,KAAM,mBACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,OACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,KACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,UACN7C,KAAM,WAER,CACEqQ,aAAc,QACdxN,KAAM,QACN7C,KAAM,UAGV6C,KAAM,mBACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,WACN7C,KAAM,WAER,CACEqQ,aAAc,OACdxN,KAAM,WACN7C,KAAM,SAGV6C,KAAM,oBACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGV6C,KAAM,sBACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGV6C,KAAM,sBACN4N,QAAS,CACP,CACEJ,aAAc,SACdxN,KAAM,GACN7C,KAAM,WAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,SACdxN,KAAM,cACN7C,KAAM,WAGV6C,KAAM,oBACN4N,QAAS,CACP,CACEJ,aAAc,OACdxN,KAAM,GACN7C,KAAM,SAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,SACN4N,QAAS,CACP,CACEJ,aAAc,SACdxN,KAAM,GACN7C,KAAM,WAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,QACN7C,KAAM,YAGV6C,KAAM,eACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,QACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,QACN7C,KAAM,YAGV6C,KAAM,sBACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,UACN7C,KAAM,YAGV6C,KAAM,WACN4N,QAAS,CACP,CACEJ,aAAc,SACdxN,KAAM,GACN7C,KAAM,WAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,cACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,OACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,KACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,UACN7C,KAAM,YAGV6C,KAAM,eACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,WACN7C,KAAM,YAGV6C,KAAM,oBACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,SACdxN,KAAM,YACN7C,KAAM,UAER,CACEqQ,aAAc,UACdxN,KAAM,UACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,SACN7C,KAAM,WAER,CACEqQ,aAAc,WACdxN,KAAM,eACN7C,KAAM,YAER,CACEqQ,aAAc,YACdxN,KAAM,YACN7C,KAAM,aAER,CACEqQ,aAAc,YACdxN,KAAM,gBACN7C,KAAM,cAGV6C,KAAM,WACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,aACN7C,KAAM,WAER,CACEqQ,aAAc,OACdxN,KAAM,WACN7C,KAAM,SAGV6C,KAAM,qBACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,aAGJ0Q,GAAe,CACnB,CACEN,OAAQ,CACN,CACEC,aAAc,SACdxN,KAAM,OACN7C,KAAM,UAER,CACEqQ,aAAc,UACdxN,KAAM,gBACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,uBACN7C,KAAM,WAER,CACEqQ,aAAc,OACdxN,KAAM,yBACN7C,KAAM,SAGVsQ,gBAAiB,aACjBtQ,KAAM,eAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,UACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,sBACN7C,KAAM,WAER,CACEwQ,SAAS,EACTH,aAAc,UACdxN,KAAM,qBACN7C,KAAM,YAGV6C,KAAM,cACN7C,KAAM,SAER,CACEuQ,WAAW,EACXH,OAAQ,CACN,CACEI,SAAS,EACTH,aAAc,UACdxN,KAAM,UACN7C,KAAM,YAGV6C,KAAM,aACN7C,KAAM,SAER,CACEoQ,OAAQ,GACRvN,KAAM,qBACN4N,QAAS,CACP,CACEJ,aAAc,SACdxN,KAAM,GACN7C,KAAM,WAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,YACN7C,KAAM,YAGV6C,KAAM,eACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,SACN7C,KAAM,YAGV6C,KAAM,YACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,kBACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,oBACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,qBACN4N,QAAS,CACP,CACEJ,aAAc,YACdxN,KAAM,GACN7C,KAAM,cAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,aACN4N,QAAS,CACP,CACEJ,aAAc,YACdxN,KAAM,GACN7C,KAAM,cAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,YACN7C,KAAM,YAGV6C,KAAM,4BACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,cACN4N,QAAS,CACP,CACEJ,aAAc,YACdxN,KAAM,GACN7C,KAAM,cAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,wBACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,cACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,aACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,qBACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,WACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGV6C,KAAM,WACN4N,QAAS,CACP,CACEJ,aAAc,OACdxN,KAAM,GACN7C,KAAM,SAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,qBACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,UACN7C,KAAM,YAGV6C,KAAM,OACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,SACdxN,KAAM,MACN7C,KAAM,UAER,CACEqQ,aAAc,UACdxN,KAAM,UACN7C,KAAM,YAGV6C,KAAM,gBACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,gBACN7C,KAAM,YAGV6C,KAAM,QACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGV6C,KAAM,kBACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,cACN4N,QAAS,CACP,CACEJ,aAAc,SACdxN,KAAM,GACN7C,KAAM,WAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,gBACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGV6C,KAAM,iBACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,UACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,KACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,SACN7C,KAAM,YAGV6C,KAAM,kBACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,CACN,CACEC,aAAc,UACdxN,KAAM,OACN7C,KAAM,WAER,CACEqQ,aAAc,UACdxN,KAAM,SACN7C,KAAM,YAGV6C,KAAM,sBACN4N,QAAS,GACTH,gBAAiB,aACjBtQ,KAAM,YAER,CACEoQ,OAAQ,GACRvN,KAAM,eACN4N,QAAS,CACP,CACEJ,aAAc,UACdxN,KAAM,GACN7C,KAAM,YAGVsQ,gBAAiB,OACjBtQ,KAAM,aAIV,SAAS2Q,GAAiB1J,GACxB2J,KAAK3J,MAAQA,EACb2J,KAAKC,QAAU,kBAEfD,KAAKrJ,SAAW,WACd,OAAOqJ,KAAK3J,MAAQ2J,KAAKC,SAItB,ICr9CKC,GDq9CCC,GAAyB,uCAAG,sBAAAxQ,EAAA,+EAChC,2FADgC,2CAAH,qDAIzByQ,GAAqB,uCAAG,sCAAAzQ,EAAA,4FAA0B,KAA1B,kBAC5B,8CAD4B,2CAAH,qDAIrB0Q,GAAgC,uCAAG,WAAOC,GAAP,6BAAA3Q,EAAA,6DACxCyI,EAAW,IAAImI,KAAOC,UAAUhI,aAAaiI,OAAOC,UACpDC,EAASvI,EAASwI,YAFsB,SAGbR,GAAsBE,GAHT,cAGxCO,EAHwC,OAIxCC,EAAW,IAAIP,KAAOQ,SAASF,EAAoBtB,GAAgBoB,GAJ3B,SAKxBG,EAASE,QALe,cAKxCC,EALwC,iBAMTA,EAAQC,OANC,WAMxCC,EANwC,OAOtCC,EAAWD,EAAXC,OACFC,EAAeD,EAAOpL,MAAK,SAAC9E,GAAD,MAAmB,uBAAZA,EAAEoQ,SARI,uBAWtC,IAAIvB,GAAiB,CACzB5O,MAAO,MACP8O,QAAS,2BACTsB,KAAM,CACJpQ,KAAM,EACNoQ,KAAM,GACNtB,QAAS,mCAjB+B,iCAsBvCoB,EAAaG,MAtB0B,4CAAH,sDAyBhCC,GAAkB,uCAAG,WAAOnB,GAAP,uBAAA3Q,EAAA,6DAC1ByI,EAAW,IAAImI,KAAOC,UAAUhI,aAAaiI,OAAOC,UACpDC,EAASvI,EAASwI,YAFQ,SAGCR,GAAsBE,GAHvB,cAG1BoB,EAH0B,OAI1BZ,EAAW,IAAIP,KAAOQ,SAASW,EAAoBnC,GAAgBoB,GAJzC,SAKLG,EAASa,wBAAwBlB,OAAOC,SAASkB,iBAL5C,oDAQRd,EAASe,wBAAwBpB,OAAOC,SAASkB,iBARzC,eAQxBE,EARwB,gCASvBA,QATuB,IASvBA,OATuB,EASvBA,EAASnL,YATc,iCAWzB,MAXyB,4CAAH,sDAclBoL,GAAwB,uCAAG,uDAAApS,EAAA,6DACtC2Q,EADsC,EACtCA,iBACA0B,EAFsC,EAEtCA,IACAtL,EAHsC,EAGtCA,QAEM0B,EAAW,IAAImI,KAAOC,UAAUhI,aAAaiI,OAAOC,UACpDC,EAASvI,EAASwI,YAElBE,EAAW,IAAIP,KAAOQ,SAAST,EAAkBR,GAAca,GAR/B,SASfG,EAASmB,cAAcD,EAAKE,iBAAMxL,EAAQC,aAT3B,cAShCwL,EATgC,gBAUGA,EAASjB,OAVZ,UAUhCkB,EAVgC,OAW9BhB,EAAWgB,EAAXhB,OACFiB,EAAoBjB,EAAOpL,MAAK,kBAAyB,gBAAzB,EAAGsL,SAZH,uBAe9B,IAAIvB,GAAiB,CACzB5O,MAAO,MACP8O,QAAS,2BACTsB,KAAM,CACJpQ,KAAM,EACNoQ,KAAM,GACNtB,QAAS,oCArBuB,6BA0BWoC,EAAkBb,KA1B7B,GA0B/B1P,EA1B+B,KA0BlBgQ,EA1BkB,KA0BTQ,EA1BS,uBA2B/B,CACLxQ,cACAgQ,QAAO,OAAEA,QAAF,IAAEA,OAAF,EAAEA,EAASnL,WAClBD,QAAS4L,IA9B2B,4CAAH,sDAkCxBC,GAAwB,uCAAG,WAAOC,GAAP,SAAA7S,EAAA,+EAC/BoD,MAAM,GAAD,OAAIxD,6BAAJ,mDAAgGiT,GAAW,CACrHvP,OAAQ,QACPhC,MAAK,SAACwR,GAAD,OAAcA,EAAStP,WAHO,2CAAH,sDAMxBuP,GAAa,uCAAG,WAAOrQ,EAAsByP,GAA7B,iBAAAnS,EAAA,+EAEFoD,MAAM,GAAD,OACvBxD,6BADuB,4BAC8CuS,EAD9C,0BACuEzP,GACjG,CACEY,OAAQ,SALa,cAEnBwP,EAFmB,gBAQLA,EAAStP,OARJ,cAQnBwP,EARmB,yBASlBA,EAAMA,OATY,2DAWlB,MAXkB,0DAAH,yD,SC5iDdzC,K,0BAAAA,E,8BAAAA,E,kDAAAA,E,8CAAAA,E,sBAAAA,E,4BAAAA,E,4BAAAA,E,wBAAAA,E,gCAAAA,E,8CAAAA,E,wBAAAA,E,sBAAAA,E,6BAAAA,Q,qDCgEG0C,IC5BHC,GD4BGD,GA9Df,YAQI,IAPF1O,EAOC,EAPDA,UACAE,EAMC,EANDA,sBACA0O,EAKC,EALDA,SAMMC,EAAW7O,EAAU8O,SAAW9O,EAAU+O,oBAC1C5H,EAAQd,cAAc,SAACC,GAAD,OAAyBA,EAAMC,YAAYa,KAAK,SAC5E,OACE,eAACwB,GAAA,EAAD,CACEP,QAAS,kBAAOwG,GAAYD,EAAS5O,EAAUjC,OAC/CoI,UAAS,4BAAuBjG,IAA0BF,EAAUjC,KAAO,SAAW,GAA7E,YAAmF8Q,EAAW,WAAa,IAFtH,SAIE,eAACG,GAAA,EAAD,CAAgBvG,SAAUoG,EAA1B,SACE,gBAAC/F,GAAA,EAAD,CAAapC,GAAI,CAAEkB,QAAS,QAA5B,UACE,gBAACnB,GAAA,EAAD,CAAKC,GAAI,CAAEqC,KAAM,KAAjB,UACE,eAACkG,GAAA,EAAD,CACEvI,GAAI,CACFO,UAAW,EACXiI,QAASL,EAAW,iBAAmB,QACvCM,GAAI,OAENzP,OAAQ,eAAC0P,GAAA,EAAD,CAAQ1I,GAAI,CAAElB,MAAO,GAAIC,OAAQ,IAAM4J,IAAKrP,EAAU7D,QAC9D6N,MACE,eAACzC,GAAA,EAAD,CAAYG,QAASP,EAAQ,KAAO,KAAMH,MAAM,eAAhD,SACGhH,EAAUjC,OAGfuR,UACE,uBAAKnJ,UAAU,eAAf,UACE,gBAACoB,GAAA,EAAD,CAAYG,QAAQ,QAAQV,MAAM,iBAAlC,6BACehH,EAAU8O,QADzB,WACuC,iCAAQ9O,EAAU+O,yBAEzD,eAACxH,GAAA,EAAD,CAAYb,GAAI,CAAE6I,GAAI,GAAK7H,QAAQ,QAAQV,MAAM,iBAAjD,eAGA,eAACO,GAAA,EAAD,CAAYG,QAAQ,QAAQV,MAAM,iBAAlC,mCACsBhH,EAAUwP,sBAKtC,eAACjI,GAAA,EAAD,CAAYpB,UAAU,mBAAmBO,GAAI,CAAEe,GAAI,EAAGgI,GAAI,GAAK/H,QAAQ,QAAvE,SACG1H,EAAU0P,iBAIf,gBAACjJ,GAAA,EAAD,CAAKN,UAAU,gBAAgBO,GAAI,CAAElB,MAAO,SAA5C,UACE,eAAC+B,GAAA,EAAD,CAAYb,GAAI,CAAEe,GAAI,EAAGgI,GAAI,GAAK/H,QAAQ,QAA1C,qCAGA,sBAAKvB,UAAS,wBAAmB0I,EAAW,gBAAkB,aAA9D,SAA8EA,EAAW,KAAO,oB,SCpBhGF,O,uBAAAA,I,iBAAAA,I,yBAAAA,I,qBAAAA,I,yBAAAA,I,8BAAAA,Q,KCtCL,IAAMgB,GAAsB,SAAChW,GAClC,IAAKA,EACH,OAAOA,EAGT,GAAqB,kBAAVA,EACT,MAAM,IAAIU,MAAM,qCAGlB,MAA2BV,EAAMW,MAAM,uBAA9BsV,EAAT,oBACA,GAAqBA,GAAkB,IAAItV,MAAM,gBACjD,OADA,qBACmBsV,GAAkB,iBAAiB9V,Q,oBCG3C+V,GAAsB,uCAAG,sBAAApU,EAAA,+EAE5B8Q,OAAOC,SAASsD,QAAQ,CAC5B/Q,OAAQ,6BACRgR,OAAQ,CAAC,CAAEC,QAAS,cAJY,kEAOT,OAArB,KAAY/S,KAPkB,2CASxBsP,OAAOC,SAASsD,QAAQ,CAC5B/Q,OAAQ,0BACRgR,OAAQ,CACN,CACEC,QAAS,UACTC,UAAW,SACXC,eAAgB,CACdnS,KAAM,QACNoS,OAAQ,QACRC,SAAU,IAEZC,QAAS,CAAC,0CAA2C,kCACrDC,kBAAmB,CAAC,uCArBI,4DA0BvB,GA1BuB,kCA8B7B,GA9B6B,gEAAH,qDCb7BtD,GAAO,eAACuD,EAAD,uDAAM,IAAN,OAAe,IAAIrX,SAAQ,SAACC,GAAD,OAAauF,WAAWvF,EAASoX,OAE5DC,GAAS,uCAAG,WAAUC,EAAsBC,GAAhC,+BAAAjV,EAAA,6DAAqE8U,EAArE,+BAA0E,IAAMI,EAAhF,+BAA6F,GAA7F,SACJF,IADI,OACnBhX,EADmB,mBAEhBiX,EAAYjX,IAAWkX,EAAa,GAFpB,iCAGf3D,GAAKuD,GAHU,wBAINE,IAJM,QAIrBhX,EAJqB,OAKrBkX,GAAcA,EALO,gDAOhBlX,GAPgB,4CAAH,wDCGTmX,GAAW,I,OAAIC,GAAkB,CAAEC,kBAJvB,CACvB,SCeIC,GAAuB,SAAC,GAA4C,IAA1ChF,EAAyC,EAAzCA,QAAyC,IAAhCiF,gBAAgC,MAArB,KAAqB,EAAfC,EAAe,EAAfA,SACxD,OACE,uCACE,uBAAK9K,UAAU,yBAAf,UACE,eAACY,GAAA,EAAD,CAAkBL,GAAI,CAAEM,MAAO,kBAC/B,eAACO,GAAA,EAAD,CAAYb,GAAI,CAAEc,UAAW,SAAU4D,GAAI,GAAKvF,UAAU,MAAM6B,QAAQ,KAAxE,SACGqE,IAEH,eAACxE,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,iBAAkBQ,UAAW,SAAU4D,GAAI,GAAKvF,UAAU,MAAM6B,QAAQ,QAAjG,SACGsJ,OAGL,eAAC,IAAD,CAAUhK,MAAM,QAAQqB,QAAS4I,EAAUvK,GAAI,CAAE0E,GAAI,GAAK7C,MAAM,eAKhE2I,GAAqB,SAAC,GAA4C,IAA1CnF,EAAyC,EAAzCA,QAAyC,IAAhCiF,gBAAgC,MAArB,KAAqB,EAAfC,EAAe,EAAfA,SACtD,OACE,uCACE,uBAAK9K,UAAU,yBAAf,UACE,eAACoB,GAAA,EAAD,CAAYb,GAAI,CAAEc,UAAW,SAAU4D,GAAI,GAAKvF,UAAU,MAAM6B,QAAQ,KAAxE,SACGqE,IAEH,eAACxE,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,iBAAkBQ,UAAW,SAAU4D,GAAI,GAAKvF,UAAU,MAAM6B,QAAQ,QAAjG,SACGsJ,OAGL,eAAC,IAAD,CAAUhK,MAAM,QAAQqB,QAAS4I,EAAUvK,GAAI,CAAE0E,GAAI,GAAK7C,MAAM,eAKhE4I,GAA+B,SAAC,GAA0E,IAAxEpF,EAAuE,EAAvEA,QAASiF,EAA8D,EAA9DA,SAAUI,EAAoD,EAApDA,YAAaC,EAAuC,EAAvCA,uBAAwBJ,EAAe,EAAfA,SAC9F,OACE,uCACE,uBAAK9K,UAAU,yBAAf,UACE,eAACoB,GAAA,EAAD,CAAYb,GAAI,CAAEc,UAAW,SAAU4D,GAAI,GAAKvF,UAAU,MAAM6B,QAAQ,KAAxE,SACGqE,IAEH,eAACxE,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,iBAAkBQ,UAAW,SAAU4D,GAAI,GAAKvF,UAAU,MAAM6B,QAAQ,QAAjG,SACGsJ,IAEH,eAAC,IAAD,CAAUhK,MAAM,UAAUqB,QAASgJ,EAAwB3K,GAAI,CAAE0E,GAAI,EAAG5F,MAAO,QAASC,OAAQ,QAAU8C,MAAO6I,OAEnH,eAAC,IAAD,CAAUpK,MAAM,QAAQqB,QAAS4I,EAAUvK,GAAI,CAAE0E,GAAI,GAAK7C,MAAM,eAKzD+I,GAA4B,SACvCC,EACAC,EACAH,GAEA,IAAMI,EAAe,uCAAG,WAAOC,GAAP,eAAAjW,EAAA,6DACtB8V,EAAiB,eAAC,GAAD,CAAsBxF,QAAQ,mCAAmCkF,SAAUO,KADtE,SAEhBE,EAASd,IAFO,uBAGIA,GAASe,eAHb,cAGhBC,EAHgB,SAKpBL,EACE,qCACE,eAAC,GAAD,CACEH,YAAY,QACZJ,SAAS,qEACTjF,QAAQ,2CACRsF,uBAAwB,kBAAMA,EAAuBrF,GAA0B6F,eAC/EZ,SAAUO,OAZI,kBAiBfI,GAjBe,2CAAH,sDAoBfE,EAAkB,uCAAG,WAAOF,GAAP,eAAAnW,EAAA,yDACpBmW,EADoB,0CAEhB,GAFgB,cAIzBL,EAAiB,eAAC,GAAD,CAAsBxF,QAAQ,+BAA+BkF,SAAUO,KAJ/D,SAKM3B,KALN,cAKnBkC,EALmB,SAQvBR,EACE,qCACE,eAAC,GAAD,CACEH,YAAY,QACZJ,SAAU,KACVjF,QAAQ,6EACRsF,uBAAwB,kBAAMA,EAAuBrF,GAA0B6F,eAC/EZ,SAAUO,OAfO,kBAoBlBO,GApBkB,2CAAH,sDAuBlBC,EAAe,uCAAG,WAAOD,EAA2BE,GAAlC,SAAAxW,EAAA,yDACjBsW,EADiB,yCAEb,MAFa,cAItBR,EAAiB,eAAC,GAAD,CAAsBxF,QAAQ,oCAAoCkF,SAAUO,KAJvE,kBAOPtV,aAAyB+V,GAPlB,wEASpBV,EACE,qCACE,eAAC,GAAD,CACEH,YAAY,QACZJ,SAAU,KACVjF,QAAQ,gBACRsF,uBAAwB,kBAAMA,EAAuBrF,GAA0BkG,eAC/EjB,SAAUO,OAhBI,iCAqBf,MArBe,yDAAH,wDAwBfW,EAAgB,uCAAG,WAAOC,EAAmBhG,EAA0B5J,GAApD,eAAA/G,EAAA,yDAClB2W,EADkB,yCAEd,MAFc,uBAKrBb,EACE,eAAC,GAAD,CACEP,SAAS,4CACTjF,QAAQ,+CACRkF,SAAUO,KATO,SAYR3D,GAAyB,CACpCC,IAAKsE,EACL5P,UACA4J,qBAfmB,+EAkBfL,EAAU4D,GAAoB,KAAMtC,KAAKtB,SAG3CsG,OAAOtG,GAASuG,SAAS,oBAC3Bf,EACE,qCACE,eAAC,GAAD,CACEH,YAAY,UACZJ,SAAS,uDACTjF,QAASA,EACTsF,uBAAwB,kBAAMA,EAAuBrF,GAA0BuG,gBAC/EtB,SAAUO,OAIPa,OAAOtG,GAASuG,SAAS,4DAClCf,EACE,qCACE,eAAC,GAAD,CACEH,YAAY,mBACZJ,SAAS,oGACTjF,QAASA,EACTsF,uBAAwB,kBAAMA,EAAuBrF,GAA0BwG,0BAC/EvB,SAAUO,OAIPa,OAAOtG,GAASuG,SAAS,sDAClCf,EACE,qCACE,eAAC,GAAD,CACEH,YAAY,QACZJ,SAAS,+EACTjF,QAASA,EACTsF,uBAAwB,kBAAMA,EAAuBrF,GAA0ByG,wBAC/ExB,SAAUO,OAIPa,OAAOtG,GAASuG,SAAS,sBAClCf,EACE,qCACE,eAAC,GAAD,CAAoBP,SAAS,0CAA0CjF,QAASA,EAASkF,SAAUO,OAIvGD,EACE,qCACE,eAAC,GAAD,CACEH,YAAY,QACZJ,SAAS,cACTjF,QAASA,EACTsF,uBAAwB,kBAAMA,EAAuBrF,GAA0B0G,YAC/EzB,SAAUO,OAvEG,kBA6Ed,MA7Ec,yDAAH,0DAiFhBmB,EAAiB,uCAAG,WAAOvG,EAA0BwG,GAAjC,eAAAnX,EAAA,yDACnB2Q,GAAqBwG,EADF,yCAEf,MAFe,cAIxBrB,EACE,eAAC,GAAD,CACEP,SAAS,4CACTjF,QAAQ,gDACRkF,SAAUO,KARU,kBAYTrF,GAAiCC,GAZxB,+EAchBL,EAAU4D,GAAoB,KAAMtC,KAAKtB,QAAQ3N,SAEnDiU,OAAOtG,GAASuG,SAAS,4DAC3Bf,EACE,qCACE,eAAC,GAAD,CACEH,YAAY,UACZJ,SAAS,uDACTjF,QAASA,EACTsF,uBAAwB,kBAAMA,EAAuBrF,GAA0B6G,iBAC/E5B,SAAUO,OAKhBD,EACE,qCACE,eAAC,GAAD,CACEH,YAAY,QACZJ,SAAU,KACVjF,QAASA,EACTsF,uBAAwB,kBAAMA,EAAuBrF,GAA0B8G,aAC/E7B,SAAUO,OApCI,kBAyCf,MAzCe,yDAAH,wDA6CjBuB,EAAY,uCAAG,WAAO3G,GAAP,eAAA3Q,EAAA,yDACd2Q,EADc,yCAEV,MAFU,cAInBmF,EACE,eAAC,GAAD,CACEP,SAAS,4CACTjF,QAAQ,wCACRkF,SAAUO,KARK,kBAYJjE,GAAmBnB,GAZf,+EAcXL,EAAU4D,GAAoB,KAAMtC,KAAKtB,QAAQ3N,SACvDmT,EACE,qCACE,eAAC,GAAD,CACEH,YAAY,QACZJ,SAAU,KACVjF,QAASA,EACTsF,uBAAwB,kBAAMA,EAAuBrF,GAA0BgH,eAC/E/B,SAAUO,OAtBC,kBA0BV,MA1BU,yDAAH,sDA8BZyB,EAAgB,uCAAG,WAAOrF,GAAP,eAAAnS,EAAA,yDAClBmS,EADkB,yCAEd,MAFc,cAIvB2D,EACE,eAAC,GAAD,CAAsBP,SAAS,4CAA4CjF,QAAQ,yBAAyBkF,SAAUO,KALjG,SAQHhD,GAAcG,GAAauE,SAAUtF,GARlC,cAQjBa,EARiB,OAuBrB8C,EAbG9C,EAcD,uCACE,eAAChI,GAAA,EAAD,CAAKC,GAAI,CAAEkB,QAAS,OAAQwD,GAAI,EAAGzE,EAAG,EAAGuI,QAAS,SAAlD,SACE,eAAC,UAAD,CACE/M,MAAO3F,KAAKC,UAAU,CACpBmR,UACAa,UAEF0E,UAAW,IACXC,WAAY,IACZC,QAAQ,QACRC,KAAM,QAGV,eAAC7M,GAAA,EAAD,CACEC,GAAI,CACFkB,QAAS,OACToB,WAAY,SACZuK,eAAgB,SAChBhE,GAAI,EACJL,QAAS,QACT1J,MAAO,QACPC,OAAQ,OACR+N,UAAW,QATf,SAYE,gBAACjM,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,QAASQ,UAAW,UAAY3B,UAAU,MAAM6B,QAAQ,QAAjF,4BACiB,iDADjB,IACwC,wBADxC,gCAKF,eAAC,IAAD,CAAUV,MAAM,QAAQqB,QAASmJ,EAAa9K,GAAI,CAAE0E,GAAI,GAAK7C,MAAM,cA1CrE,qCACE,eAAC,GAAD,CACE6I,YAAY,QACZJ,SAAU,KACVjF,QAAQ,0CACRsF,uBAAwB,kBAAMA,EAAuBrF,GAA0ByH,aAC/ExC,SAAUO,OAlBK,kBA2DhB/C,GA3DgB,2CAAH,sDA8DhBiF,EAAc,uCAAG,WAAOjF,EAAeb,GAAtB,qBAAAnS,EAAA,yDAChBgT,GAAUb,EADM,0CAEZ,GAFY,cAKrB2D,EACE,eAAC,GAAD,CAAsBP,SAAS,4CAA4CjF,QAAQ,sBAAsBkF,SAAUO,KANhG,SAUbf,EAAK,kBAAMpC,GAAyB9B,OAAOC,SAASkB,kBACpDiG,EAAY,SAAC,GAAD,SAAGC,gBAXF,SAYcpD,GAAuCC,EAAIkD,GAZzD,uBAYXC,EAZW,EAYXA,eAZW,kBAaZA,GAbY,kCAenBrC,EACE,qCACE,eAAC,GAAD,CACEH,YAAY,QACZJ,SAAS,uBACTjF,QAAQ,kCACRsF,uBAAwB,kBAAMA,EAAuBrF,GAA0B6H,YAC/E5C,SAAUO,OAtBG,kCA4Bd,GA5Bc,0DAAH,wDA+BpB,MAAO,CACLC,kBACAK,qBACAE,kBACAG,mBACAQ,oBACAM,mBACAS,iBACAX,iB,oBC3YSe,GAAwB,SAAC,GAAmE,IAAjEC,EAAgE,EAAhEA,KAAMvC,EAA0D,EAA1DA,YAAawC,EAA6C,EAA7CA,cAA6C,IAA9BC,kBAA8B,SAChGC,EAAaD,EACf,GACA,CACEE,SAAU,QACV/K,UAAW,SAEjB,OACE,eAACgL,GAAA,EAAD,CAAQL,KAAMA,EAAMM,QAAS7C,EAAayC,WAAYA,EAAtD,SACE,eAACK,GAAA,EAAD,CACE5N,GAAE,2BACGwN,GADH,IAEAhF,QAAS,eACTtH,QAAS,OACT2L,eAAgB,SAChBvK,WAAY,SACZH,cAAe,WAPnB,SAUGmL,O,oECdHO,GAAyBC,aAAOC,KAAPD,EAAuB,kBAAGlO,EAAH,EAAGA,MAAH,UACpDb,OAAQ,OACRwF,aAAc,EACdyJ,OAAO,aAAD,OAAepO,EAAMqO,QAAQC,WAAWC,QAHM,2BAI9CC,KAAsBC,cAAiB,CAC3CC,gBAAiB1O,EAAMqO,QAAQC,WAAWC,QALQ,4BAO7CC,KAAsBG,KAAQ,CACnChK,aAAc,EACd+J,gBAAiB1O,EAAMqO,QAAQO,QAAQC,OATW,KA6EvCC,OAhEf,YAA2D,IAA/BC,EAA8B,EAA9BA,aAAcC,EAAgB,EAAhBA,aAClCnO,EAAQd,cAAc,SAACC,GAAD,OAAyBA,EAAMC,YAAYa,KAAK,SAC5E,OACE,gBAACX,GAAA,EAAD,CAAKN,UAAU,uBAAf,UACE,eAACoB,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,mBAAoBQ,UAAW,SAAU+C,GAAI,GAAK1E,UAAU,MAAM6B,QAAQ,KAAnG,yDAGA,eAAC,IAAD,CAASL,OAAQF,EAAOG,gBAAiB,4CAAzC,SACE,uCACE,eAACuC,GAAA,EAAD,CACEnD,GAAI,CAAE6O,YAAa,QACnBzL,aACE,eAACC,GAAA,EAAD,CAASC,MAAO,uCAAGwL,OAAOH,GAAgB,IAA1B,4CAA0EpL,OAAK,EAA/F,SACE,eAAC,KAAD,CACEvD,GAAI,CACFuE,aAAc,MACdf,SAAU,SACVC,SAAU,gBARpB,SAcE,gBAAC5C,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,mBAAoBQ,UAAW,QAAS+C,GAAI,GAAK1E,UAAU,MAAM6B,QAAQ,KAAlG,4BACkB2N,OAGnBC,EAAa5Y,KAAI,WAAgCmE,GAAW,IAAxC8B,EAAuC,EAAvCA,WAAY5E,EAA2B,EAA3BA,KAAMyE,EAAqB,EAArBA,QACrC,OACE,uBAAiB2D,UAAU,mBAA3B,UACE,uBAAKA,UAAU,iBAAf,UACE,uBAAKA,UAAU,eAAf,UACE,eAAC,IAAD,CAAeX,MAAM,SACrB,eAAC+B,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,mBAAoBQ,UAAW,QAASiO,GAAI,GAAK5P,UAAU,MAAM6B,QAAQ,QAAlG,SACG3J,OAGL,uBAAKoI,UAAU,kBAAf,UACE,eAACoO,GAAD,CAAwB7M,QAAQ,cAAcvF,MAAOQ,IACrD,gBAAC4E,GAAA,EAAD,CACEpB,UAAU,wBACVO,GAAI,CAAEM,MAAO,iBAAkBQ,UAAW,UAC1C3B,UAAU,OACV6B,QAAQ,QAJV,UAMG/E,EANH,aAUJ,uBAAKwD,UAAU,gBAAf,UACE,eAACoB,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,mBAAoBQ,UAAW,QAASkO,GAAI,GAAK7P,UAAU,MAAM6B,QAAQ,QAAlG,SACGlF,IAEH,eAAC,IAAD,CAAgBgD,MAAM,cAxBhB3E,eC2LT8U,GArNK,WAClB,IAAM/Q,EAAWb,KACT2N,EAAajN,eAAbiN,SAGFtL,EAAcC,cAAc,SAACC,GAAD,OAAyBA,EAAMC,YAAYC,GAAG,SAC1EW,EAAQd,cAAc,SAACC,GAAD,OAAyBA,EAAMC,YAAYa,KAAK,SACtEwO,EAAavP,cAAc,SAACC,GAAD,OAAyBA,EAAMC,YAAYa,KAAK,SAGzE1J,EAAmBmH,aAAY,SAAC3G,GAAD,OAAsBA,EAAMiF,QAA3DzF,eACAmC,EAAqBgF,aAAY,SAAC3G,GAAD,OAAsBA,EAAM2D,cAAclC,YAA3EE,iBACAQ,EAAmBwE,aAAY,SAAC3G,GAAD,OAAsBA,EAAM2D,cAAc1B,UAAzEE,eACFZ,EAAWoF,aAAY,SAAC3G,GAAD,OAAsBA,EAAM2D,cAAcpC,YACvE,EAAoDoF,aAAY,SAAC3G,GAAD,OAAsBA,EAAM2D,cAAc7B,aAAlGJ,EAAR,EAAQA,SAAUE,EAAlB,EAAkBA,OAAQI,EAA1B,EAA0BA,sBACpB2V,EAAoBhR,YAAYnD,IAChCoU,EAAkBjR,YAAY9C,IAC9BS,EAAUqC,YAAYzC,IACtBkT,EAAezQ,YAAYnC,IAGjC,EAAwBqT,oBAAS,GAAjC,mBAAOhC,EAAP,KAAaiC,EAAb,KACA,EAA0CD,mBAAS,MAAnD,mBAAO/B,EAAP,KAAsBzC,EAAtB,KACA,EAA8BwE,mBAAS,MAAvC,mBAAOnI,EAAP,KAAgBqI,EAAhB,KACA,EAA0BF,mBAAS,MAAnC,mBAAOtH,EAAP,KAAcyH,EAAd,KAEM1E,EAAc,WAClBwE,GAAQ,GACRE,EAAS,MACTD,EAAW,MACX1E,EAAiB,OAGb4E,EAAe,uCAAG,0DAAA1a,EAAA,sEACIwQ,KADJ,cAChByD,EADgB,OAEhBuC,EAAsC,CAC1ClU,KAAK,GAAD,cAAK0B,QAAL,IAAKA,OAAL,EAAKA,EAAU1B,KAAf,kBACJ2R,cACAvT,MAAK,OAAEsD,QAAF,IAAEA,OAAF,EAAEA,EAAUC,OACjB0W,WAAY,CACVC,SAAQ,OAAE5W,QAAF,IAAEA,OAAF,EAAEA,EAAU1B,KACpBoC,OAAQ2V,IAGZE,GAAQ,GAXc,EAqBlB1E,GAA0BC,EAAkBC,EAAnB,uCAAgC,WAAOzF,GAAP,SAAAtQ,EAAA,2DACnDsQ,EADmD,cAEpDC,GAA0BuG,cAF0B,SAKpDvG,GAA0BwG,yBAL0B,OAMpDxG,GAA0B6G,gBAN0B,OAOpD7G,GAA0ByH,WAP0B,SAYpDzH,GAA0ByG,uBAZ0B,OAapDzG,GAA0B8G,WAb0B,UAqBpD9G,GAA0B6H,UArB0B,UAwBpD7H,GAA0B0G,WAxB0B,OAyBpD1G,GAA0B6F,cAzB0B,OA0BpD7F,GAA0BkG,aA1B0B,0BAGvDV,IAHuD,wCAQvDyE,EARuD,SAQtClD,EAAa8C,EAAkBvH,SARO,8CASvD4H,EATuD,UASxCjD,EAAiBrF,GATuB,oDAUjD8F,EAAejF,EAAOb,GAV2B,6DAcjD+E,EAAkBkD,EAAkBvH,SAAS,GAdI,oBAevD2H,EAfuD,UAetClD,EAAa8C,EAAkBvH,SAfO,0CAgBvDpJ,QAAQC,IAAI,YAAayI,GAhB8B,KAiBvDsI,EAjBuD,UAiBxCjD,EAAiBrF,GAjBuB,0CAkBvD1I,QAAQC,IAAI,UAAWsJ,GAlBgC,UAmBjDiF,EAAejF,EAAOb,GAnB2B,6DAsBjD8F,EAAejF,EAAOb,GAtB2B,mDA2BvDsI,EAAS,MACTD,EAAW,MACX1E,EAAiB,MACjB4E,IA9BuD,6BAiCvDjR,QAAQvL,MAAM,gBAjCyC,4CAAhC,uDAR3B8X,EAboB,EAapBA,gBACAK,EAdoB,EAcpBA,mBACAiB,EAfoB,EAepBA,aACAf,EAhBoB,EAgBpBA,gBACAG,EAjBoB,EAiBpBA,iBACAQ,EAlBoB,EAkBpBA,kBACAM,EAnBoB,EAmBpBA,iBACAS,EApBoB,EAoBpBA,eApBoB,SA6DIjC,EAAgBC,GA7DpB,cA6DhBE,EA7DgB,OA8DtB1M,QAAQC,IAAI,gBAAiByM,GA9DP,UAmESE,EAAmBF,GAnE5B,eAmEhBG,EAnEgB,OAoEtB7M,QAAQC,IAAI,qBAAsByM,GApEZ,UAyEEI,EAAgBD,EAAkBE,GAzEpC,eAyEhBqE,EAzEgB,OA0EtBpR,QAAQC,IAAI,cAAemR,GA1EL,UA+EDnE,EAAiBmE,EAAWT,EAAkBvH,QAAS9L,GA/EtD,eA+EhB+T,EA/EgB,OAgFtBN,EAAU,OAACM,QAAD,IAACA,OAAD,EAACA,EAAQ3I,SACnB1I,QAAQC,IAAI,WAAYoR,GACxBrR,QAAQC,IAAI,YAAayI,GAlFH,UAuFhB+E,EAAkBkD,EAAkBvH,UAAWiI,GAvF/B,oBA4FtBL,EA5FsB,UA4FPjD,EAAiBrF,GA5FV,0CA6FtB1I,QAAQC,IAAI,UAAWsJ,GA7FD,UAkGQiF,EAAejF,EAAOb,GAlG9B,QAkGhB4I,EAlGgB,OAmGtBtR,QAAQC,IAAI,oBAAqBqR,GAnGX,4CAAH,qDAuHrB,OAZA1R,qBAAU,WACJzE,EAAexF,QAAUgF,GAC3B+E,EAASpF,EAAiBK,MAE3B,CAAC+E,EAAU/E,EAAkBQ,IAEhCyE,qBAAU,WACJpH,GACF8T,MAED,CAAC5M,EAAUlH,IAGZ,uCACE,eAAC,GAAD,CAAuBuW,WAAY2B,EAAY7B,KAAMA,EAAMM,QAAS,kBAAM2B,GAAQ,IAAQhC,cAAeA,IACzG,eAAC,GAAD,CACElU,OAAQA,EACRqG,UAAU,2BACVJ,KACE,uCACE,eAACU,GAAA,EAAD,CAAKN,UAAU,cAAf,SACE,eAAC,IAAD,CAAaX,MAAOY,EAAc,QAAU,WAE9C,eAAC,GAAD,CAAkBiP,aAAc7S,EAAS8S,aAAcA,OAG3DtP,MACE,uBAAKG,UAAU,wBAAf,UACE,eAACoB,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,mBAAoBQ,UAAW,SAAUC,GAAI,GAAK5B,UAAU,MAAM6B,QAAQ,KAAnG,wIAGC7H,GAAoBQ,EAAexF,QAClC,OAAC+E,QAAD,IAACA,OAAD,EAACA,EAAU/E,QAKT+E,EAASlD,KAAI,SAACsD,EAA8Ba,GAA/B,OACX,eAAC,GAAD,CACE+N,SAAU,SAAC7Q,GAAD,OAAU6G,EAASlE,GAAgB3C,KAC7CmC,sBAAuBA,EACvBF,UAAWA,GAHb,oBAIoBa,OATtB,gBAAC0G,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,mBAAoBQ,UAAW,SAAUC,GAAI,EAAG2D,GAAI,GAAKvF,UAAU,MAAM6B,QAAQ,KAA1G,mDACyC7H,EADzC,gEAcF,eAAC0H,GAAA,EAAD,CACEpB,UAAU,mBACVO,GAAI,CAAEM,MAAO,mBAAoBQ,UAAW,SAAUC,GAAI,GAC1D5B,UAAU,MACV6B,QAAQ,KAJV,qGAWNzB,QAAS,eAAC,IAAD,CAAUqC,UAAW,eAAC,KAAD,IAAwBzC,UAAW2C,IAAM5C,GAAG,yBAAyB2C,MAAM,SACzGrC,QACE,eAAC,IAAD,CACEuC,SAAoC,OAA1BvI,GAAkCJ,IAAWtC,EAAYgE,QACnEkH,QAAS,eAAC,KAAD,IACTL,QAAS,kBAAM8N,KACfvQ,GAAG,4BACH2C,MAAOpB,EAAQ,OAAS,sC,yCCnGrBsP,I,OA/GE,WACf,IAAMrQ,EAAcC,cAAc,SAACC,GAAD,OAAyBA,EAAMC,YAAYC,GAAG,SAC1EW,EAAQd,cAAc,SAACC,GAAD,OAAyBA,EAAMC,YAAYa,KAAK,SAEtExC,EAAWZ,cACjB,EAAyBa,aAAY,SAAC3G,GAAD,OAAsBA,EAAM2D,cAAcpC,YAAvE1B,EAAR,EAAQA,KAAM2B,EAAd,EAAcA,OAERgX,EAAyBC,mBAAQ,WAIrC,OAAOC,MAHe,SAAC5Z,GACrB4H,EAASrE,GAAWvD,EAAE6Z,OAAO1U,UAEA,OAC9B,CAACyC,IAMJ,OAJAE,qBAAU,WACR,OAAO,kBAAM4R,EAAuBI,YACnC,CAACJ,IAGF,eAAC,GAAD,CACE5W,OAAQtC,EAAYuC,KACpBoG,UAAU,yBACVJ,KACE,uCACE,eAACU,GAAA,EAAD,CAAKN,UAAU,cAAf,SACE,eAAC,IAAD,CAAaX,MAAOY,EAAc,QAAU,WAG9C,eAAC,IAAD,CAASiB,OAAQF,EAAOG,gBAAiB,0DAAzC,SACE,uCACE,yDACyB,wBADzB,2CAIA,oBAAGnB,UAAU,YAAb,yFAEA,gJAKRH,MACE,uBAAKG,UAAU,uBAAf,UACE,eAACoB,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,mBAAoBQ,UAAW,SAAUC,GAAI,GAAK5B,UAAU,MAAM6B,QAAQ,KAAnG,kCAIA,uBAAKvB,UAAU,gBAAf,UACE,eAACoB,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,mBAAoBuD,GAAI,GAAK1E,UAAU,MAAM6B,QAAQ,QAA9E,sBAGA,uBAAKvB,UAAU,wBAAf,UACE,eAACoB,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,oBAAsBnB,UAAU,MAAM6B,QAAQ,QAAvE,6DAGA,eAACqP,GAAA,EAAD,CACEC,WAAS,EACTlM,aAAc/M,EACdkZ,WAAY,CAAEC,UAAW,IACzBC,SAAUT,EACVU,WACE,eAAC7P,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,kBAAoBnB,UAAU,OAAO6B,QAAQ,QAAtE,+BAIFA,QAAQ,mBAKd,uBAAKvB,UAAU,gBAAf,UACE,eAACoB,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,mBAAoBuD,GAAI,GAAK1E,UAAU,MAAM6B,QAAQ,QAA9E,oBAGA,uBAAKvB,UAAU,wCAAf,UACE,eAACoB,GAAA,EAAD,CAAYb,GAAI,CAAEM,MAAO,oBAAsBnB,UAAU,MAAM6B,QAAQ,QAAvE,8DAGA,eAAC,IAAD,CACE2P,kBAAmB3X,EACnB4X,WAAU,uCAAE,WAAOre,GAAP,eAAAwC,EAAA,0DACNxC,EADM,gCAEaD,aAASC,GAFtB,OAEFuB,EAFE,OAGRoK,EAASpE,GAAgBhG,IAHjB,sBAKRoK,EAASpE,GAAgB,OALjB,2CAAF,sDAQVkG,GAAI,CACFlB,MAAO,OACPC,OAAQ,mBAOpBQ,QAAS,KACTC,QACE,eAAC,IAAD,CACEwC,QAAS,eAAC,KAAD,IACT7C,UAAW2C,IACX5C,GAAG,6BACH6C,UAAW1K,IAAS2B,EACpB6I,MAAOpB,EAAQ,OAAS,iCC5FnBoQ,GAnBF,SAAC5R,GACZ,IAAMf,EAAWZ,cAQjB,OAPAc,qBACE,kBAAM,WACJI,QAAQC,IAAI,WACZP,EAASzD,QAEX,CAACyD,IAGD,uBAAKuB,UAAU,8BAAf,UACE,eAAC,IAAD,aAAOlK,KAAK,4BAA4B4J,UAAW4Q,IAAc9Q,IACjE,eAAC,IAAD,aAAO1J,KAAK,6BAA6B4J,UAAWqB,IAAgBvB,IACpE,eAAC,IAAD,aAAO1J,KAAK,yBAAyB4J,UAAWqF,IAAYvF,IAC5D,eAAC,IAAD,aAAO1J,KAAK,8BAA8B4J,UAAW8P,IAAiBhQ,QCoC7D6R,I,OAtDI,WACjB,IAAMpR,EAAcC,cAAc,SAACC,GAAD,OAAyBA,EAAMC,YAAYC,GAAG,SAC1EW,EAAQd,cAAc,SAACC,GAAD,OAAyBA,EAAMC,YAAYa,KAAK,SAE5E,OACE,uBAAKjB,UAAU,2BAAf,UACE,gBAACM,GAAA,EAAD,CAAKC,GAAI,CAAEC,EAAG,EAAGC,EAAG,GAAKT,UAAU,SAAnC,UACE,eAACM,GAAA,EAAD,CAAKN,UAAU,cAAf,SACE,eAAC,IAAD,CAAaX,MAAOY,EAAc,QAAU,WAG9C,eAAC,IAAD,CAASiB,OAAQF,EAAOG,gBAAiB,uDAAzC,SACE,uCACE,+BACE,uDADF,uFAGA,oNAON,eAAC,IAAD,CAAWR,YAAaV,EAAc,WAAa,eACnD,gBAACK,GAAA,EAAD,CAAKC,GAAI,CAAEC,EAAG,EAAGC,EAAG,GAAKT,UAAU,SAAnC,UACE,eAACM,GAAA,EAAD,CAAKN,UAAU,eAAf,SACE,gBAACoB,GAAA,EAAD,CAAYP,MAAM,eAAenB,UAAU,MAAM6B,QAAStB,EAAc,KAAO,KAA/E,qBACU,uBAAMD,UAAU,YAAhB,iCAGZ,gBAACM,GAAA,EAAD,CAAKN,UAAU,iBAAf,UACE,eAAC,IAAD,CAAUoC,MAAM,mBAAmB1C,UAAW2C,IAAM5C,GAAG,8BACvD,eAACiE,GAAA,EAAD,CACEC,aACE,eAACC,GAAA,EAAD,CAASC,MAAM,eAAeC,OAAK,EAAnC,SACE,eAAC,KAAD,CACEvD,GAAI,CACFwI,QAAS,eACTjE,aAAc,MACdf,SAAU,SACVC,SAAU,gBARpB,SAcE,eAAC,IAAD,CAAU1B,UAAQ,EAACF,MAAM,SAAS1C,UAAW2C,IAAM5C,GAAG,mCCnC5D6R,GAAY3Y,mBAAmB4Y,+BAAqB,eAAC,IAAD,MAE1D,SAASC,KACP,OAAO,qBAAIC,MAAO,CAAE5Q,MAAO,SAApB,kBAGT,IAAM6Q,GAAiB,kBACrB,sBAAK1R,UAAU,cAAf,SACE,eAAC,IAAD,CAAaX,MAAM,KAAKC,OAAO,UAI7BqS,GAA0B,SAACnS,GAC/B,IAAQ1J,EAAS0J,EAAMjL,MAAfuB,KACR,OACE,uCACE,eAAC,IAAD,aAAOA,KAAI,UAAKA,EAAL,cAAuB4J,UAAWH,IAAeC,IAC5D,eAAC,IAAD,aAAO1J,KAAI,UAAKA,EAAL,kBAA2B4J,UAAW8R,IAAUhS,QAK3DoS,GAAuB,SAAC,GAAD,IAAMpS,EAAN,2BAC3B,uCACE,eAAC,IAAD,aAAOqS,OAAK,EAACnS,UAAW2R,GAAYvb,KAAK,KAAQ0J,IACjD,eAAC,IAAD,aAAOE,UAAW0R,GAAMtb,KAAK,mBAAsB0J,QAkGxCsS,gBA9FH,SAACtS,GACX,IAAMf,EAAWb,KACjB,EAAgCgS,oBAAS,GAAzC,mBAAOmC,EAAP,KAAkBC,EAAlB,KAEQza,EAAmBmH,aAAY,SAAC3G,GAAD,OAAsBA,EAAMiF,QAA3DzF,eAERoH,qBAAU,WACR,IAAMsT,EAAS,uCAAG,sBAAA3c,EAAA,sDAChB0c,GAAW,GACXvT,EAAS3G,GAAiB,IAFV,2CAAH,qDAIfoa,YAAqB9L,QACrBA,OAAO+L,iBAAiB,qBAAsBF,GAG9C,IAAMG,EAAU7Z,YAAW,WACpBhB,GACHya,GAAW,KAEZ,KAEH,OAAO,WACLK,aAAaD,GACbhM,OAAOkM,oBAAoB,qBAAsBL,MAElD,CAAC1a,EAAgBkH,IAEpB,IAAM8T,EAAmB,CACvB,CACExd,KAAM,OACNqN,MAAO,cACPoQ,KAAM,yBACNC,KAAM,eAACC,EAAA,EAAD,CAAShT,UAAWiT,OAE5B,CACE5d,KAAM,OACNqN,MAAO,aACPoQ,KAAM,wBACNC,KAAM,eAACC,EAAA,EAAD,CAAShT,UAAWiT,OAE5B,CACE5d,KAAM,OACNqN,MAAO,gBACPoQ,KAAM,2BACNC,KAAM,eAACC,EAAA,EAAD,CAAShT,UAAWiT,OAE5B,CACE5d,KAAM,OACNqN,MAAO,WACPoQ,KAAM,sBACNC,KAAM,eAACC,EAAA,EAAD,CAAShT,UAAWiT,OAE5B,CACE5d,KAAM,WAER,CACEqN,MAAO,UACPrN,KAAM,SACNmN,QAAS,WACP0Q,aAAaC,WAAW,eACxBpU,EAASrG,KACToH,EAAMsT,QAAQC,KAAK,KACnB3M,OAAO4M,SAASC,UAElBR,KAAM,eAACC,EAAA,EAAD,CAAShT,UAAWiT,QAI9B,OACE,eAAC,GAAD,UACE,eAAC,GAAD,UACE,eAAC,IAAD,CACE3S,UAAW+R,EAAY,UAAY,GACnCmB,IACE,sBACElT,UAAU,aACVyR,MAAO,CACL0B,WAAYpB,EAAY,SAAW,WAHvC,SAOE,mCAAkBqB,oBAAoB,EAAOpc,GAAG,mBAGpDqc,cAAa,wCAAmC/B,GAAnC,MACbgC,OAAQ/b,GAAkB,eAAC,IAAD,CAAWgc,WAAY,eAAC,IAAD,CAAalU,MAAM,MAAMC,OAAO,QAAUsO,MAAI,EAAC2E,UAAWA,IAd7G,SAgBGR,EAAY,eAAC,GAAD,IAAqBxa,EAAiB,eAAC,GAAD,eAAmBiI,IAAY,eAAC,GAAD,eAAgBA,aCvH7FgU,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqB9c,MAAK,YAAkD,IAA/C+c,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCERO,GAAYC,YAAa7W,IAEzB+C,GAAQ+T,YAAY,CACxBC,WAAY,CACVC,iBAAkB,CAChBC,aAAc,CACZC,OAAO,IAGXC,iBAAkB,CAChBC,eAAgB,CACd7e,KAAM,CACJ8e,YAAa,QACbC,YAAa,MACbC,YAAa,mBAKrBvU,YAAa,CACXwU,OAAQ,CACNC,GAAI,EACJC,GAAI,IACJC,GAAI,IACJC,GAAI,KACJC,GAAI,OAGRzG,QAAS,CACPzZ,KAAM,OACNmgB,KAAM,CACJnG,QAAS,QAGXA,QAAS,CACPC,KAAM,WAERmG,UAAW,CACTnG,KAAM,YAOVoG,MAAO,CACLtQ,aAAc,GAEhBuQ,WAAY,CACVC,WAAY,CAAC,eAAgB,eAAeC,KAAK,QAIrDC,IAASC,OACP,eAACC,EAAA,EAAD,CAAsBC,aAAW,EAAjC,SACE,eAACC,EAAA,EAAD,CAAezV,MAAOA,GAAtB,SACE,eAAC,IAAD,CAAQ0V,SAAS,wBAAjB,SACE,eAAC,IAAD,CAAUzY,MAAOA,GAAjB,SACE,eAAC,IAAD,CAAa4W,UAAWA,GAAxB,SACE,eAAC,GAAD,cAMV8B,SAASC,eAAe,SAM1BvC,O","file":"static/js/main.4e7aa2c8.chunk.js","sourcesContent":["export const toBase64 = (file: File) => {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = (error) => reject(error);\r\n  });\r\n};\r\n\r\nexport const isBase64 = (str: string) => {\r\n  if (str === '' || str.trim() === '') {\r\n    return false;\r\n  }\r\n  try {\r\n    return btoa(atob(str)) === str;\r\n  } catch (err) {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const base64toFile = (dataurl = '', filename: string) => {\r\n  if (!dataurl) {\r\n    throw new Error('No content was provided');\r\n  }\r\n  const [metadata, base64] = dataurl.split(',');\r\n  const mime = metadata.match(/:(.*?);/)[1];\r\n\r\n  if (!isBase64(base64)) {\r\n    throw new Error('Content provided is not of base64');\r\n  }\r\n  const bstr = atob(base64);\r\n  let n = bstr.length;\r\n  const u8arr = new Uint8Array(n);\r\n\r\n  // eslint-disable-next-line no-plusplus\r\n  while (n--) {\r\n    u8arr[n] = bstr.charCodeAt(n);\r\n  }\r\n\r\n  return new File([u8arr], filename, { type: mime });\r\n};\r\n","import { base64toFile } from '@dito-utils/to-base-64';\r\nimport { Buckets } from '@textile/hub';\r\nimport { TextileBucketMetadata } from './model';\r\n\r\nconst keyInfo = {\r\n  key: process.env.REACT_APP_PUBLIC_TEXTILE_KEY,\r\n  secret: process.env.REACT_APP_PUBLIC_TEXTILE_SECRET,\r\n};\r\n\r\nexport async function uploadImageToTextileBucket(content: ArrayBuffer) {\r\n  const buckets = await Buckets.withKeyInfo(keyInfo);\r\n  const { root } = await buckets.getOrCreate(process.env.REACT_APP_PUBLIC_BUCKET_NAME);\r\n  if (!root) throw new Error('bucket not created');\r\n  const path = `profile.png`;\r\n  const links = await buckets.pushPath(root.key, path, content);\r\n  return `https://hub.textile.io${links.path.path}`;\r\n}\r\n\r\nexport const generateTextileBucketUrl = async (metadata: TextileBucketMetadata) => {\r\n  const buckets = await Buckets.withKeyInfo(keyInfo);\r\n  const { root } = await buckets.getOrCreate(process.env.REACT_APP_PUBLIC_BUCKET_NAME);\r\n  if (!root) throw new Error('bucket not created');\r\n\r\n  if (metadata.image) {\r\n    const file = base64toFile(metadata.image, 'avatar');\r\n    const arrayBuffer = await file.arrayBuffer();\r\n    metadata.image = await uploadImageToTextileBucket(arrayBuffer);\r\n  }\r\n\r\n  const buf = Buffer.from(JSON.stringify(metadata, null, 2));\r\n  const path = 'metadata.json';\r\n  const links = await buckets.pushPath(root.key, path, buf);\r\n  return `https://hub.textile.io${links.path.path}`;\r\n};\r\n","var map = {\n\t\"./auth-image_11.entry.js\": [\n\t\t725,\n\t\t4\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 408;\nmodule.exports = webpackAsyncContext;","// eslint-disable-next-line no-shadow\r\nexport enum ResultState {\r\n  'Idle' = 'Idle',\r\n  'Loading' = 'Loading',\r\n  'Failed' = 'failed',\r\n}\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport Web3 from 'web3';\r\n\r\nexport interface AuthState {\r\n  isAutheticated: boolean;\r\n  web3jsInstance: Web3;\r\n  userAddress: string;\r\n}\r\n\r\nconst initialState: AuthState = {\r\n  isAutheticated: false,\r\n  web3jsInstance: null,\r\n  userAddress: null,\r\n};\r\n\r\nexport const authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  reducers: {\r\n    setAuthenticated(state, action) {\r\n      state.isAutheticated = action.payload;\r\n    },\r\n    setWeb3jsInstance(state, action) {\r\n      state.web3jsInstance = action.payload;\r\n    },\r\n    setUserAddress(state, action) {\r\n      state.userAddress = action.payload;\r\n    },\r\n    resetAuthState: () => initialState,\r\n  },\r\n});\r\n\r\nexport const { setAuthenticated, setWeb3jsInstance, setUserAddress, resetAuthState } = authSlice.actions;\r\n\r\nexport default authSlice.reducer;\r\n","import { Category, CommunityCategory, SkillCategory } from './model';\n\nexport const getCategories = async (): Promise<Category[]> =>\n  new Promise((resolve) => {\n    setTimeout(() => {\n      resolve([\n        {\n          id: 0,\n          name: 'Management',\n        },\n        {\n          id: 1,\n          name: 'Network Design',\n        },\n        {\n          id: 2,\n          name: 'Training & Sport',\n        },\n        {\n          id: 3,\n          name: 'Web Dev',\n        },\n        {\n          id: 4,\n          name: 'DeFi',\n        },\n        {\n          id: 5,\n          name: 'Tokenomics',\n        },\n        {\n          id: 6,\n          name: 'Painting',\n        },\n        {\n          id: 7,\n          name: 'Consesus',\n        },\n        {\n          id: 8,\n          name: 'Photography',\n        },\n        {\n          id: 9,\n          name: 'Community',\n        },\n        {\n          id: 10,\n          name: 'Governance',\n        },\n        {\n          id: 11,\n          name: 'Teaching',\n        },\n        {\n          id: 12,\n          name: 'Architecture',\n        },\n        {\n          id: 13,\n          name: 'Frontend Dev',\n        },\n        {\n          id: 14,\n          name: 'Gardening',\n        },\n\n        {\n          id: 15,\n          name: 'Mobile Dev',\n        },\n        {\n          id: 16,\n          name: 'Video-Making',\n        },\n        {\n          id: 17,\n          name: 'Legal',\n        },\n        {\n          id: 18,\n          name: 'Smart Contracts',\n        },\n        {\n          id: 19,\n          name: 'Game Theory',\n        },\n        {\n          id: 20,\n          name: 'Householding',\n        },\n        {\n          id: 21,\n          name: 'Backend',\n        },\n        {\n          id: 22,\n          name: 'Blockchain',\n        },\n      ]);\n    }, 2000);\n  });\n\nexport const getSkills = async (categoryId: string): Promise<SkillCategory[]> => {\n  return fetch(`${process.env.REACT_APP_PUBLIC_API_URL}/api/skill?skill=${encodeURIComponent(categoryId)}`, { method: 'GET' })\n    .then((res) => res.json())\n    .then(({ categories }) => categories)\n    .catch(() => []);\n};\n\nexport const getCommunties = async (categoryId: string): Promise<CommunityCategory[]> => {\n  return fetch(`${process.env.REACT_APP_PUBLIC_API_URL}/api/community?category=${encodeURIComponent(categoryId)}`, { method: 'GET' })\n    .then((res) => res.json())\n    .catch(() => []);\n};\n","import { TextileBucketSkillsMetadata } from 'src/api/model';\r\nimport { ResultState } from '@dito-store/status';\r\nimport { createSlice, createAsyncThunk, createSelector } from '@reduxjs/toolkit';\r\n\r\nimport { getCategories, getCommunties, getSkills } from './join.api';\r\nimport { Category, CommunityCategory, SkillCategory } from './model';\r\n\r\ninterface Skill {\r\n  skill: string;\r\n  xp: number;\r\n}\r\n\r\nexport interface JoinCommunityState {\r\n  userInfo: {\r\n    name: string;\r\n    avatar: string;\r\n  };\r\n  category: {\r\n    entities: Category[];\r\n    selectedCategory: string;\r\n    status: ResultState;\r\n  };\r\n  community: {\r\n    entities: CommunityCategory[];\r\n    communitySelectedCategory: string;\r\n    selectedCommunityName: string;\r\n    status: ResultState;\r\n  };\r\n  skills: {\r\n    entities: SkillCategory[];\r\n    skillSelectedCategory: string;\r\n    selectedSkills: Skill[];\r\n    status: ResultState;\r\n  };\r\n}\r\n\r\nexport const fetchCategories = createAsyncThunk('category/entities', async () => getCategories());\r\nexport const fetchSkills = createAsyncThunk('skills/entities', async (categoryId: string) => getSkills(categoryId));\r\nexport const fetchCommunities = createAsyncThunk('community/entities', async (categoryId: string) => getCommunties(categoryId));\r\n\r\nconst initialState: JoinCommunityState = {\r\n  userInfo: {\r\n    name: null,\r\n    avatar: null,\r\n  },\r\n  category: {\r\n    entities: [],\r\n    selectedCategory: null,\r\n    status: ResultState.Idle,\r\n  },\r\n  community: {\r\n    entities: [],\r\n    communitySelectedCategory: null,\r\n    selectedCommunityName: null,\r\n    status: ResultState.Idle,\r\n  },\r\n  skills: {\r\n    skillSelectedCategory: null,\r\n    entities: [],\r\n    selectedSkills: [],\r\n    status: ResultState.Idle,\r\n  },\r\n};\r\n\r\nexport const joinCommunitySlice = createSlice({\r\n  name: 'joinCommunity',\r\n  initialState,\r\n  reducers: {\r\n    updateName(state, action) {\r\n      state.userInfo.name = action.payload;\r\n    },\r\n    updateAvatarUrl(state, action) {\r\n      state.userInfo.avatar = action.payload;\r\n    },\r\n    selectCategory(state, action) {\r\n      state.category.selectedCategory = action.payload;\r\n    },\r\n    selectCommunity(state, action) {\r\n      state.community.selectedCommunityName = action.payload;\r\n    },\r\n    updateSkill(state, action) {\r\n      const { skill } = action.payload;\r\n      const index = state.skills.selectedSkills.findIndex((x) => x.skill === skill);\r\n      state.skills.selectedSkills.splice(index, 1, action.payload);\r\n    },\r\n    toggleSkill(state, action) {\r\n      const index = state.skills.selectedSkills.findIndex((x) => x.skill === action.payload);\r\n      if (index === -1) {\r\n        state.skills.selectedSkills = [\r\n          ...state.skills.selectedSkills,\r\n          {\r\n            skill: action.payload,\r\n            xp: 0,\r\n          },\r\n        ];\r\n      } else {\r\n        state.skills.selectedSkills.splice(index, 1);\r\n      }\r\n    },\r\n    resetJoinCommunityState: () => initialState,\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchCategories.pending, (state) => {\r\n        state.category.status = ResultState.Loading;\r\n      })\r\n      .addCase(fetchCategories.fulfilled, (state, action) => {\r\n        state.category.entities = action.payload as any[];\r\n        state.category.status = ResultState.Idle;\r\n      })\r\n      .addCase(fetchSkills.pending, (state) => {\r\n        state.skills.selectedSkills = [];\r\n        state.skills.status = ResultState.Loading;\r\n      })\r\n      .addCase(fetchSkills.fulfilled, (state, action) => {\r\n        state.skills.entities = action.payload as any[];\r\n        state.skills.skillSelectedCategory = state.category.selectedCategory;\r\n        state.skills.status = ResultState.Idle;\r\n      })\r\n      .addCase(fetchCommunities.pending, (state) => {\r\n        state.community.status = ResultState.Loading;\r\n      })\r\n      .addCase(fetchCommunities.fulfilled, (state, action) => {\r\n        state.community.entities = action.payload as any[];\r\n        state.community.communitySelectedCategory = state.category.selectedCategory;\r\n        state.community.status = ResultState.Idle;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { selectCategory, resetJoinCommunityState, toggleSkill, updateSkill, selectCommunity, updateAvatarUrl, updateName } =\r\n  joinCommunitySlice.actions;\r\n\r\nexport const getCommunity = createSelector(selectCommunity, (x1) => {\r\n  const { entities, selectedCommunityName } = x1.payload.joinCommunity.community;\r\n  return entities.find((e) => e.name === selectedCommunityName);\r\n});\r\n\r\nexport const getFormattedSkills = createSelector(updateSkill, toggleSkill, (x1): TextileBucketSkillsMetadata[] => {\r\n  const { selectedSkills } = x1.payload.joinCommunity.skills;\r\n  return selectedSkills.reduce((prev: TextileBucketSkillsMetadata[], curr: Skill) => {\r\n    return [\r\n      ...prev,\r\n      {\r\n        name: curr.skill,\r\n        value: curr.xp,\r\n      },\r\n    ];\r\n  }, []);\r\n});\r\n\r\nexport const getCredits = createSelector(updateSkill, toggleSkill, (x1): string => {\r\n  const { selectedSkills, entities } = x1.payload.joinCommunity.skills;\r\n  const totalSkillCredits = selectedSkills.reduce((prev: number, curr: Skill) => {\r\n    const entity = entities.find(({ skills }) => skills.some((s) => s === curr.skill));\r\n    prev += (entity?.credits || 0) * curr.xp;\r\n    return prev;\r\n  }, 0);\r\n  return (totalSkillCredits + 2000).toString();\r\n});\r\n\r\nexport const getSkillCredits = createSelector(updateSkill, toggleSkill, (x1): string => {\r\n  const { selectedSkills, entities } = x1.payload.joinCommunity.skills;\r\n  return selectedSkills.reduce((prev: any[], curr: Skill) => {\r\n    const entity = entities.find(({ skills }) => skills.some((s) => s === curr.skill));\r\n    prev = [\r\n      ...prev,\r\n      {\r\n        percentage: (curr.xp / 10) * 100,\r\n        name: curr.skill,\r\n        credits: (entity?.credits || 0) * curr.xp,\r\n      },\r\n    ];\r\n    return prev;\r\n  }, []);\r\n});\r\n\r\nexport default joinCommunitySlice.reducer;\r\n","import { AnyAction, configureStore, ThunkDispatch } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger';\r\n\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport storage from 'redux-persist/lib/storage';\r\nimport autoMergeLevel2 from 'redux-persist/lib/stateReconciler/autoMergeLevel2';\r\nimport { combineReducers } from 'redux';\r\nimport { persistReducer, PersistConfig } from 'redux-persist';\r\nimport authSliceReducer from '../auth/auth.reducer';\r\nimport joinCommunitySliceReducer from '../pages/community/join/store/join.reducer';\r\n\r\nconst persistConfig: PersistConfig<any> = {\r\n  key: 'appState',\r\n  storage,\r\n  stateReconciler: autoMergeLevel2,\r\n  blacklist: ['auth'],\r\n};\r\n\r\nconst reducers = combineReducers({\r\n  joinCommunity: joinCommunitySliceReducer,\r\n  auth: authSliceReducer,\r\n});\r\n\r\nconst persistedReducer = persistReducer(persistConfig, reducers);\r\n\r\nexport const store = configureStore({\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: false,\r\n    }).concat(logger),\r\n  reducer: persistedReducer,\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = ThunkDispatch<RootState, any, AnyAction>;\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport { Web3ReactProvider } from '@web3-react/core';\r\nimport { Web3Provider as EthersWeb3Provider } from '@ethersproject/providers';\r\n\r\nconst ETHERS_POLLING_INTERVAL = 1000;\r\n\r\nconst getLibrary = (provider: any) => {\r\n  const library = new EthersWeb3Provider(provider);\r\n  library.pollingInterval = ETHERS_POLLING_INTERVAL;\r\n  return library;\r\n};\r\n\r\ninterface Web3ProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Web3Provider: React.FC<Web3ProviderProps> = ({ children }) => {\r\n  return <Web3ReactProvider getLibrary={getLibrary}>{children}</Web3ReactProvider>;\r\n};\r\n\r\nexport default Web3Provider;\r\n","import { useEffect } from 'react';\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport Web3 from 'web3';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState, useAppDispatch } from '@dito-store/store';\r\nimport { setUserAddress, setWeb3jsInstance } from './auth.reducer';\r\n\r\nconst Web3jsComponent = ({ children }) => {\r\n  const { active, connector } = useWeb3React();\r\n  const dispatch = useAppDispatch();\r\n  const { web3jsInstance } = useSelector((state: RootState) => state.auth);\r\n\r\n  useEffect(() => {\r\n    connector\r\n      ?.getProvider()\r\n      .then((provider) => {\r\n        const instance = new Web3(provider);\r\n        dispatch(setWeb3jsInstance(instance));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [active, connector, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (web3jsInstance === null) {\r\n      return;\r\n    }\r\n    (web3jsInstance as Web3).eth.getAccounts((err, accounts: string[]) => {\r\n      if (err) {\r\n        console.error(err);\r\n      } else {\r\n        dispatch(setUserAddress(accounts[0]));\r\n      }\r\n    });\r\n  }, [web3jsInstance, dispatch]);\r\n\r\n  return children;\r\n};\r\n\r\nexport default Web3jsComponent;\r\n","import { Redirect, Route } from 'react-router-dom';\nimport { DitoLogoSvg } from 'sw-web-shared';\nimport './community.scss';\n\nfunction Topic() {\n  return <DitoLogoSvg width=\"50\" height=\"50\" />;\n}\n\nconst Community = (props) => {\n  const { path } = props.match;\n  return (\n    <>\n      <Redirect from=\"/community\" to={`${path}/skillwallet`} />\n      <Route component={Topic} path={`${path}/skillwallet`} {...props} />\n      <Route component={Topic} path={`${path}/dTown-hall`} {...props} />\n      <Route component={Topic} path={`${path}/notifications`} {...props} />\n      <Route component={Topic} path={`${path}/settings`} {...props} />\n    </>\n  );\n};\n\nexport default Community;\n","import { ResultState } from '@dito-store/status';\nimport { Box, CircularProgress, ThemeOptions } from '@mui/material';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport { SwDivider, SwScrollbar } from 'sw-web-shared';\nimport './join-base.scss';\n\nconst JoinBaseLayout = ({\n  left,\n  right,\n  prevBtn,\n  nextBtn,\n  status,\n  className,\n}: {\n  left: JSX.Element;\n  right: JSX.Element;\n  prevBtn: JSX.Element;\n  nextBtn: JSX.Element;\n  className: string;\n  status: ResultState;\n}) => {\n  const largeDevice = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.up('lg'));\n\n  return (\n    <div className={`sw-join-base-container ${className}`}>\n      <Box\n        sx={{\n          p: 0,\n          m: 0,\n          gridGap: '60px',\n        }}\n        className=\"sw-box\"\n      >\n        {left}\n      </Box>\n      <SwDivider orientation={largeDevice ? 'vertical' : 'horizontal'} />\n      <Box\n        sx={{\n          p: 0,\n          m: 0,\n          gridGap: '20px',\n        }}\n        className=\"sw-box\"\n      >\n        <Box sx={{ width: largeDevice ? '90% !important' : '100%' }} className=\"sw-box-right-inner\">\n          {status === ResultState.Loading ? (\n            <CircularProgress sx={{ color: 'background.paper' }} />\n          ) : !largeDevice ? (\n            right\n          ) : (\n            <SwScrollbar>{right}</SwScrollbar>\n          )}\n        </Box>\n        <Box\n          sx={{ width: largeDevice ? 'calc(90% - 12px) !important' : '100%', boxShadow: !largeDevice ? 2 : 0 }}\n          className=\"sw-box-actions\"\n        >\n          <div className=\"prev-step\">{prevBtn}</div>\n          <div className=\"next-step\">{nextBtn}</div>\n        </Box>\n      </Box>\n    </div>\n  );\n};\n\nexport default JoinBaseLayout;\n","import HelpOutlineIcon from '@mui/icons-material/HelpOutline';\r\nimport NavigateBeforeIcon from '@mui/icons-material/NavigateBefore';\r\nimport NavigateNextIcon from '@mui/icons-material/NavigateNext';\r\nimport { Box, List, ListItem, ThemeOptions, Typography } from '@mui/material';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { DitoLogoSvg, SwButton, SwQuote } from 'sw-web-shared';\r\n\r\nimport { RootState } from '@dito-store/store';\r\n\r\nimport { ResultState } from '@dito-store/status';\r\nimport JoinBaseLayout from '../base/join-base';\r\nimport { fetchCategories, selectCategory } from '../store/join.reducer';\r\n\r\nimport './categories.scss';\r\n\r\nconst Categories = () => {\r\n  const largeDevice = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.up('lg'));\r\n  const small = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.down('md'));\r\n\r\n  const dispatch = useDispatch();\r\n  const { entities, status, selectedCategory } = useSelector((state: RootState) => state.joinCommunity.category);\r\n  const userInfo = useSelector((state: RootState) => state.joinCommunity.userInfo);\r\n\r\n  useEffect(() => {\r\n    if (!entities.length && userInfo?.name && userInfo?.avatar) {\r\n      dispatch(fetchCategories());\r\n    }\r\n  }, [dispatch, entities, userInfo]);\r\n\r\n  return (\r\n    <JoinBaseLayout\r\n      status={status}\r\n      className=\"sw-categories-container\"\r\n      left={\r\n        <>\r\n          <Box className=\"sw-box-logo\">\r\n            <DitoLogoSvg width={largeDevice ? '100px' : '80px'} />\r\n          </Box>\r\n\r\n          <SwQuote mobile={small} mobileStartText={<p>Have you ever thought...</p>}>\r\n            <>\r\n              <p>\r\n                Have you ever thought, <br />\r\n                \"I would like to contribute, but ...\"\r\n              </p>\r\n              <p className=\"mt-4 mb-4\">Distributed Town (DiTo) lets you create or join a community with one click.</p>\r\n\r\n              <p>Just select what you are best at - and we will match with the best communities that need you the most.</p>\r\n            </>\r\n          </SwQuote>\r\n        </>\r\n      }\r\n      right={\r\n        <div className=\"sw-category-wrapper\">\r\n          <Typography sx={{ color: 'background.paper', textAlign: 'center', pb: 2 }} component=\"div\" variant=\"h6\">\r\n            Pick a category\r\n          </Typography>\r\n\r\n          {userInfo?.name && userInfo?.avatar ? (\r\n            <List\r\n              sx={{\r\n                display: 'grid',\r\n                width: '100%',\r\n                gridGap: '15px',\r\n                padding: 0,\r\n                gridTemplateColumns: 'repeat(auto-fit, minmax(175px, 1fr))',\r\n                gridAutoRows: 'minmax(60px, auto)',\r\n              }}\r\n            >\r\n              {entities.map(({ id, name }) => (\r\n                <ListItem key={id} sx={{ height: '45px' }} disablePadding>\r\n                  <SwButton\r\n                    sx={{\r\n                      height: '100%',\r\n                      whiteSpace: 'nowrap',\r\n                      overflow: 'hidden',\r\n                      textOverflow: 'ellipsis',\r\n                      width: '100%',\r\n                    }}\r\n                    onClick={() => dispatch(selectCategory(name))}\r\n                    className={selectedCategory === name ? 'active-link' : ''}\r\n                    startIcon={<HelpOutlineIcon />}\r\n                    label={name}\r\n                  />\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          ) : (\r\n            <Typography\r\n              className=\"no-item-selected\"\r\n              sx={{ color: 'background.paper', textAlign: 'center', pb: 2 }}\r\n              component=\"div\"\r\n              variant=\"h6\"\r\n            >\r\n              Personal information was not provided, go back to provide it!\r\n            </Typography>\r\n          )}\r\n        </div>\r\n      }\r\n      prevBtn={<SwButton startIcon={<NavigateBeforeIcon />} component={Link} to=\"/join-community/user-info\" label=\"Prev\" />}\r\n      nextBtn={\r\n        <SwButton\r\n          disabled={selectedCategory === null || status === ResultState.Loading || !(userInfo?.name && userInfo?.avatar)}\r\n          endIcon={<NavigateNextIcon />}\r\n          component={Link}\r\n          to=\"/join-community/skills\"\r\n          label={small ? 'Next' : 'Next: Pick your skills'}\r\n        />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default Categories;\r\n","import {\n  Card,\n  CardContent,\n  Typography,\n  List,\n  ListItem,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Badge,\n  Tooltip,\n  Stack,\n  Slider,\n  Box,\n} from '@mui/material';\nimport { SwButton } from 'sw-web-shared';\nimport HelpOutlineIcon from '@mui/icons-material/HelpOutline';\nimport './skill-card.scss';\n\nfunction SkillCard({ category, skills, credits, selectedSkills, toggleSkill, updateSkill }) {\n  return (\n    <Card className=\"sw-skill-card\" sx={{ display: 'flex' }}>\n      <Box sx={{ display: 'flex', flexDirection: 'column', width: '100%' }}>\n        <CardContent sx={{ flex: '1 0 auto' }}>\n          <Typography component=\"div\" variant=\"h6\">\n            {category} <small>({credits} Credits)</small>\n          </Typography>\n        </CardContent>\n        <Box\n          sx={{\n            display: 'flex',\n            alignItems: 'center',\n            pl: '16px',\n            pr: '16px',\n          }}\n        >\n          <List className=\"sw-skill-list\">\n            {skills.map((skill: string, index: number) => {\n              const currentSkill = selectedSkills.find((x) => x.skill === skill);\n              return (\n                <ListItem key={index} sx={{ minHeight: '45px', alignItems: 'flex-start' }} disablePadding>\n                  <Accordion disableGutters elevation={0} square sx={{ p: 0, m: 0, width: '100%' }} expanded={!!currentSkill}>\n                    <AccordionSummary>\n                      <SwButton\n                        label={skill}\n                        sx={{\n                          height: '100%',\n                          whiteSpace: 'nowrap',\n                          overflow: 'hidden',\n                          textOverflow: 'ellipsis',\n                          width: '100%',\n                        }}\n                        disabled={selectedSkills.length === 3 && !currentSkill}\n                        className={currentSkill ? 'active-link' : ''}\n                        onClick={() => toggleSkill(skill)}\n                      />\n                    </AccordionSummary>\n                    <AccordionDetails sx={{ padding: '16px' }}>\n                      <Typography color=\"primary.main\" component=\"div\" variant=\"subtitle1\" align=\"center\">\n                        <Badge\n                          sx={{\n                            padding: '0 8px',\n                          }}\n                          badgeContent={\n                            <Tooltip title=\"Tell your community about the Experience you have.\" arrow>\n                              <HelpOutlineIcon\n                                sx={{\n                                  fontSize: '1.2rem',\n                                  position: 'absolute',\n                                }}\n                              />\n                            </Tooltip>\n                          }\n                        >\n                          Your XP Level\n                        </Badge>\n                      </Typography>\n\n                      <Stack spacing={2} direction=\"row\" sx={{ mb: 1 }} alignItems=\"center\">\n                        <Typography color=\"primary.main\" component=\"div\" variant=\"subtitle2\">\n                          1\n                        </Typography>\n                        <Slider\n                          key={`slider-${currentSkill?.xp}`}\n                          valueLabelDisplay=\"auto\"\n                          step={1}\n                          marks\n                          min={1}\n                          max={10}\n                          defaultValue={currentSkill?.xp}\n                          onChangeCommitted={(_, value: number) => {\n                            updateSkill({\n                              xp: value,\n                              skill,\n                            });\n                          }}\n                          sx={{\n                            '& .MuiSlider-thumb': {\n                              borderRadius: '0px',\n                            },\n                          }}\n                        />\n                        <Typography color=\"primary.main\" component=\"div\" variant=\"subtitle2\">\n                          10\n                        </Typography>\n                      </Stack>\n                    </AccordionDetails>\n                  </Accordion>\n                </ListItem>\n              );\n            })}\n          </List>\n        </Box>\n      </Box>\n    </Card>\n  );\n}\n\nexport default SkillCard;\n","import NavigateBeforeIcon from '@mui/icons-material/NavigateBefore';\nimport NavigateNextIcon from '@mui/icons-material/NavigateNext';\nimport { Box, ThemeOptions, Typography } from '@mui/material';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { DitoLogoSvg, SwButton, SwQuote } from 'sw-web-shared';\n\nimport { RootState } from '@dito-store/store';\n\nimport { ResultState } from '@dito-store/status';\nimport JoinBaseLayout from '../base/join-base';\nimport { fetchSkills, toggleSkill, updateSkill } from '../store/join.reducer';\nimport './skills.scss';\nimport SkillCard from './skill-card';\n\nconst Skills = () => {\n  const dispatch = useDispatch();\n  const largeDevice = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.up('lg'));\n  const small = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.down('md'));\n  const { entities, status, selectedSkills, skillSelectedCategory } = useSelector((state: RootState) => state.joinCommunity.skills);\n  const { selectedCategory } = useSelector((state: RootState) => state.joinCommunity.category);\n\n  useEffect(() => {\n    if (selectedCategory && selectedCategory !== skillSelectedCategory) {\n      dispatch(fetchSkills(selectedCategory));\n    }\n  }, [dispatch, skillSelectedCategory, selectedCategory]);\n\n  return (\n    <JoinBaseLayout\n      status={status}\n      className=\"sw-skill-container\"\n      left={\n        <>\n          <Box className=\"sw-box-logo\">\n            <DitoLogoSvg width={largeDevice ? '100px' : '80px'} />\n          </Box>\n          <SwQuote mobile={small} mobileStartText={<p>Have you ever thought...</p>}>\n            <>\n              <p>\n                Have you ever thought, <br />\n                \"I would like to contribute, but ...\"\n              </p>\n              <p className=\"mt-4 mb-4\">Distributed Town (DiTo) lets you create or join a community with one click.</p>\n\n              <p>Just select what you are best at - and we will match with the best communities that need you the most.</p>\n            </>\n          </SwQuote>\n        </>\n      }\n      right={\n        <div className=\"sw-skill-wrapper\">\n          <Typography sx={{ color: 'background.paper', textAlign: 'center', pb: 2 }} component=\"div\" variant=\"h6\">\n            Pick your skills (1-to-3) that you want to offer, & recieve the Credits you deserve!\n          </Typography>\n          {skillSelectedCategory ? (\n            !entities?.length ? (\n              <Typography sx={{ color: 'background.paper', textAlign: 'center', pb: 2, mt: 4 }} component=\"div\" variant=\"h6\">\n                We could not find any skills for {skillSelectedCategory} category, please go back and select a different category!\n              </Typography>\n            ) : (\n              entities.map(({ credits, skills, subCat }) => (\n                <SkillCard\n                  key={subCat}\n                  selectedSkills={selectedSkills}\n                  category={subCat}\n                  credits={credits}\n                  skills={skills}\n                  updateSkill={(skill) => dispatch(updateSkill(skill))}\n                  toggleSkill={(skill) => dispatch(toggleSkill(skill))}\n                />\n              ))\n            )\n          ) : (\n            <Typography\n              className=\"no-item-selected\"\n              sx={{ color: 'background.paper', textAlign: 'center', pb: 2 }}\n              component=\"div\"\n              variant=\"h6\"\n            >\n              No category was selected, go back to select one!\n            </Typography>\n          )}\n        </div>\n      }\n      prevBtn={<SwButton startIcon={<NavigateBeforeIcon />} component={Link} to=\"/join-community/categories\" label=\"Prev\" />}\n      nextBtn={\n        <SwButton\n          disabled={selectedSkills.length === 0 || status === ResultState.Loading}\n          endIcon={<NavigateNextIcon />}\n          component={Link}\n          to=\"/join-community/communities\"\n          label={small ? 'Next' : 'Next: Join your community'}\n        />\n      }\n    />\n  );\n};\n\nexport default Skills;\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { ethers } from 'ethers';\r\nimport { toWei } from 'web3-utils';\r\nimport { CommunityContract, CommunityContractError, CommunityContractResponse, NonceActions } from './model';\r\n\r\nconst skillWalletAbi = [\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '_linkToken',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'address',\r\n        name: '_oracle',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'nonpayable',\r\n    type: 'constructor',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'owner',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'approved',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'Approval',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'owner',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'operator',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'bool',\r\n        name: 'approved',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    name: 'ApprovalForAll',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'bytes32',\r\n        name: 'id',\r\n        type: 'bytes32',\r\n      },\r\n    ],\r\n    name: 'ChainlinkCancelled',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'bytes32',\r\n        name: 'id',\r\n        type: 'bytes32',\r\n      },\r\n    ],\r\n    name: 'ChainlinkFulfilled',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'bytes32',\r\n        name: 'id',\r\n        type: 'bytes32',\r\n      },\r\n    ],\r\n    name: 'ChainlinkRequested',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'previousOwner',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'newOwner',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'OwnershipTransferred',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'PubKeyAddedToSkillWallet',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'SkillWalletActivated',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'address',\r\n        name: 'owner',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'SkillWalletClaimed',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'address',\r\n        name: 'newCommunity',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'SkillWalletCommunityChanged',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'skillWalletOwner',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'community',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'SkillWalletCreated',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'from',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'to',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'Transfer',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: 'nonce',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: 'action',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'ValidationFailed',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: 'nonce',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: 'action',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'ValidationPassed',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: false,\r\n        internalType: 'bytes32',\r\n        name: 'requestId',\r\n        type: 'bytes32',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'address',\r\n        name: 'caller',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'ValidationRequestIdSent',\r\n    type: 'event',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'activateSkillWallet',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        internalType: 'string',\r\n        name: 'pubKey',\r\n        type: 'string',\r\n      },\r\n    ],\r\n    name: 'addPubKeyToSkillWallet',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'to',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'approve',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'owner',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'balanceOf',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'baseURI',\r\n    outputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: '',\r\n        type: 'string',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'claim',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'skillWalletOwner',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'string',\r\n        name: 'url',\r\n        type: 'string',\r\n      },\r\n      {\r\n        internalType: 'bool',\r\n        name: 'isClaimable',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    name: 'create',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'getActiveCommunity',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'community',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'getApproved',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'skillWalletOwner',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'getClaimableSkillWalletId',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'getCommunityHistory',\r\n    outputs: [\r\n      {\r\n        internalType: 'address[]',\r\n        name: 'communities',\r\n        type: 'address[]',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'skillWalletOwner',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'getSkillWalletIdByOwner',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'getTotalSkillWalletsRegistered',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'owner',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'address',\r\n        name: 'operator',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'isApprovedForAll',\r\n    outputs: [\r\n      {\r\n        internalType: 'bool',\r\n        name: '',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'bytes32',\r\n        name: 'requestId',\r\n        type: 'bytes32',\r\n      },\r\n    ],\r\n    name: 'isRequestIdValid',\r\n    outputs: [\r\n      {\r\n        internalType: 'bool',\r\n        name: '',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'isSkillWalletActivated',\r\n    outputs: [\r\n      {\r\n        internalType: 'bool',\r\n        name: 'status',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'skillWalletOwner',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'isSkillWalletClaimable',\r\n    outputs: [\r\n      {\r\n        internalType: 'bool',\r\n        name: 'status',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'skillWalletOwner',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'isSkillWalletRegistered',\r\n    outputs: [\r\n      {\r\n        internalType: 'bool',\r\n        name: 'status',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'name',\r\n    outputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: '',\r\n        type: 'string',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'operator',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'address',\r\n        name: 'from',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        internalType: 'bytes',\r\n        name: 'data',\r\n        type: 'bytes',\r\n      },\r\n    ],\r\n    name: 'onERC721Received',\r\n    outputs: [\r\n      {\r\n        internalType: 'bytes4',\r\n        name: '',\r\n        type: 'bytes4',\r\n      },\r\n    ],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'owner',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'ownerOf',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'renounceOwnership',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'from',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'address',\r\n        name: 'to',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'safeTransferFrom',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'from',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'address',\r\n        name: 'to',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        internalType: 'bytes',\r\n        name: '_data',\r\n        type: 'bytes',\r\n      },\r\n    ],\r\n    name: 'safeTransferFrom',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'operator',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'bool',\r\n        name: 'approved',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    name: 'setApprovalForAll',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'skillWalletClaimers',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'skillWalletToPubKey',\r\n    outputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: '',\r\n        type: 'string',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'bytes4',\r\n        name: 'interfaceId',\r\n        type: 'bytes4',\r\n      },\r\n    ],\r\n    name: 'supportsInterface',\r\n    outputs: [\r\n      {\r\n        internalType: 'bool',\r\n        name: '',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'symbol',\r\n    outputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: '',\r\n        type: 'string',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'index',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'tokenByIndex',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'owner',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'index',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'tokenOfOwnerByIndex',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'tokenURI',\r\n    outputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: '',\r\n        type: 'string',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'totalSupply',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'from',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'address',\r\n        name: 'to',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'transferFrom',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'newOwner',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'transferOwnership',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: 'signature',\r\n        type: 'string',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'action',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        internalType: 'string[]',\r\n        name: 'stringParams',\r\n        type: 'string[]',\r\n      },\r\n      {\r\n        internalType: 'uint256[]',\r\n        name: 'intParams',\r\n        type: 'uint256[]',\r\n      },\r\n      {\r\n        internalType: 'address[]',\r\n        name: 'addressParams',\r\n        type: 'address[]',\r\n      },\r\n    ],\r\n    name: 'validate',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'bytes32',\r\n        name: '_requestId',\r\n        type: 'bytes32',\r\n      },\r\n      {\r\n        internalType: 'bool',\r\n        name: '_isValid',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    name: 'validationCallback',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n];\r\nconst communityAbi = [\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: '_url',\r\n        type: 'string',\r\n      },\r\n      {\r\n        internalType: 'address',\r\n        name: '_addrProvider',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: '_totalMembersAllowed',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        internalType: 'bool',\r\n        name: '_claimableSkillWallets',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    stateMutability: 'nonpayable',\r\n    type: 'constructor',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: '_member',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: '_skillWalletTokenId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: '_transferredTokens',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'MemberAdded',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: '_member',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'MemberLeft',\r\n    type: 'event',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'activeMembersCount',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint16',\r\n        name: '',\r\n        type: 'uint16',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'projectId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'addProjectId',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'member',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'balanceOf',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'ditoCreditsAddr',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'ditoCreditsHolder',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'getMemberAddresses',\r\n    outputs: [\r\n      {\r\n        internalType: 'address[]',\r\n        name: '',\r\n        type: 'address[]',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'getMembers',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256[]',\r\n        name: '',\r\n        type: 'uint256[]',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'projectId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'getProjectTreasuryAddress',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'getProjects',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256[]',\r\n        name: '',\r\n        type: 'uint256[]',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'getSkillWalletAddress',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'getTemplate',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'getTokenId',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'getTreasuryBalance',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'gigsAddr',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'isMember',\r\n    outputs: [\r\n      {\r\n        internalType: 'bool',\r\n        name: '',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'skillWalletTokenId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'credits',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'join',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: 'uri',\r\n        type: 'string',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'credits',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'joinNewMember',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'memberAddress',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'leave',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'memberAddresses',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'metadataUri',\r\n    outputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: '',\r\n        type: 'string',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'scarcityScore',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'skillWalletIds',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'tokenId',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'to',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'amount',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'transferCredits',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'from',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'amount',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'transferToCommunity',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'treasuryAddr',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n];\r\n\r\nfunction NoEventException(value: CommunityContractError) {\r\n  this.value = value;\r\n  this.message = 'No event found!';\r\n  // eslint-disable-next-line func-names\r\n  this.toString = function () {\r\n    return this.value + this.message;\r\n  };\r\n}\r\n\r\nexport const getSkillWalletDescription = async () => {\r\n  return 'Universal, self-sovereign IDs tied to skills & contributions rather than personal data.';\r\n};\r\n\r\nexport const getSkillWalletAddress = async (communityAddress = null) => {\r\n  return '0x1e79bE396CE37F7eB43aF0Ef0ffb3124F3fD23eF';\r\n};\r\n\r\nexport const claimCommunityMembershipContract = async (communityAddress: string): Promise<string> => {\r\n  const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n  const signer = provider.getSigner();\r\n  const skillWalletAddress = await getSkillWalletAddress(communityAddress);\r\n  const contract = new ethers.Contract(skillWalletAddress, skillWalletAbi, signer);\r\n  const claimTx = await contract.claim();\r\n  const claimTransactionResult = await claimTx.wait();\r\n  const { events } = claimTransactionResult;\r\n  const claimedEvent = events.find((e) => e.event === 'SkillWalletClaimed');\r\n\r\n  if (!claimedEvent) {\r\n    throw new NoEventException({\r\n      code: -32603,\r\n      message: 'Internal JSON-RPC error.',\r\n      data: {\r\n        code: 3,\r\n        data: '',\r\n        message: 'SkillWallet:ClaimEventMissing',\r\n      },\r\n    });\r\n  }\r\n\r\n  return claimedEvent.args;\r\n};\r\n\r\nexport const getTokenIdContract = async (communityAddress: string): Promise<string> => {\r\n  const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n  const signer = provider.getSigner();\r\n  const skillwalletAddress = await getSkillWalletAddress(communityAddress);\r\n  const contract = new ethers.Contract(skillwalletAddress, skillWalletAbi, signer);\r\n  const isRegistered = await contract.isSkillWalletRegistered(window.ethereum.selectedAddress);\r\n\r\n  if (isRegistered) {\r\n    const tokenId = await contract.getSkillWalletIdByOwner(window.ethereum.selectedAddress);\r\n    return tokenId?.toString();\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const executeCommunityContract = async ({\r\n  communityAddress,\r\n  url,\r\n  credits,\r\n}: CommunityContract): Promise<CommunityContractResponse> => {\r\n  const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n  const signer = provider.getSigner();\r\n\r\n  const contract = new ethers.Contract(communityAddress, communityAbi, signer);\r\n  const createTx = await contract.joinNewMember(url, toWei(credits.toString()));\r\n  const communityTransactionResult = await createTx.wait();\r\n  const { events } = communityTransactionResult;\r\n  const memberJoinedEvent = events.find(({ event }) => event === 'MemberAdded');\r\n\r\n  if (!memberJoinedEvent) {\r\n    throw new NoEventException({\r\n      code: -32603,\r\n      message: 'Internal JSON-RPC error.',\r\n      data: {\r\n        code: 3,\r\n        data: '',\r\n        message: 'SkillWallet:MemberEventMissing',\r\n      },\r\n    });\r\n  }\r\n\r\n  const [userAddress, tokenId, communityCredits] = memberJoinedEvent.args;\r\n  return {\r\n    userAddress,\r\n    tokenId: tokenId?.toString(),\r\n    credits: communityCredits,\r\n  };\r\n};\r\n\r\nexport const hasPendingAuthentication = async (address: string): Promise<{ hasPendingAuth: boolean }> => {\r\n  return fetch(`${process.env.REACT_APP_PUBLIC_SKILL_WALLET_API_URL}/api/skillWallet/hasPendingAuth?address=${address}`, {\r\n    method: 'GET',\r\n  }).then((response) => response.json());\r\n};\r\n\r\nexport const generateNonce = async (action: NonceActions, tokenId: string): Promise<string> => {\r\n  try {\r\n    const response = await fetch(\r\n      `${process.env.REACT_APP_PUBLIC_SKILL_WALLET_API_URL}/api/skillWallet/${tokenId}/nonces?action=${action}`,\r\n      {\r\n        method: 'POST',\r\n      }\r\n    );\r\n    const nonce = await response.json();\r\n    return nonce.nonce;\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n};\r\n","/* eslint-disable no-shadow */\r\n\r\nexport enum ClaimMembershipErrorTypes {\r\n  NoFreeSpots = 'NoFreeSpots',\r\n  AlreadyMember = 'AlreadyMember',\r\n  SkillWalletNotActivated = 'SkillWalletNotActivated',\r\n  SkillWalletNotClaimed = 'SkillWalletNotClaimed',\r\n  RetryJoin = 'RetryJoin',\r\n  RetryNetwork = 'RetryNetwork',\r\n  RetryTextile = 'RetryTextile',\r\n  RetryNonce = 'RetryNonce',\r\n  AlreadyClaimed = 'AlreadyClaimed',\r\n  SkillWalletNotCreated = 'SkillWalletNotCreated',\r\n  RetryClaim = 'RetryClaim',\r\n  RetryAuth = 'RetryAuth',\r\n  RetryTokenId = 'RetryTokenId',\r\n}\r\n\r\nexport interface Category {\r\n  id: number;\r\n  name: string;\r\n  icon?: any;\r\n}\r\n\r\nexport interface SkillCategory {\r\n  credits: number;\r\n  skills: string[];\r\n  subCat: string;\r\n}\r\n\r\nexport interface CommunityCategory {\r\n  name: string;\r\n  members: number;\r\n  scarcityScore: number;\r\n  address: string;\r\n  description: string;\r\n  totalMembersAllowed: number;\r\n  image: string;\r\n}\r\n","import { Card, CardContent, Typography, Box, Avatar, CardHeader, CardActionArea, ThemeOptions, useMediaQuery } from '@mui/material';\nimport { CommunityCategory } from '../store/model';\nimport './community-card.scss';\n\nfunction CommunityCard({\n  community,\n  selectedCommunityName,\n  onSelect,\n}: {\n  community: CommunityCategory;\n  selectedCommunityName: string;\n  onSelect: (communityName: string) => any;\n}) {\n  const inactive = community.members >= community.totalMembersAllowed;\n  const small = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.down('sm'));\n  return (\n    <Card\n      onClick={() => !inactive && onSelect(community.name)}\n      className={`sw-community-card ${selectedCommunityName === community.name ? 'active' : ''} ${inactive ? 'inactive' : ''}`}\n    >\n      <CardActionArea disabled={inactive}>\n        <CardContent sx={{ display: 'flex' }}>\n          <Box sx={{ flex: '1' }}>\n            <CardHeader\n              sx={{\n                boxShadow: 1,\n                bgcolor: inactive ? 'secondary.main' : 'white',\n                py: '8px',\n              }}\n              avatar={<Avatar sx={{ width: 50, height: 50 }} src={community.image} />}\n              title={\n                <Typography variant={small ? 'h6' : 'h5'} color=\"primary.main\">\n                  {community.name}\n                </Typography>\n              }\n              subheader={\n                <div className=\"car-subtitle\">\n                  <Typography variant=\"body1\" color=\"text.secondary\">\n                    {`Members: ${community.members} / `} <small>{community.totalMembersAllowed}</small>\n                  </Typography>\n                  <Typography sx={{ px: 1 }} variant=\"body1\" color=\"text.secondary\">\n                    |\n                  </Typography>\n                  <Typography variant=\"body1\" color=\"text.secondary\">\n                    {`Scarcity score: ${community.scarcityScore}`}\n                  </Typography>\n                </div>\n              }\n            />\n            <Typography className=\"card-description\" sx={{ pb: 2, pt: 2 }} variant=\"body2\">\n              {community.description}\n            </Typography>\n          </Box>\n\n          <Box className=\"can-accept-in\" sx={{ width: '170px' }}>\n            <Typography sx={{ pb: 2, pt: 2 }} variant=\"body2\">\n              Accepting new diTizens?\n            </Typography>\n            <div className={`toggle-circle ${inactive ? 'not-accepting' : 'accepting'}`}>{inactive ? 'No' : 'Yes'}</div>\n          </Box>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n}\n\nexport default CommunityCard;\n","export interface TextileBucketSkillsMetadata {\r\n  name: string; // skillname\r\n  value: number; // xp\r\n}\r\n\r\nexport interface TextileBucketMetadata {\r\n  name: string;\r\n  description: string;\r\n  image: string;\r\n  properties: {\r\n    username: string;\r\n    skills: TextileBucketSkillsMetadata[];\r\n  };\r\n}\r\n\r\nexport interface CommunityContract {\r\n  communityAddress: string;\r\n  url: string;\r\n  credits: string;\r\n}\r\n\r\nexport interface CommunityContractError {\r\n  code: number;\r\n  message: string;\r\n  data: {\r\n    code: number;\r\n    data: any;\r\n    message: string;\r\n  };\r\n}\r\n\r\nexport interface CommunityContractResponse {\r\n  userAddress: string;\r\n  tokenId: string;\r\n  credits: number;\r\n}\r\n\r\n// eslint-disable-next-line no-shadow\r\nexport enum NonceActions {\r\n  Activate,\r\n  Login,\r\n  CreateGig,\r\n  TakeGig,\r\n  SubmitGig,\r\n  CompleteGig,\r\n}\r\n","export const ParseSWErrorMessage = (error: string) => {\r\n  if (!error) {\r\n    return error;\r\n  }\r\n\r\n  if (typeof error !== 'string') {\r\n    throw new Error('SW error message is not a string!');\r\n  }\r\n\r\n  const [, skillWalletMsg] = error.split('execution reverted:');\r\n  const [, message] = (skillWalletMsg || '').split('SkillWallet:');\r\n  return (message || skillWalletMsg || 'Unknown error').trim();\r\n};\r\n","const timeout = (prom: Promise<any>, time: number) => Promise.race([prom, new Promise((_r, rej) => setTimeout(rej, time))]);\r\n\r\nexport const connectToEthereum = async (): Promise<boolean> => {\r\n  if (!window.ethereum.selectedAddress) {\r\n    try {\r\n      await timeout(window.ethereum.request({ method: 'eth_requestAccounts' }), 20000);\r\n      return true;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n};\r\n\r\nexport const switchToEtheremNetwork = async (): Promise<boolean> => {\r\n  try {\r\n    await window.ethereum.request({\r\n      method: 'wallet_switchEthereumChain',\r\n      params: [{ chainId: '0x13881' }],\r\n    });\r\n  } catch (switchError) {\r\n    if (switchError.code === 4902) {\r\n      try {\r\n        await window.ethereum.request({\r\n          method: 'wallet_addEthereumChain',\r\n          params: [\r\n            {\r\n              chainId: '0x13881', // A 0x-prefixed hexadecimal string\r\n              chainName: 'Mumbai',\r\n              nativeCurrency: {\r\n                name: 'Matic',\r\n                symbol: 'MATIC',\r\n                decimals: 18,\r\n              },\r\n              rpcUrls: ['https://matic-mumbai.chainstacklabs.com', 'https://rpc-mumbai.matic.today'],\r\n              blockExplorerUrls: ['https://mumbai.polygonscan.com/'],\r\n            },\r\n          ],\r\n        });\r\n      } catch (error) {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n};\r\n","/* eslint-disable no-await-in-loop */\r\nconst wait = (ms = 1000) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nexport const asyncPoll = async <T>(fn: () => Promise<T>, fnCondition: (result: T) => boolean, ms = 2000, maxRetries = 10) => {\r\n  let result = await fn();\r\n  while (fnCondition(result) && maxRetries > 0) {\r\n    await wait(ms);\r\n    result = await fn();\r\n    maxRetries = -maxRetries;\r\n  }\r\n  return result;\r\n};\r\n","import { InjectedConnector } from '@web3-react/injected-connector';\r\n\r\nexport const CHAIN_IDS = [\r\n  80001, // Kovan\r\n];\r\n\r\nexport const injected = new InjectedConnector({ supportedChainIds: CHAIN_IDS });\r\n","import { NonceActions, TextileBucketMetadata } from '@dito-api/model';\r\nimport {\r\n  claimCommunityMembershipContract,\r\n  executeCommunityContract,\r\n  generateNonce,\r\n  getTokenIdContract,\r\n  hasPendingAuthentication,\r\n} from '@dito-api/skillwallet.api';\r\nimport { ParseSWErrorMessage } from '@dito-utils/parse-smart-contact-error';\r\nimport { Box, CircularProgress, Typography } from '@mui/material';\r\nimport { SwButton } from 'sw-web-shared';\r\nimport { QRCode } from 'react-qrcode-logo';\r\nimport { generateTextileBucketUrl } from '@dito-api/textile-bucket.api';\r\nimport { switchToEtheremNetwork } from '@dito-api/ethereum-network.api';\r\nimport { asyncPoll } from '@dito-utils/async-poller';\r\nimport { injected } from '@dito-auth/connector';\r\nimport { ClaimMembershipErrorTypes } from '../store/model';\r\n\r\nconst DialogLoadingMessage = ({ message, subtitle = null, onCancel }) => {\r\n  return (\r\n    <>\r\n      <div className=\"sw-join-dialog-content\">\r\n        <CircularProgress sx={{ color: 'text.primary' }} />\r\n        <Typography sx={{ textAlign: 'center', mt: 2 }} component=\"div\" variant=\"h6\">\r\n          {message}\r\n        </Typography>\r\n        <Typography sx={{ color: 'secondary.main', textAlign: 'center', mt: 2 }} component=\"div\" variant=\"body2\">\r\n          {subtitle}\r\n        </Typography>\r\n      </div>\r\n      <SwButton color=\"error\" onClick={onCancel} sx={{ mt: 4 }} label=\"Cancel\" />\r\n    </>\r\n  );\r\n};\r\n\r\nconst DialogErrorMessage = ({ message, subtitle = null, onCancel }) => {\r\n  return (\r\n    <>\r\n      <div className=\"sw-join-dialog-content\">\r\n        <Typography sx={{ textAlign: 'center', mt: 2 }} component=\"div\" variant=\"h6\">\r\n          {message}\r\n        </Typography>\r\n        <Typography sx={{ color: 'secondary.main', textAlign: 'center', mt: 2 }} component=\"div\" variant=\"body2\">\r\n          {subtitle}\r\n        </Typography>\r\n      </div>\r\n      <SwButton color=\"error\" onClick={onCancel} sx={{ mt: 4 }} label=\"Cancel\" />\r\n    </>\r\n  );\r\n};\r\n\r\nconst DialogAdditionalActionNeeded = ({ message, subtitle, actionLabel, handleAdditionalAction, onCancel }) => {\r\n  return (\r\n    <>\r\n      <div className=\"sw-join-dialog-content\">\r\n        <Typography sx={{ textAlign: 'center', mt: 2 }} component=\"div\" variant=\"h6\">\r\n          {message}\r\n        </Typography>\r\n        <Typography sx={{ color: 'secondary.main', textAlign: 'center', mt: 2 }} component=\"div\" variant=\"body2\">\r\n          {subtitle}\r\n        </Typography>\r\n        <SwButton color=\"primary\" onClick={handleAdditionalAction} sx={{ mt: 4, width: '200px', height: '45px' }} label={actionLabel} />\r\n      </div>\r\n      <SwButton color=\"error\" onClick={onCancel} sx={{ mt: 4 }} label=\"Cancel\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport const OnClaimMembershipHandlers = (\r\n  setDialogContent: (content: JSX.Element) => void,\r\n  handleClose: () => void,\r\n  handleAdditionalAction: (message: string) => void\r\n) => {\r\n  const onEthConnection = async (activate: (connector: any) => Promise<void>) => {\r\n    setDialogContent(<DialogLoadingMessage message=\"Ensuring ethereum connection ...\" onCancel={handleClose} />);\r\n    await activate(injected);\r\n    const isConnected = await injected.isAuthorized();\r\n    if (!isConnected) {\r\n      setDialogContent(\r\n        <>\r\n          <DialogAdditionalActionNeeded\r\n            actionLabel=\"Retry\"\r\n            subtitle=\"If this problem repeats plase make sure your metamask is connected\"\r\n            message=\"We could not enable the ethereum network\"\r\n            handleAdditionalAction={() => handleAdditionalAction(ClaimMembershipErrorTypes.RetryNetwork)}\r\n            onCancel={handleClose}\r\n          />\r\n        </>\r\n      );\r\n    }\r\n    return isConnected;\r\n  };\r\n\r\n  const onEthNetworkChange = async (isConnected: boolean) => {\r\n    if (!isConnected) {\r\n      return false;\r\n    }\r\n    setDialogContent(<DialogLoadingMessage message=\"Ensuring correct network ...\" onCancel={handleClose} />);\r\n    const isCorrectNetwork = await switchToEtheremNetwork();\r\n\r\n    if (!isCorrectNetwork) {\r\n      setDialogContent(\r\n        <>\r\n          <DialogAdditionalActionNeeded\r\n            actionLabel=\"Retry\"\r\n            subtitle={null}\r\n            message=\"We could not set the correct network, please set it manually and try again\"\r\n            handleAdditionalAction={() => handleAdditionalAction(ClaimMembershipErrorTypes.RetryNetwork)}\r\n            onCancel={handleClose}\r\n          />\r\n        </>\r\n      );\r\n    }\r\n    return isCorrectNetwork;\r\n  };\r\n\r\n  const onTextileBucket = async (isCorrectNetwork: boolean, metadataJson: TextileBucketMetadata) => {\r\n    if (!isCorrectNetwork) {\r\n      return null;\r\n    }\r\n    setDialogContent(<DialogLoadingMessage message=\"Generating textile bucket url ...\" onCancel={handleClose} />);\r\n\r\n    try {\r\n      return await generateTextileBucketUrl(metadataJson);\r\n    } catch (error) {\r\n      setDialogContent(\r\n        <>\r\n          <DialogAdditionalActionNeeded\r\n            actionLabel=\"Retry\"\r\n            subtitle={null}\r\n            message=\"Unknown Error\"\r\n            handleAdditionalAction={() => handleAdditionalAction(ClaimMembershipErrorTypes.RetryTextile)}\r\n            onCancel={handleClose}\r\n          />\r\n        </>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const onJoinMembership = async (buckerUrl: string, communityAddress: string, credits: string) => {\r\n    if (!buckerUrl) {\r\n      return null;\r\n    }\r\n    try {\r\n      setDialogContent(\r\n        <DialogLoadingMessage\r\n          subtitle=\"This might take awhile, please be patient\"\r\n          message=\"Executing join membership smart contract ...\"\r\n          onCancel={handleClose}\r\n        />\r\n      );\r\n      return await executeCommunityContract({\r\n        url: buckerUrl,\r\n        credits,\r\n        communityAddress,\r\n      });\r\n    } catch (error) {\r\n      const message = ParseSWErrorMessage(error.data.message as string);\r\n      // const message = 'There is SkillWallet to be claimed by this address';\r\n\r\n      if (String(message).includes('Already a member')) {\r\n        setDialogContent(\r\n          <>\r\n            <DialogAdditionalActionNeeded\r\n              actionLabel=\"Connect\"\r\n              subtitle=\"Connect to SkillWallet account to see your community\"\r\n              message={message}\r\n              handleAdditionalAction={() => handleAdditionalAction(ClaimMembershipErrorTypes.AlreadyMember)}\r\n              onCancel={handleClose}\r\n            />\r\n          </>\r\n        );\r\n      } else if (String(message).includes('There is SkillWallet already registered for this address')) {\r\n        setDialogContent(\r\n          <>\r\n            <DialogAdditionalActionNeeded\r\n              actionLabel=\"Generate QR code\"\r\n              subtitle=\"If you have not activated you skillwallet account then you can do so by clicking generate QR Code\"\r\n              message={message}\r\n              handleAdditionalAction={() => handleAdditionalAction(ClaimMembershipErrorTypes.SkillWalletNotActivated)}\r\n              onCancel={handleClose}\r\n            />\r\n          </>\r\n        );\r\n      } else if (String(message).includes('There is SkillWallet to be claimed by this address')) {\r\n        setDialogContent(\r\n          <>\r\n            <DialogAdditionalActionNeeded\r\n              actionLabel=\"Claim\"\r\n              subtitle=\"You are already a member of this community, but you have not claimed it yet!\"\r\n              message={message}\r\n              handleAdditionalAction={() => handleAdditionalAction(ClaimMembershipErrorTypes.SkillWalletNotClaimed)}\r\n              onCancel={handleClose}\r\n            />\r\n          </>\r\n        );\r\n      } else if (String(message).includes('No free spots left')) {\r\n        setDialogContent(\r\n          <>\r\n            <DialogErrorMessage subtitle=\"Select another community and try again!\" message={message} onCancel={handleClose} />\r\n          </>\r\n        );\r\n      } else {\r\n        setDialogContent(\r\n          <>\r\n            <DialogAdditionalActionNeeded\r\n              actionLabel=\"Retry\"\r\n              subtitle=\"retry again\"\r\n              message={message}\r\n              handleAdditionalAction={() => handleAdditionalAction(ClaimMembershipErrorTypes.RetryJoin)}\r\n              onCancel={handleClose}\r\n            />\r\n          </>\r\n        );\r\n      }\r\n\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const onClaimMembership = async (communityAddress: string, hasJoinedCommunity: boolean) => {\r\n    if (!communityAddress || !hasJoinedCommunity) {\r\n      return null;\r\n    }\r\n    setDialogContent(\r\n      <DialogLoadingMessage\r\n        subtitle=\"This might take awhile, please be patient\"\r\n        message=\"Executing claim membership smart contract ...\"\r\n        onCancel={handleClose}\r\n      />\r\n    );\r\n    try {\r\n      return await claimCommunityMembershipContract(communityAddress);\r\n    } catch (error) {\r\n      const message = ParseSWErrorMessage(error.data.message.payload as string);\r\n\r\n      if (String(message).includes('There is SkillWallet already registered for this address')) {\r\n        setDialogContent(\r\n          <>\r\n            <DialogAdditionalActionNeeded\r\n              actionLabel=\"Connect\"\r\n              subtitle=\"Connect to SkillWallet account to see your community\"\r\n              message={message}\r\n              handleAdditionalAction={() => handleAdditionalAction(ClaimMembershipErrorTypes.AlreadyClaimed)}\r\n              onCancel={handleClose}\r\n            />\r\n          </>\r\n        );\r\n      } else {\r\n        setDialogContent(\r\n          <>\r\n            <DialogAdditionalActionNeeded\r\n              actionLabel=\"Retry\"\r\n              subtitle={null}\r\n              message={message}\r\n              handleAdditionalAction={() => handleAdditionalAction(ClaimMembershipErrorTypes.RetryClaim)}\r\n              onCancel={handleClose}\r\n            />\r\n          </>\r\n        );\r\n      }\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const onGetTokenId = async (communityAddress: string) => {\r\n    if (!communityAddress) {\r\n      return null;\r\n    }\r\n    setDialogContent(\r\n      <DialogLoadingMessage\r\n        subtitle=\"This might take awhile, please be patient\"\r\n        message=\"Getting your skillwallet metadata ...\"\r\n        onCancel={handleClose}\r\n      />\r\n    );\r\n    try {\r\n      return await getTokenIdContract(communityAddress);\r\n    } catch (error) {\r\n      const message = ParseSWErrorMessage(error.data.message.payload as string);\r\n      setDialogContent(\r\n        <>\r\n          <DialogAdditionalActionNeeded\r\n            actionLabel=\"Retry\"\r\n            subtitle={null}\r\n            message={message}\r\n            handleAdditionalAction={() => handleAdditionalAction(ClaimMembershipErrorTypes.RetryTokenId)}\r\n            onCancel={handleClose}\r\n          />\r\n        </>\r\n      );\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const onQRCodeGenerate = async (tokenId: string) => {\r\n    if (!tokenId) {\r\n      return null;\r\n    }\r\n    setDialogContent(\r\n      <DialogLoadingMessage subtitle=\"This might take awhile, please be patient\" message=\"Generating QR code ...\" onCancel={handleClose} />\r\n    );\r\n\r\n    const nonce = await generateNonce(NonceActions.Activate, tokenId);\r\n\r\n    if (!nonce) {\r\n      setDialogContent(\r\n        <>\r\n          <DialogAdditionalActionNeeded\r\n            actionLabel=\"Retry\"\r\n            subtitle={null}\r\n            message=\"QR code was not generated successfully!\"\r\n            handleAdditionalAction={() => handleAdditionalAction(ClaimMembershipErrorTypes.RetryNonce)}\r\n            onCancel={handleClose}\r\n          />\r\n        </>\r\n      );\r\n    } else {\r\n      setDialogContent(\r\n        <>\r\n          <Box sx={{ display: 'flex', mt: 2, p: 2, bgcolor: 'white' }}>\r\n            <QRCode\r\n              value={JSON.stringify({\r\n                tokenId,\r\n                nonce,\r\n              })}\r\n              logoWidth={140}\r\n              logoHeight={140}\r\n              bgColor=\"white\"\r\n              size={205}\r\n            />\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              px: 2,\r\n              bgcolor: 'white',\r\n              width: '230px',\r\n              height: '60px',\r\n              marginTop: '14px',\r\n            }}\r\n          >\r\n            <Typography sx={{ color: 'black', textAlign: 'center' }} component=\"div\" variant=\"body1\">\r\n              Scan with your <b>SkillWallet App</b> <br />\r\n              to claim your Membership\r\n            </Typography>\r\n          </Box>\r\n          <SwButton color=\"error\" onClick={handleClose} sx={{ mt: 4 }} label=\"Cancel\" />\r\n        </>\r\n      );\r\n    }\r\n\r\n    return nonce;\r\n  };\r\n\r\n  const onAuthenticate = async (nonce: string, tokenId: string) => {\r\n    if (!nonce || !tokenId) {\r\n      return false;\r\n    }\r\n\r\n    setDialogContent(\r\n      <DialogLoadingMessage subtitle=\"This might take awhile, please be patient\" message=\"Authenticating ....\" onCancel={handleClose} />\r\n    );\r\n\r\n    try {\r\n      const fn = () => hasPendingAuthentication(window.ethereum.selectedAddress);\r\n      const condition = ({ hasPendingAuth }) => !hasPendingAuth;\r\n      const { hasPendingAuth } = await asyncPoll<{ hasPendingAuth: boolean }>(fn, condition);\r\n      return hasPendingAuth;\r\n    } catch (error) {\r\n      setDialogContent(\r\n        <>\r\n          <DialogAdditionalActionNeeded\r\n            actionLabel=\"Retry\"\r\n            subtitle=\"Something went wrong\"\r\n            message=\"Authentication was unsuccessful\"\r\n            handleAdditionalAction={() => handleAdditionalAction(ClaimMembershipErrorTypes.RetryAuth)}\r\n            onCancel={handleClose}\r\n          />\r\n        </>\r\n      );\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  return {\r\n    onEthConnection,\r\n    onEthNetworkChange,\r\n    onTextileBucket,\r\n    onJoinMembership,\r\n    onClaimMembership,\r\n    onQRCodeGenerate,\r\n    onAuthenticate,\r\n    onGetTokenId,\r\n  };\r\n};\r\n","import { Dialog, DialogContent } from '@mui/material';\r\n\r\nexport const ClaimMembershipDialog = ({ open, handleClose, dialogContent, fullScreen = false }: any) => {\r\n  const dialogSize = fullScreen\r\n    ? {}\r\n    : {\r\n        minWidth: '400px',\r\n        minHeight: '400px',\r\n      };\r\n  return (\r\n    <Dialog open={open} onClose={handleClose} fullScreen={fullScreen}>\r\n      <DialogContent\r\n        sx={{\r\n          ...dialogSize,\r\n          bgcolor: 'primary.main',\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          flexDirection: 'column',\r\n        }}\r\n      >\r\n        {dialogContent}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n","import { Badge, Box, styled, ThemeOptions, Tooltip, Typography, useMediaQuery } from '@mui/material';\nimport { SwQuote, TokenomicsSvg, DitoCreditsSvg } from 'sw-web-shared';\nimport HelpIcon from '@mui/icons-material/Help';\nimport './community-credits.scss';\n\nimport LinearProgress, { linearProgressClasses } from '@mui/material/LinearProgress';\n\nconst NoBorderLinearProgress = styled(LinearProgress)(({ theme }) => ({\n  height: '15px',\n  borderRadius: 0,\n  border: `1px solid ${theme.palette.background.paper}`,\n  [`&.${linearProgressClasses.colorPrimary}`]: {\n    backgroundColor: theme.palette.background.paper,\n  },\n  [`& .${linearProgressClasses.bar}`]: {\n    borderRadius: 0,\n    backgroundColor: theme.palette.primary.main,\n  },\n}));\n\nfunction CommunityCredits({ totalCredits, creditSkills }) {\n  const small = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.down('sm'));\n  return (\n    <Box className=\"sw-community-credits\">\n      <Typography sx={{ color: 'background.paper', textAlign: 'center', mb: 2 }} component=\"div\" variant=\"h6\">\n        DITO credits you will earn with your skills\n      </Typography>\n      <SwQuote mobile={small} mobileStartText={<p>Credits...</p>}>\n        <>\n          <Badge\n            sx={{ paddingLeft: '15px' }}\n            badgeContent={\n              <Tooltip title={<>{Number(totalCredits) - 2000} (skill credits) + 2000 (base credits)</>} arrow>\n                <HelpIcon\n                  sx={{\n                    borderRadius: '50%',\n                    fontSize: '1.2rem',\n                    position: 'absolute',\n                  }}\n                />\n              </Tooltip>\n            }\n          >\n            <Typography sx={{ color: 'background.paper', textAlign: 'start', mb: 2 }} component=\"div\" variant=\"h6\">\n              Total credits: {totalCredits}\n            </Typography>\n          </Badge>\n          {creditSkills.map(({ percentage, name, credits }, index) => {\n            return (\n              <div key={index} className=\"sw-credit-widget\">\n                <div className=\"credit-content\">\n                  <div className=\"credit-label\">\n                    <TokenomicsSvg width=\"14px\" />\n                    <Typography sx={{ color: 'background.paper', textAlign: 'start', ml: 1 }} component=\"div\" variant=\"body2\">\n                      {name}\n                    </Typography>\n                  </div>\n                  <div className=\"sw-progress-bar\">\n                    <NoBorderLinearProgress variant=\"determinate\" value={percentage} />\n                    <Typography\n                      className=\"sw-progress-bar-label\"\n                      sx={{ color: 'secondary.main', textAlign: 'center' }}\n                      component=\"span\"\n                      variant=\"body2\"\n                    >\n                      {percentage}%\n                    </Typography>\n                  </div>\n                </div>\n                <div className=\"credit-amount\">\n                  <Typography sx={{ color: 'background.paper', textAlign: 'start', mr: 1 }} component=\"div\" variant=\"body2\">\n                    {credits}\n                  </Typography>\n                  <DitoCreditsSvg width=\"14px\" />\n                </div>\n              </div>\n            );\n          })}\n        </>\n      </SwQuote>\n    </Box>\n  );\n}\n\nexport default CommunityCredits;\n","import { ResultState } from '@dito-store/status';\nimport { RootState, useAppDispatch } from '@dito-store/store';\nimport { getSkillWalletDescription } from '@dito-api/skillwallet.api';\nimport { TextileBucketMetadata } from 'src/api/model';\nimport NavigateBeforeIcon from '@mui/icons-material/NavigateBefore';\nimport NavigateNextIcon from '@mui/icons-material/NavigateNext';\nimport { Box, ThemeOptions, Typography } from '@mui/material';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { DitoLogoSvg, SwButton } from 'sw-web-shared';\n\nimport { useWeb3React } from '@web3-react/core';\nimport JoinBaseLayout from '../base/join-base';\nimport { ClaimMembershipErrorTypes, CommunityCategory } from '../store/model';\nimport './communities.scss';\nimport { fetchCommunities, getCommunity, getCredits, getFormattedSkills, getSkillCredits, selectCommunity } from '../store/join.reducer';\nimport CommunityCard from './community-card';\nimport { OnClaimMembershipHandlers } from './claim-membership-handlers';\nimport { ClaimMembershipDialog } from './claim-membership-dialog';\nimport CommunityCredits from './community-credits';\n\nconst Communities = () => {\n  const dispatch = useAppDispatch();\n  const { activate } = useWeb3React();\n\n  // responsiveness\n  const largeDevice = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.up('lg'));\n  const small = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.down('md'));\n  const extraSmall = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.down('sm'));\n\n  // selectors\n  const { isAutheticated } = useSelector((state: RootState) => state.auth);\n  const { selectedCategory } = useSelector((state: RootState) => state.joinCommunity.category);\n  const { selectedSkills } = useSelector((state: RootState) => state.joinCommunity.skills);\n  const userInfo = useSelector((state: RootState) => state.joinCommunity.userInfo);\n  const { entities, status, selectedCommunityName } = useSelector((state: RootState) => state.joinCommunity.community);\n  const selectedCommunity = useSelector(getCommunity);\n  const formattedSkills = useSelector(getFormattedSkills);\n  const credits = useSelector(getCredits);\n  const creditSkills = useSelector(getSkillCredits);\n\n  // function/local state\n  const [open, setOpen] = useState(false);\n  const [dialogContent, setDialogContent] = useState(null);\n  const [tokenId, setTokenId] = useState(null);\n  const [nonce, setNonce] = useState(null);\n\n  const handleClose = () => {\n    setOpen(false);\n    setNonce(null);\n    setTokenId(null);\n    setDialogContent(null);\n  };\n\n  const claimMembership = async () => {\n    const description = await getSkillWalletDescription();\n    const metadataJson: TextileBucketMetadata = {\n      name: `${userInfo?.name}'s SkillWallet`,\n      description,\n      image: userInfo?.avatar,\n      properties: {\n        username: userInfo?.name,\n        skills: formattedSkills,\n      },\n    };\n    setOpen(true);\n    const {\n      onEthConnection,\n      onEthNetworkChange,\n      onGetTokenId,\n      onTextileBucket,\n      onJoinMembership,\n      onClaimMembership,\n      onQRCodeGenerate,\n      onAuthenticate,\n    } = OnClaimMembershipHandlers(setDialogContent, handleClose, async (message: ClaimMembershipErrorTypes) => {\n      switch (message) {\n        case ClaimMembershipErrorTypes.AlreadyMember:\n          handleClose();\n          break;\n        case ClaimMembershipErrorTypes.SkillWalletNotActivated:\n        case ClaimMembershipErrorTypes.AlreadyClaimed:\n        case ClaimMembershipErrorTypes.RetryNonce:\n          setTokenId(await onGetTokenId(selectedCommunity.address));\n          setNonce(await onQRCodeGenerate(tokenId));\n          await onAuthenticate(nonce, tokenId);\n          break;\n        case ClaimMembershipErrorTypes.SkillWalletNotClaimed:\n        case ClaimMembershipErrorTypes.RetryClaim:\n          await onClaimMembership(selectedCommunity.address, true);\n          setTokenId(await onGetTokenId(selectedCommunity.address));\n          console.log('TokenId: ', tokenId);\n          setNonce(await onQRCodeGenerate(tokenId));\n          console.log('Nonce: ', nonce);\n          await onAuthenticate(nonce, tokenId);\n          break;\n        case ClaimMembershipErrorTypes.RetryAuth:\n          await onAuthenticate(nonce, tokenId);\n          break;\n        case ClaimMembershipErrorTypes.RetryJoin:\n        case ClaimMembershipErrorTypes.RetryNetwork:\n        case ClaimMembershipErrorTypes.RetryTextile:\n          setNonce(null);\n          setTokenId(null);\n          setDialogContent(null);\n          claimMembership();\n          break;\n        default:\n          console.error('Not handled!');\n      }\n    });\n\n    /*\n        Step 1 - Connect to ethereum / metamask\n    */\n    const isConnected = await onEthConnection(activate);\n    console.log('IsConnected: ', isConnected);\n\n    /*\n        Step 2 - Change to correct ethereum network\n    */\n    const isCorrectNetwork = await onEthNetworkChange(isConnected);\n    console.log('IsCorrectNetwork: ', isConnected);\n\n    /*\n        Step 3 - Store image & join community flow metadata to textile bucket\n    */\n    const bucketUrl = await onTextileBucket(isCorrectNetwork, metadataJson);\n    console.log('BucketUrl: ', bucketUrl);\n\n    /*\n        Step 4 - Execute join membership smart contract\n    */\n    const member = await onJoinMembership(bucketUrl, selectedCommunity.address, credits);\n    setTokenId(member?.tokenId);\n    console.log('Member: ', member);\n    console.log('TokenId: ', tokenId);\n\n    /*\n        Step 5 - Execute claim membership smart contract\n    */\n    await onClaimMembership(selectedCommunity.address, !!member);\n\n    /*\n        Step 6 - Generate nonce & show qr code\n    */\n    setNonce(await onQRCodeGenerate(tokenId));\n    console.log('Nonce: ', nonce);\n\n    /*\n        Step 7 - Poll until skillwallet is authenticated\n    */\n    const isAuthenticated = await onAuthenticate(nonce, tokenId);\n    console.log('IsAuthenticated: ', isAuthenticated);\n\n    /*\n        Step 8 - Go to success screen\n    */\n    // TODO: Implement success navigation\n  };\n\n  useEffect(() => {\n    if (selectedSkills.length && selectedCategory) {\n      dispatch(fetchCommunities(selectedCategory));\n    }\n  }, [dispatch, selectedCategory, selectedSkills]);\n\n  useEffect(() => {\n    if (isAutheticated) {\n      handleClose();\n    }\n  }, [dispatch, isAutheticated]);\n\n  return (\n    <>\n      <ClaimMembershipDialog fullScreen={extraSmall} open={open} onClose={() => setOpen(false)} dialogContent={dialogContent} />\n      <JoinBaseLayout\n        status={status}\n        className=\"sw-communities-container\"\n        left={\n          <>\n            <Box className=\"sw-box-logo\">\n              <DitoLogoSvg width={largeDevice ? '100px' : '80px'} />\n            </Box>\n            <CommunityCredits totalCredits={credits} creditSkills={creditSkills} />\n          </>\n        }\n        right={\n          <div className=\"sw-communties-wrapper\">\n            <Typography sx={{ color: 'background.paper', textAlign: 'center', pb: 2 }} component=\"div\" variant=\"h6\">\n              Here is a few comminities for you (Based on your Skills). Choose one that inspires you the most & start adding Value to it\n            </Typography>\n            {selectedCategory && selectedSkills.length ? (\n              !entities?.length ? (\n                <Typography sx={{ color: 'background.paper', textAlign: 'center', pb: 2, mt: 4 }} component=\"div\" variant=\"h6\">\n                  We could not find any communities for {selectedCategory} category, please go back and select a different category!\n                </Typography>\n              ) : (\n                entities.map((community: CommunityCategory, index) => (\n                  <CommunityCard\n                    onSelect={(name) => dispatch(selectCommunity(name))}\n                    selectedCommunityName={selectedCommunityName}\n                    community={community}\n                    key={`community-${index}`}\n                  />\n                ))\n              )\n            ) : (\n              <Typography\n                className=\"no-item-selected\"\n                sx={{ color: 'background.paper', textAlign: 'center', pb: 2 }}\n                component=\"div\"\n                variant=\"h6\"\n              >\n                No skills were selected, go back and select some skills before selecting a community\n              </Typography>\n            )}\n          </div>\n        }\n        prevBtn={<SwButton startIcon={<NavigateBeforeIcon />} component={Link} to=\"/join-community/skills\" label=\"Prev\" />}\n        nextBtn={\n          <SwButton\n            disabled={selectedCommunityName === null || status === ResultState.Loading}\n            endIcon={<NavigateNextIcon />}\n            onClick={() => claimMembership()}\n            to=\"/join-community/Community\"\n            label={small ? 'Next' : 'Next: Claim your membership'}\n          />\n        }\n      />\n    </>\n  );\n};\n\nexport default Communities;\n","import NavigateNextIcon from '@mui/icons-material/NavigateNext';\r\nimport { Box, TextField, ThemeOptions, Typography } from '@mui/material';\r\nimport { RootState } from '@dito-store/store';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { DitoLogoSvg, SwButton, SwQuote, SwUploadFile } from 'sw-web-shared';\r\n\r\nimport { toBase64 } from '@dito-utils/to-base-64';\r\nimport { ResultState } from '@dito-store/status';\r\nimport { useEffect, useMemo } from 'react';\r\nimport debounce from 'lodash.debounce';\r\nimport JoinBaseLayout from '../base/join-base';\r\n\r\nimport './user-info.scss';\r\n\r\nimport { updateAvatarUrl, updateName } from '../store/join.reducer';\r\n\r\nconst UserInfo = () => {\r\n  const largeDevice = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.up('lg'));\r\n  const small = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.down('md'));\r\n\r\n  const dispatch = useDispatch();\r\n  const { name, avatar } = useSelector((state: RootState) => state.joinCommunity.userInfo);\r\n\r\n  const debouncedChangeHandler = useMemo(() => {\r\n    const changeHandler = (e) => {\r\n      dispatch(updateName(e.target.value));\r\n    };\r\n    return debounce(changeHandler, 300);\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    return () => debouncedChangeHandler.cancel();\r\n  }, [debouncedChangeHandler]);\r\n\r\n  return (\r\n    <JoinBaseLayout\r\n      status={ResultState.Idle}\r\n      className=\"sw-user-info-container\"\r\n      left={\r\n        <>\r\n          <Box className=\"sw-box-logo\">\r\n            <DitoLogoSvg width={largeDevice ? '100px' : '80px'} />\r\n          </Box>\r\n\r\n          <SwQuote mobile={small} mobileStartText={<p>Have you ever thought...</p>}>\r\n            <>\r\n              <p>\r\n                Have you ever thought, <br />\r\n                \"I would like to contribute, but ...\"\r\n              </p>\r\n              <p className=\"mt-4 mb-4\">Distributed Town (DiTo) lets you create or join a community with one click.</p>\r\n\r\n              <p>Just select what you are best at - and we will match with the best communities that need you the most.</p>\r\n            </>\r\n          </SwQuote>\r\n        </>\r\n      }\r\n      right={\r\n        <div className=\"sw-user-info-wrapper\">\r\n          <Typography sx={{ color: 'background.paper', textAlign: 'center', pb: 2 }} component=\"div\" variant=\"h6\">\r\n            Personal information\r\n          </Typography>\r\n\r\n          <div className=\"sw-form-field\">\r\n            <Typography sx={{ color: 'background.paper', mb: 1 }} component=\"div\" variant=\"body1\">\r\n              Nickname\r\n            </Typography>\r\n            <div className=\"sw-form-field-content\">\r\n              <Typography sx={{ color: 'background.paper' }} component=\"div\" variant=\"body2\">\r\n                How would you like your comminity to call you ?\r\n              </Typography>\r\n              <TextField\r\n                autoFocus\r\n                defaultValue={name}\r\n                inputProps={{ maxLength: 20 }}\r\n                onChange={debouncedChangeHandler}\r\n                helperText={\r\n                  <Typography sx={{ color: 'secondary.main' }} component=\"span\" variant=\"body2\">\r\n                    Max characters 20\r\n                  </Typography>\r\n                }\r\n                variant=\"standard\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"sw-form-field\">\r\n            <Typography sx={{ color: 'background.paper', mb: 1 }} component=\"div\" variant=\"body1\">\r\n              Avatar\r\n            </Typography>\r\n            <div className=\"sw-form-field-content sw-image-upload\">\r\n              <Typography sx={{ color: 'background.paper' }} component=\"div\" variant=\"body2\">\r\n                A public image - that's how others will see you.\r\n              </Typography>\r\n              <SwUploadFile\r\n                initialPreviewUrl={avatar}\r\n                fileChange={async (file: File) => {\r\n                  if (file) {\r\n                    const base64 = await toBase64(file);\r\n                    dispatch(updateAvatarUrl(base64));\r\n                  } else {\r\n                    dispatch(updateAvatarUrl(null));\r\n                  }\r\n                }}\r\n                sx={{\r\n                  width: '60px',\r\n                  height: '60px',\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n      prevBtn={null}\r\n      nextBtn={\r\n        <SwButton\r\n          endIcon={<NavigateNextIcon />}\r\n          component={Link}\r\n          to=\"/join-community/categories\"\r\n          disabled={!name || !avatar}\r\n          label={small ? 'Next' : 'Next: Pick your category'}\r\n        />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default UserInfo;\r\n","import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Route } from 'react-router-dom';\n\nimport Categories from './categories/categories';\nimport Skills from './skills/skills';\nimport { resetJoinCommunityState } from './store/join.reducer';\nimport './join.scss';\nimport Communities from './communities/communities';\nimport UserInfo from './user-info/user-info';\n\nconst Join = (props) => {\n  const dispatch = useDispatch();\n  useEffect(\n    () => () => {\n      console.log('success');\n      dispatch(resetJoinCommunityState());\n    },\n    [dispatch]\n  );\n  return (\n    <div className=\"sw-join-community-container\">\n      <Route path=\"/join-community/user-info\" component={UserInfo} {...props} />\n      <Route path=\"/join-community/categories\" component={Categories} {...props} />\n      <Route path=\"/join-community/skills\" component={Skills} {...props} />\n      <Route path=\"/join-community/communities\" component={Communities} {...props} />\n    </div>\n  );\n};\n\nexport default Join;\n","import HelpIcon from '@mui/icons-material/Help';\nimport { Badge, Box, ThemeOptions, Tooltip, Typography } from '@mui/material';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport { Link } from 'react-router-dom';\nimport { DitoLogoSvg, SwButton, SwDivider, SwQuote } from 'sw-web-shared';\nimport './get-started.scss';\n\nconst GetStarted = () => {\n  const largeDevice = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.up('lg'));\n  const small = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.down('md'));\n\n  return (\n    <div className=\"sw-get-started-container\">\n      <Box sx={{ p: 0, m: 0 }} className=\"sw-box\">\n        <Box className=\"sw-box-logo\">\n          <DitoLogoSvg width={largeDevice ? '100px' : '80px'} />\n        </Box>\n\n        <SwQuote mobile={small} mobileStartText={<p>is a new financial...</p>}>\n          <>\n            <p>\n              <strong>Distributed Town</strong> is a new financial infrastructure for public goods, designed for the real world.\n            </p>\n            <p>\n              Its built upon mutual, collaborative economics between individuals and communities - and a universal identity management\n              based on skills, rather than personal data.\n            </p>\n          </>\n        </SwQuote>\n      </Box>\n      <SwDivider orientation={largeDevice ? 'vertical' : 'horizontal'} />\n      <Box sx={{ p: 0, m: 0 }} className=\"sw-box\">\n        <Box className=\"sw-box-title\">\n          <Typography color=\"text.primary\" component=\"div\" variant={largeDevice ? 'h4' : 'h5'}>\n            This is <span className=\"underline\">your Community</span>\n          </Typography>\n        </Box>\n        <Box className=\"sw-box-actions\">\n          <SwButton label=\"Join a community\" component={Link} to=\"/join-community/user-info\" />\n          <Badge\n            badgeContent={\n              <Tooltip title=\"Coming soon!\" arrow>\n                <HelpIcon\n                  sx={{\n                    bgcolor: 'text.primary',\n                    borderRadius: '50%',\n                    fontSize: '1.2rem',\n                    position: 'absolute',\n                  }}\n                />\n              </Tooltip>\n            }\n          >\n            <SwButton disabled label=\"Create\" component={Link} to=\"/community/create\" />\n          </Badge>\n        </Box>\n      </Box>\n    </div>\n  );\n};\n\nexport default GetStarted;\n","import React, { useEffect, useState } from 'react';\n\nimport './App.scss';\nimport SvgIcon from '@mui/material/SvgIcon';\nimport { defineCustomElements } from '@skill-wallet/auth/loader';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport { withRouter, Route } from 'react-router-dom';\nimport { SwLayout, MainBackgroundSvg, JoinSelSvg, SwSidebar, DitoLogoSvg } from 'sw-web-shared';\n\nimport { useSelector } from 'react-redux';\nimport { RootState, useAppDispatch } from '@dito-store/store';\nimport Web3Provider from '@dito-auth/Web3Provider';\nimport Web3jsComponent from '@dito-auth/Web3jsComponent';\nimport Community from './pages/community/community';\nimport Join from './pages/community/join/join';\nimport GetStarted from './pages/get-started/get-started';\nimport { resetAuthState, setAuthenticated } from './auth/auth.reducer';\n\nconst svgString = encodeURIComponent(renderToStaticMarkup(<MainBackgroundSvg />));\n\nfunction Home() {\n  return <h2 style={{ color: 'white' }}>Test</h2>;\n}\n\nconst LoadingMessage = () => (\n  <div className=\"app-loading\">\n    <DitoLogoSvg width=\"80\" height=\"80\" />\n  </div>\n);\n\nconst PrivateRoutes: React.FC = (props: any) => {\n  const { path } = props.match;\n  return (\n    <>\n      <Route path={`${path}/community`} component={Community} {...props} />\n      <Route path={`${path}/notifications`} component={Home} {...props} />\n    </>\n  );\n};\n\nconst AuthRoutes: React.FC = ({ ...props }: any) => (\n  <>\n    <Route exact component={GetStarted} path=\"/\" {...props} />\n    <Route component={Join} path=\"/join-community\" {...props} />\n  </>\n);\n\nconst App = (props: any) => {\n  const dispatch = useAppDispatch();\n  const [isLoading, setLoading] = useState(true);\n\n  const { isAutheticated } = useSelector((state: RootState) => state.auth);\n\n  useEffect(() => {\n    const onSWLogin = async () => {\n      setLoading(false);\n      dispatch(setAuthenticated(true));\n    };\n    defineCustomElements(window);\n    window.addEventListener('onSkillwalletLogin', onSWLogin);\n\n    // temporary\n    const timeout = setTimeout(() => {\n      if (!isAutheticated) {\n        setLoading(false);\n      }\n    }, 2000);\n\n    return () => {\n      clearTimeout(timeout);\n      window.removeEventListener('onSkillwalletLogin', onSWLogin);\n    };\n  }, [isAutheticated, dispatch]);\n\n  const menuItems: any[] = [\n    {\n      type: 'href',\n      label: 'SkillWallet',\n      href: '/community/skillwallet',\n      icon: <SvgIcon component={JoinSelSvg} />,\n    },\n    {\n      type: 'href',\n      label: 'dTown Hall',\n      href: '/community/dTown-hall',\n      icon: <SvgIcon component={JoinSelSvg} />,\n    },\n    {\n      type: 'href',\n      label: 'Notifications',\n      href: '/community/notifications',\n      icon: <SvgIcon component={JoinSelSvg} />,\n    },\n    {\n      type: 'href',\n      label: 'Settings',\n      href: '/community/settings',\n      icon: <SvgIcon component={JoinSelSvg} />,\n    },\n    {\n      type: 'divider',\n    },\n    {\n      label: 'Log off',\n      type: 'button',\n      onClick: () => {\n        localStorage.removeItem('skillWallet');\n        dispatch(resetAuthState());\n        props.history.push('/');\n        window.location.reload();\n      },\n      icon: <SvgIcon component={JoinSelSvg} />,\n    },\n  ];\n\n  return (\n    <Web3Provider>\n      <Web3jsComponent>\n        <SwLayout\n          className={isLoading ? 'loading' : ''}\n          top={\n            <div\n              className=\"wallet-btn\"\n              style={{\n                visibility: isLoading ? 'hidden' : 'visible',\n              }}\n            >\n              {/* @ts-ignore */}\n              <skillwallet-auth allowCreateNewUser={false} id=\"walletButton\" />\n            </div>\n          }\n          backgroundUrl={`url('data:image/svg+xml;utf8, ${svgString}')`}\n          drawer={isAutheticated && <SwSidebar sidebarTop={<DitoLogoSvg width=\"100\" height=\"100\" />} open menuItems={menuItems} />}\n        >\n          {isLoading ? <LoadingMessage /> : isAutheticated ? <PrivateRoutes {...props} /> : <AuthRoutes {...props} />}\n        </SwLayout>\n      </Web3jsComponent>\n    </Web3Provider>\n  );\n};\n\nexport default withRouter(App);\n","/* eslint-disable import/no-extraneous-dependencies */\nimport { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './index.css';\nimport { createTheme, StyledEngineProvider, ThemeOptions, ThemeProvider } from '@mui/material/styles';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport { persistStore } from 'redux-persist';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './store/store';\n\nconst persistor = persistStore(store);\n\nconst theme = createTheme({\n  components: {\n    MuiUseMediaQuery: {\n      defaultProps: {\n        noSsr: true,\n      },\n    },\n    MuiDialogContent: {\n      styleOverrides: {\n        root: {\n          borderStyle: 'solid',\n          borderWidth: '1px',\n          borderColor: 'text.primary',\n        },\n      },\n    },\n  },\n  breakpoints: {\n    values: {\n      xs: 0,\n      sm: 600,\n      md: 960,\n      lg: 1280,\n      xl: 1920,\n    },\n  },\n  palette: {\n    type: 'dark',\n    text: {\n      primary: '#fff',\n      // secondary: \"rgba(255, 255, 255, 0.7)\",\n    },\n    primary: {\n      main: '#161615',\n    },\n    secondary: {\n      main: '#D8D8D8',\n    },\n    // background: {\n    //   default: \"#161615\",\n    //   paper: \"#D8D8D8\",\n    // },\n  },\n  shape: {\n    borderRadius: 0,\n  },\n  typography: {\n    fontFamily: ['Josefin Sans', ' sans-serif'].join(','),\n  },\n} as ThemeOptions);\n\nReactDOM.render(\n  <StyledEngineProvider injectFirst>\n    <ThemeProvider theme={theme}>\n      <Router basename=\"/distributed-town-web\">\n        <Provider store={store}>\n          <PersistGate persistor={persistor}>\n            <App />\n          </PersistGate>\n        </Provider>\n      </Router>\n    </ThemeProvider>\n  </StyledEngineProvider>,\n  document.getElementById('root')\n);\n\n// // If you want to start measuring performance in your app, pass a function\n// // to log results (for example: reportWebVitals(console.log))\n// // or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}