(this["webpackJsonpdistributed-town-web"]=this["webpackJsonpdistributed-town-web"]||[]).push([[0],{191:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var a=n(20),r=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},i=function(e){if(""===e||""===e.trim())return!1;try{return btoa(atob(e))===e}catch(t){return!1}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(!e)throw new Error("No content was provided");var n=e.split(","),r=Object(a.a)(n,2),s=r[0],o=r[1],c=s.match(/:(.*?);/)[1];if(!i(o))throw new Error("Content provided is not of base64");for(var l=atob(o),u=l.length,d=new Uint8Array(u);u--;)d[u]=l.charCodeAt(u);return new File([d],t,{type:c})}},369:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(1),r=n.n(a),i=n(29),s=n(191),o=n(243),c={key:"bqbeg4w4u6ewltnejxwmvu6ngwu",secret:"bh24lv4dxie5dabwnl75y3onzphkvlqhyf56dlba"};function l(e){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(r.a.mark((function e(t){var n,a,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.withKeyInfo(c);case 2:return n=e.sent,e.next=5,n.getOrCreate("SkillWallet");case 5:if(a=e.sent,i=a.root){e.next=9;break}throw new Error("bucket not created");case 9:return"profile.png",e.next=12,n.pushPath(i.key,"profile.png",t);case 12:return s=e.sent,e.abrupt("return","https://hub.textile.io".concat(s.path.path));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i,u,d,p,m,b;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.withKeyInfo(c);case 2:return a=t.sent,t.next=5,a.getOrCreate("SkillWallet");case 5:if(i=t.sent,u=i.root){t.next=9;break}throw new Error("bucket not created");case 9:if(!n.image){t.next=17;break}return d=Object(s.a)(n.image,"avatar"),t.next=13,d.arrayBuffer();case 13:return p=t.sent,t.next=16,l(p);case 16:n.image=t.sent;case 17:return m=e.from(JSON.stringify(n,null,2)),"metadata.json",t.next=21,a.pushPath(u.key,"metadata.json",m);case 21:return b=t.sent,t.abrupt("return","https://hub.textile.io".concat(b.path.path));case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}).call(this,n(23).Buffer)},409:function(e,t,n){},419:function(e,t,n){},420:function(e,t,n){var a={"./auth-image_11.entry.js":[754,4]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=420,e.exports=r},424:function(e,t){},446:function(e,t){},448:function(e,t){},452:function(e,t){},473:function(e,t){},475:function(e,t){},491:function(e,t){},493:function(e,t){},525:function(e,t){},527:function(e,t){},616:function(e,t){},617:function(e,t){},704:function(e,t,n){},705:function(e,t,n){},723:function(e,t,n){},724:function(e,t,n){},725:function(e,t,n){},727:function(e,t,n){},728:function(e,t,n){},729:function(e,t,n){},732:function(e,t,n){},733:function(e,t,n){},734:function(e,t,n){},737:function(e,t,n){"use strict";n.r(t);n(409);var a=n(376),r=n(805),i=n(818),s=n(62),o=n.n(s),c=n(35),l=n(50),u=n(195),d=n(357),p=n(1),m=n.n(p),b=n(29),y=n(20),j=n(39),x=n(0),f=n.n(x),h=(n(419),n(384)),v=n(377),g=n(358),O=n(46),w=n(26),k=function(){return Object(c.b)()},T=n(134),C=n(806),S=n(2),A=function(e){var t=new C.a(e);return t.pollingInterval=1e3,t},N=function(e){var t=e.children;return Object(S.jsx)(T.a,{getLibrary:A,children:t})},I=n(365),M=n.n(I),W=n(77),R={isAutheticated:!1,web3jsInstance:null,userAddress:null},F=Object(W.c)({name:"auth",initialState:R,reducers:{setAuthenticated:function(e,t){e.isAutheticated=t.payload},setWeb3jsInstance:function(e,t){e.web3jsInstance=t.payload},setUserAddress:function(e,t){e.userAddress=t.payload},resetAuthState:function(){return R}}}),P=F.actions,E=P.setAuthenticated,L=P.setWeb3jsInstance,D=P.setUserAddress,B=P.resetAuthState,J=F.reducer,U=function(e){var t=e.children,n=Object(T.b)(),a=n.active,r=n.connector,i=k(),s=Object(c.c)((function(e){return e.auth})).web3jsInstance;return Object(x.useEffect)((function(){null===r||void 0===r||r.getProvider().then((function(e){var t=new M.a(e);i(L(t))})).catch((function(e){console.log(e)}))}),[a,r,i]),Object(x.useEffect)((function(){null!==s&&(console.log("web3jsInstance listener"),s.eth.getAccounts((function(e,t){e?console.error(e):i(D(t[0]))})))}),[s,i]),t},G=n(808),_=n(811),H=n(31),q={snackbar:{open:!1,message:"",severity:"success",duration:2e3},logs:[]},z=Object(W.c)({name:"ui",initialState:q,reducers:{addLog:function(e,t){Array.isArray(t.payload)?e.logs=[].concat(Object(H.a)(e.logs),Object(H.a)(t.payload)):e.logs.push(t.payload)},openSnackbar:function(e,t){e.snackbar.open=!0,e.snackbar.message=t.payload.message,e.snackbar.severity=t.payload.severity||"success",e.snackbar.duration=t.payload.duration||4e3},closeSnackbar:function(e){e.snackbar=Object(j.a)(Object(j.a)({},e.snackbar),{},{open:!1})},resetUIState:function(){return q}}}),V=z.actions,Q=V.openSnackbar,K=V.closeSnackbar,Y=V.addLog,X=z.reducer,Z=f.a.forwardRef((function(e,t){return Object(S.jsx)(G.a,Object(j.a)({elevation:6,ref:t,variant:"filled"},e))}));function $(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.ui.snackbar})),n=t.message,a=t.duration,r=t.severity,i=t.open,s=function(){e(K())};return Object(S.jsx)(_.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:a,open:i,onClose:s,children:Object(S.jsx)(Z,{onClose:s,severity:r,sx:{width:"100%"},children:n})})}var ee=n(816),te=n(817),ne=n(388),ae=function(e){var t=e.open,n=e.handleClose,a=e.logs,r=e.fullScreen,i=void 0!==r&&r,s=i?{}:{minWidth:"400px",minHeight:"400px"};return Object(S.jsx)(ee.a,{open:t,onClose:n,fullScreen:i,children:Object(S.jsx)(te.a,{sx:Object(j.a)(Object(j.a)({},s),{},{bgcolor:"primary.main",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}),children:a.map((function(e,t){return Object(S.jsx)(ne.a,{sx:{color:"background.paper",textAlign:"center",pb:1},component:"div",variant:"h6",children:e},t)}))})})},re=n(800);n(704);function ie(){return Object(S.jsx)(w.b,{width:"50",height:"50"})}var se,oe=function(e){var t=e.match.path;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(O.a,{from:"/community",to:"".concat(t,"/skillwallet")}),Object(S.jsx)(O.b,Object(j.a)({component:ie,path:"".concat(t,"/skillwallet")},e)),Object(S.jsx)(O.b,Object(j.a)({component:ie,path:"".concat(t,"/dTown-hall")},e)),Object(S.jsx)(O.b,Object(j.a)({component:ie,path:"".concat(t,"/notifications")},e)),Object(S.jsx)(O.b,Object(j.a)({component:ie,path:"".concat(t,"/settings")},e))]})},ce=n(189),le=n.n(ce),ue=n(135),de=n.n(ue),pe=n(102),me=n.n(pe),be=n(246),ye=n(751),je=n(383);!function(e){e.Idle="Idle",e.Loading="Loading",e.Failed="failed"}(se||(se={}));var xe=n(820),fe=(n(705),function(e){var t=e.left,n=e.right,a=e.prevBtn,r=e.nextBtn,i=e.status,s=e.className,o=Object(re.a)((function(e){return e.breakpoints.up("lg")}));return Object(S.jsxs)("div",{className:"sw-join-base-container ".concat(s),children:[Object(S.jsx)(be.a,{sx:{p:0,m:0,gridGap:"60px"},className:"sw-box",children:t}),Object(S.jsx)(w.f,{orientation:o?"vertical":"horizontal"}),Object(S.jsxs)(be.a,{sx:{p:0,m:0,gridGap:"20px"},className:"sw-box",children:[Object(S.jsx)(be.a,{sx:{width:o?"90% !important":"100%"},className:"sw-box-right-inner",children:i===se.Loading?Object(S.jsx)(xe.a,{sx:{color:"background.paper"}}):o?Object(S.jsx)(w.i,{children:n}):n}),Object(S.jsxs)(be.a,{sx:{width:o?"calc(90% - 12px) !important":"100%",boxShadow:o?0:2},className:"sw-box-actions",children:[Object(S.jsx)("div",{className:"prev-step",children:a}),Object(S.jsx)("div",{className:"next-step",children:r})]})]})]})}),he=n(181),ve=function(e,t){var n="Server error";try{var a=e.response;a&&500!==a.status&&(n=a.data.error)}catch(r){n="Server error"}throw t&&t(Q({message:n,severity:"error"})),new Error(e)},ge=n(242),Oe=n.n(ge),we=function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e([{id:0,name:"Management"},{id:1,name:"Network Design"},{id:2,name:"Training & Sport"},{id:3,name:"Web Dev"},{id:4,name:"DeFi"},{id:5,name:"Tokenomics"},{id:6,name:"Painting"},{id:7,name:"Consesus"},{id:8,name:"Photography"},{id:9,name:"Community"},{id:10,name:"Governance"},{id:11,name:"Teaching"},{id:12,name:"Architecture"},{id:13,name:"Frontend Dev"},{id:14,name:"Gardening"},{id:15,name:"Mobile Dev"},{id:16,name:"Video-Making"},{id:17,name:"Legal"},{id:18,name:"Smart Contracts"},{id:19,name:"Game Theory"},{id:20,name:"Householding"},{id:21,name:"Backend"},{id:22,name:"Blockchain"}])}),2e3)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oe.a.get("".concat("https://api.distributed.town","/api/skill?skill=").concat(encodeURIComponent(t))).then((function(e){return e.data})).then((function(e){return e.categories})).catch((function(){return[]})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oe.a.get("".concat("https://api.distributed.town","/api/community?category=").concat(encodeURIComponent(t))).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=Object(W.b)("category/entities",Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",we());case 1:case"end":return e.stop()}}),e)})))),Se=Object(W.b)("skills/entities",function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ke(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ae=Object(W.b)("community/entities",function(){var e=Object(b.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.prev=1,e.next=4,Te(t);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",ve(e.t0,a));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),Ne={userInfo:{name:null,avatar:null},category:{entities:[],selectedCategory:null,status:se.Idle},community:{entities:[],communitySelectedCategory:null,selectedCommunityName:null,status:se.Idle},skills:{skillSelectedCategory:null,entities:[],selectedSkills:[],status:se.Idle}},Ie=Object(W.c)({name:"joinCommunity",initialState:Ne,reducers:{updateName:function(e,t){e.userInfo.name=t.payload},updateAvatarUrl:function(e,t){e.userInfo.avatar=t.payload},selectCategory:function(e,t){e.category.selectedCategory=t.payload},selectCommunity:function(e,t){e.community.selectedCommunityName=t.payload},updateSkill:function(e,t){var n=t.payload.skill,a=e.skills.selectedSkills.findIndex((function(e){return e.skill===n}));e.skills.selectedSkills.splice(a,1,t.payload)},toggleSkill:function(e,t){var n=e.skills.selectedSkills.findIndex((function(e){return e.skill===t.payload}));-1===n?e.skills.selectedSkills=[].concat(Object(H.a)(e.skills.selectedSkills),[{skill:t.payload,xp:0}]):e.skills.selectedSkills.splice(n,1)},resetJoinCommunityState:function(){return Ne}},extraReducers:function(e){e.addCase(Ce.pending,(function(e){e.category.status=se.Loading})).addCase(Ce.fulfilled,(function(e,t){e.category.entities=t.payload,e.category.status=se.Idle})).addCase(Se.pending,(function(e){e.skills.selectedSkills=[],e.skills.status=se.Loading})).addCase(Se.fulfilled,(function(e,t){e.skills.entities=t.payload,e.skills.skillSelectedCategory=e.category.selectedCategory,e.skills.status=se.Idle})).addCase(Ae.pending,(function(e){e.community.status=se.Loading})).addCase(Ae.fulfilled,(function(e,t){e.community.entities=t.payload,e.community.communitySelectedCategory=e.category.selectedCategory,e.community.status=se.Idle})).addCase(Ae.rejected,(function(e){e.community.entities=[],e.community.communitySelectedCategory=null,e.community.status=se.Failed}))}}),Me=Ie.actions,We=Me.selectCategory,Re=Me.resetJoinCommunityState,Fe=Me.toggleSkill,Pe=Me.updateSkill,Ee=Me.selectCommunity,Le=Me.updateAvatarUrl,De=Me.updateName,Be=Object(he.a)(Ee,(function(e){var t=e.payload.joinCommunity.community,n=t.entities,a=t.selectedCommunityName;return n.find((function(e){return e.name===a}))})),Je=Object(he.a)(Pe,Fe,(function(e){return e.payload.joinCommunity.skills.selectedSkills.reduce((function(e,t){return[].concat(Object(H.a)(e),[{name:t.skill,value:t.xp}])}),[])})),Ue=Object(he.a)(Pe,Fe,(function(e){var t=e.payload.joinCommunity.skills,n=t.selectedSkills,a=t.entities;return(n.reduce((function(e,t){var n=a.find((function(e){return e.skills.some((function(e){return e===t.skill}))}));return e+=((null===n||void 0===n?void 0:n.credits)||0)*t.xp}),0)+2e3).toString()})),Ge=Object(he.a)(Pe,Fe,(function(e){var t=e.payload.joinCommunity.skills,n=t.selectedSkills,a=t.entities;return n.reduce((function(e,t){var n=a.find((function(e){return e.skills.some((function(e){return e===t.skill}))}));return e=[].concat(Object(H.a)(e),[{percentage:t.xp/10*100,name:t.skill,credits:((null===n||void 0===n?void 0:n.credits)||0)*t.xp}])}),[])})),_e=Ie.reducer,He=(n(723),function(){var e=Object(re.a)((function(e){return e.breakpoints.up("lg")})),t=Object(re.a)((function(e){return e.breakpoints.down("md")})),n=Object(c.b)(),a=Object(c.c)((function(e){return e.joinCommunity.category})),r=a.entities,i=a.status,s=a.selectedCategory,o=Object(c.c)((function(e){return e.joinCommunity.userInfo}));return Object(x.useEffect)((function(){!r.length&&(null===o||void 0===o?void 0:o.name)&&(null===o||void 0===o?void 0:o.avatar)&&n(Ce())}),[n,r,o]),Object(S.jsx)(fe,{status:i,className:"sw-categories-container",left:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(be.a,{className:"sw-box-logo",children:Object(S.jsx)(w.b,{width:e?"100px":"80px"})}),Object(S.jsx)(w.h,{mobile:t,mobileStartText:Object(S.jsx)("p",{children:"Have you ever thought..."}),children:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("p",{children:["Have you ever thought, ",Object(S.jsx)("br",{}),'"I would like to contribute, but ..."']}),Object(S.jsx)("p",{className:"mt-4 mb-4",children:"Distributed Town (DiTo) lets you create or join a community with one click."}),Object(S.jsx)("p",{children:"Just select what you are best at - and we will match with the best communities that need you the most."})]})})]}),right:Object(S.jsxs)("div",{className:"sw-category-wrapper",children:[Object(S.jsx)(ne.a,{sx:{color:"background.paper",textAlign:"center",pb:2},component:"div",variant:"h6",children:"Pick a category"}),(null===o||void 0===o?void 0:o.name)&&(null===o||void 0===o?void 0:o.avatar)?Object(S.jsx)(ye.a,{sx:{display:"grid",width:"100%",gridGap:"15px",padding:0,gridTemplateColumns:"repeat(auto-fit, minmax(175px, 1fr))",gridAutoRows:"minmax(60px, auto)"},children:r.map((function(e){var t=e.id,a=e.name;return Object(S.jsx)(je.a,{sx:{height:"45px"},disablePadding:!0,children:Object(S.jsx)(w.e,{sx:{height:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},onClick:function(){return n(We(a))},className:s===a?"active-link":"",startIcon:Object(S.jsx)(le.a,{}),label:a})},t)}))}):Object(S.jsx)(ne.a,{className:"no-item-selected",sx:{color:"background.paper",textAlign:"center",pb:2},component:"div",variant:"h6",children:"Personal information was not provided, go back to provide it!"})]}),prevBtn:Object(S.jsx)(w.e,{startIcon:Object(S.jsx)(de.a,{}),component:l.b,to:"/join-community/user-info",label:"Prev"}),nextBtn:Object(S.jsx)(w.e,{disabled:null===s||i===se.Loading||!((null===o||void 0===o?void 0:o.name)&&(null===o||void 0===o?void 0:o.avatar)),endIcon:Object(S.jsx)(me.a,{}),component:l.b,to:"/join-community/skills",label:t?"Next":"Next: Pick your skills"})})}),qe=(n(724),n(821)),ze=n(822),Ve=n(812),Qe=n(823),Ke=n(824),Ye=n(814),Xe=n(244),Ze=n(801),$e=n(813);n(725);var et=function(e){var t=e.category,n=e.skills,a=e.credits,r=e.selectedSkills,i=e.toggleSkill,s=e.updateSkill;return Object(S.jsx)(qe.a,{className:"sw-skill-card",sx:{display:"flex"},children:Object(S.jsxs)(be.a,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(S.jsx)(ze.a,{sx:{flex:"1 0 auto"},children:Object(S.jsxs)(ne.a,{component:"div",variant:"h6",children:[t," ",Object(S.jsxs)("small",{children:["(",a," Credits)"]})]})}),Object(S.jsx)(be.a,{sx:{display:"flex",alignItems:"center",pl:"16px",pr:"16px"},children:Object(S.jsx)(ye.a,{className:"sw-skill-list",children:n.map((function(e,t){var n=r.find((function(t){return t.skill===e}));return Object(S.jsx)(je.a,{sx:{minHeight:"45px",alignItems:"flex-start"},disablePadding:!0,children:Object(S.jsxs)(Ve.a,{disableGutters:!0,elevation:0,square:!0,sx:{p:0,m:0,width:"100%"},expanded:!!n,children:[Object(S.jsx)(Qe.a,{children:Object(S.jsx)(w.e,{label:e,sx:{height:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},disabled:3===r.length&&!n,className:n?"active-link":"",onClick:function(){return i(e)}})}),Object(S.jsxs)(Ke.a,{sx:{padding:"16px"},children:[Object(S.jsx)(ne.a,{color:"primary.main",component:"div",variant:"subtitle1",align:"center",children:Object(S.jsx)(Ye.a,{sx:{padding:"0 8px"},badgeContent:Object(S.jsx)(Xe.a,{title:"Tell your community about the Experience you have.",arrow:!0,children:Object(S.jsx)(le.a,{sx:{fontSize:"1.2rem",position:"absolute"}})}),children:"Your XP Level"})}),Object(S.jsxs)(Ze.a,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center",children:[Object(S.jsx)(ne.a,{color:"primary.main",component:"div",variant:"subtitle2",children:"1"}),Object(S.jsx)($e.a,{valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:10,defaultValue:null===n||void 0===n?void 0:n.xp,onChangeCommitted:function(t,n){s({xp:n,skill:e})},sx:{"& .MuiSlider-thumb":{borderRadius:"0px"}}},"slider-".concat(null===n||void 0===n?void 0:n.xp)),Object(S.jsx)(ne.a,{color:"primary.main",component:"div",variant:"subtitle2",children:"10"})]})]})]})},t)}))})})]})})},tt=function(){var e=Object(c.b)(),t=Object(re.a)((function(e){return e.breakpoints.up("lg")})),n=Object(re.a)((function(e){return e.breakpoints.down("md")})),a=Object(c.c)((function(e){return e.joinCommunity.skills})),r=a.entities,i=a.status,s=a.selectedSkills,o=a.skillSelectedCategory,u=Object(c.c)((function(e){return e.joinCommunity.category})).selectedCategory;return Object(x.useEffect)((function(){u&&u!==o&&e(Se(u))}),[e,o,u]),Object(S.jsx)(fe,{status:i,className:"sw-skill-container",left:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(be.a,{className:"sw-box-logo",children:Object(S.jsx)(w.b,{width:t?"100px":"80px"})}),Object(S.jsx)(w.h,{mobile:n,mobileStartText:Object(S.jsx)("p",{children:"Have you ever thought..."}),children:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("p",{children:["Have you ever thought, ",Object(S.jsx)("br",{}),'"I would like to contribute, but ..."']}),Object(S.jsx)("p",{className:"mt-4 mb-4",children:"Distributed Town (DiTo) lets you create or join a community with one click."}),Object(S.jsx)("p",{children:"Just select what you are best at - and we will match with the best communities that need you the most."})]})})]}),right:Object(S.jsxs)("div",{className:"sw-skill-wrapper",children:[Object(S.jsx)(ne.a,{sx:{color:"background.paper",textAlign:"center",pb:2},component:"div",variant:"h6",children:"Pick your skills (1-to-3) that you want to offer, & recieve the Credits you deserve!"}),o?(null===r||void 0===r?void 0:r.length)?r.map((function(t){var n=t.credits,a=t.skills,r=t.subCat;return Object(S.jsx)(et,{selectedSkills:s,category:r,credits:n,skills:a,updateSkill:function(t){return e(Pe(t))},toggleSkill:function(t){return e(Fe(t))}},r)})):Object(S.jsxs)(ne.a,{sx:{color:"background.paper",textAlign:"center",pb:2,mt:4},component:"div",variant:"h6",children:["We could not find any skills for ",o," category, please go back and select a different category!"]}):Object(S.jsx)(ne.a,{className:"no-item-selected",sx:{color:"background.paper",textAlign:"center",pb:2},component:"div",variant:"h6",children:"No category was selected, go back to select one!"})]}),prevBtn:Object(S.jsx)(w.e,{startIcon:Object(S.jsx)(de.a,{}),component:l.b,to:"/join-community/categories",label:"Prev"}),nextBtn:Object(S.jsx)(w.e,{disabled:0===s.length||i===se.Loading,endIcon:Object(S.jsx)(me.a,{}),component:l.b,to:"/join-community/communities",label:n?"Next":"Next: Join your community"})})},nt=(n(727),n(120)),at=n(61),rt=[{inputs:[{internalType:"address",name:"_linkToken",type:"address"},{internalType:"address",name:"_oracle",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"id",type:"bytes32"}],name:"ChainlinkCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"id",type:"bytes32"}],name:"ChainlinkFulfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"id",type:"bytes32"}],name:"ChainlinkRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"skillWalletId",type:"uint256"}],name:"PubKeyAddedToSkillWallet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"skillWalletId",type:"uint256"}],name:"SkillWalletActivated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"SkillWalletClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"skillWalletId",type:"uint256"},{indexed:!1,internalType:"address",name:"newCommunity",type:"address"}],name:"SkillWalletCommunityChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"skillWalletOwner",type:"address"},{indexed:!0,internalType:"address",name:"community",type:"address"},{indexed:!0,internalType:"uint256",name:"skillWalletId",type:"uint256"}],name:"SkillWalletCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"uint256",name:"action",type:"uint256"}],name:"ValidationFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"uint256",name:"action",type:"uint256"}],name:"ValidationPassed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"requestId",type:"bytes32"},{indexed:!1,internalType:"address",name:"caller",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ValidationRequestIdSent",type:"event"},{inputs:[{internalType:"uint256",name:"skillWalletId",type:"uint256"}],name:"activateSkillWallet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"skillWalletId",type:"uint256"},{internalType:"string",name:"pubKey",type:"string"}],name:"addPubKeyToSkillWallet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"skillWalletOwner",type:"address"},{internalType:"string",name:"url",type:"string"},{internalType:"bool",name:"isClaimable",type:"bool"}],name:"create",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"skillWalletId",type:"uint256"}],name:"getActiveCommunity",outputs:[{internalType:"address",name:"community",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"skillWalletOwner",type:"address"}],name:"getClaimableSkillWalletId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"skillWalletId",type:"uint256"}],name:"getCommunityHistory",outputs:[{internalType:"address[]",name:"communities",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"skillWalletOwner",type:"address"}],name:"getSkillWalletIdByOwner",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalSkillWalletsRegistered",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"requestId",type:"bytes32"}],name:"isRequestIdValid",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"skillWalletId",type:"uint256"}],name:"isSkillWalletActivated",outputs:[{internalType:"bool",name:"status",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"skillWalletOwner",type:"address"}],name:"isSkillWalletClaimable",outputs:[{internalType:"bool",name:"status",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"skillWalletOwner",type:"address"}],name:"isSkillWalletRegistered",outputs:[{internalType:"bool",name:"status",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"skillWalletClaimers",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"skillWalletToPubKey",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"signature",type:"string"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"action",type:"uint256"},{internalType:"string[]",name:"stringParams",type:"string[]"},{internalType:"uint256[]",name:"intParams",type:"uint256[]"},{internalType:"address[]",name:"addressParams",type:"address[]"}],name:"validate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_requestId",type:"bytes32"},{internalType:"bool",name:"_isValid",type:"bool"}],name:"validationCallback",outputs:[],stateMutability:"nonpayable",type:"function"}],it=[{inputs:[{internalType:"string",name:"_url",type:"string"},{internalType:"address",name:"_addrProvider",type:"address"},{internalType:"uint256",name:"_totalMembersAllowed",type:"uint256"},{internalType:"bool",name:"_claimableSkillWallets",type:"bool"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_member",type:"address"},{indexed:!1,internalType:"uint256",name:"_skillWalletTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_transferredTokens",type:"uint256"}],name:"MemberAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_member",type:"address"}],name:"MemberLeft",type:"event"},{inputs:[],name:"activeMembersCount",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"projectId",type:"uint256"}],name:"addProjectId",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"member",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ditoCreditsAddr",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"ditoCreditsHolder",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMemberAddresses",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMembers",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"projectId",type:"uint256"}],name:"getProjectTreasuryAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProjects",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSkillWalletAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getTemplate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTreasuryBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"gigsAddr",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isMember",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"skillWalletTokenId",type:"uint256"},{internalType:"uint256",name:"credits",type:"uint256"}],name:"join",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"credits",type:"uint256"}],name:"joinNewMember",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"memberAddress",type:"address"}],name:"leave",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"memberAddresses",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"metadataUri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"scarcityScore",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"skillWalletIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferCredits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferToCommunity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"treasuryAddr",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}];function st(e){this.value=e,this.message="No event found!",this.toString=function(){return this.value+this.message}}var ot,ct=function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","Universal, self-sovereign IDs tied to skills & contributions rather than personal data.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=Object(b.a)(m.a.mark((function e(){var t=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.length>0&&void 0!==t[0]?t[0]:null,e.abrupt("return","0x1e79bE396CE37F7eB43aF0Ef0ffb3124F3fD23eF");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=Object(b.a)(m.a.mark((function e(t){var n,a,r,i,s,o,c,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new nt.a.providers.Web3Provider(window.ethereum),a=n.getSigner(),e.next=4,lt(t);case 4:return r=e.sent,i=new nt.a.Contract(r,rt,a),e.next=8,i.claim();case 8:return s=e.sent,e.next=11,s.wait();case 11:if(o=e.sent,c=o.events,l=c.find((function(e){return"SkillWalletClaimed"===e.event}))){e.next=16;break}throw new st({code:-32603,message:"Internal JSON-RPC error.",data:{code:3,data:"",message:"SkillWallet:ClaimEventMissing"}});case 16:return e.abrupt("return",l.args);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object(b.a)(m.a.mark((function e(t){var n,a,r,i,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new nt.a.providers.Web3Provider(window.ethereum),a=n.getSigner(),e.next=4,lt(t);case 4:return r=e.sent,i=new nt.a.Contract(r,rt,a),e.next=8,i.isSkillWalletRegistered(window.ethereum.selectedAddress);case 8:if(!e.sent){e.next=14;break}return e.next=12,i.getSkillWalletIdByOwner(window.ethereum.selectedAddress);case 12:return s=e.sent,e.abrupt("return",null===s||void 0===s?void 0:s.toString());case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pt=function(){var e=Object(b.a)(m.a.mark((function e(t){var n,a,r,i,s,o,c,l,u,d,p,b,j,x;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.communityAddress,a=t.url,r=t.credits,i=new nt.a.providers.Web3Provider(window.ethereum),s=i.getSigner(),o=new nt.a.Contract(n,it,s),e.next=6,o.joinNewMember(a,Object(at.toWei)(r.toString()));case 6:return c=e.sent,e.next=9,c.wait();case 9:if(l=e.sent,u=l.events,d=u.find((function(e){return"MemberAdded"===e.event}))){e.next=14;break}throw new st({code:-32603,message:"Internal JSON-RPC error.",data:{code:3,data:"",message:"SkillWallet:MemberEventMissing"}});case 14:return p=Object(y.a)(d.args,3),b=p[0],j=p[1],x=p[2],e.abrupt("return",{userAddress:b,tokenId:null===j||void 0===j?void 0:j.toString(),credits:x});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("https://api.skillwallet.id","/api/skillWallet/hasPendingAuth?address=").concat(t),{method:"GET"}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=Object(b.a)(m.a.mark((function e(t,n){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://api.skillwallet.id","/api/skillWallet/").concat(n,"/nonces?action=").concat(t),{method:"POST"});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r.nonce);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}();!function(e){e.NoFreeSpots="NoFreeSpots",e.AlreadyMember="AlreadyMember",e.SkillWalletNotActivated="SkillWalletNotActivated",e.SkillWalletNotClaimed="SkillWalletNotClaimed",e.RetryJoin="RetryJoin",e.RetryNetwork="RetryNetwork",e.RetryTextile="RetryTextile",e.RetryNonce="RetryNonce",e.AlreadyClaimed="AlreadyClaimed",e.SkillWalletNotCreated="SkillWalletNotCreated",e.RetryClaim="RetryClaim",e.RetryAuth="RetryAuth",e.RetryTokenId="RetryTokenId"}(ot||(ot={}));n(728);var yt=n(825),jt=n(826),xt=n(750);n(729);var ft,ht=function(e){var t=e.community,n=e.selectedCommunityName,a=e.onSelect,r=t.members>=t.totalMembersAllowed,i=Object(re.a)((function(e){return e.breakpoints.down("sm")}));return Object(S.jsx)(qe.a,{onClick:function(){return!r&&a(t.name)},className:"sw-community-card ".concat(n===t.name?"active":""," ").concat(r?"inactive":""),children:Object(S.jsx)(yt.a,{disabled:r,children:Object(S.jsxs)(ze.a,{sx:{display:"flex"},children:[Object(S.jsxs)(be.a,{sx:{flex:"1"},children:[Object(S.jsx)(jt.a,{sx:{boxShadow:1,bgcolor:r?"secondary.main":"white",py:"8px"},avatar:Object(S.jsx)(xt.a,{sx:{width:50,height:50},src:t.image}),title:Object(S.jsx)(ne.a,{variant:i?"h6":"h5",color:"primary.main",children:t.name}),subheader:Object(S.jsxs)("div",{className:"car-subtitle",children:[Object(S.jsxs)(ne.a,{variant:"body1",color:"text.secondary",children:["Members: ".concat(t.members," / ")," ",Object(S.jsx)("small",{children:t.totalMembersAllowed})]}),Object(S.jsx)(ne.a,{sx:{px:1},variant:"body1",color:"text.secondary",children:"|"}),Object(S.jsx)(ne.a,{variant:"body1",color:"text.secondary",children:"Scarcity score: ".concat(t.scarcityScore)})]})}),Object(S.jsx)(ne.a,{className:"card-description",sx:{pb:2,pt:2},variant:"body2",children:t.description})]}),Object(S.jsxs)(be.a,{className:"can-accept-in",sx:{width:"170px"},children:[Object(S.jsx)(ne.a,{sx:{pb:2,pt:2},variant:"body2",children:"Accepting new diTizens?"}),Object(S.jsx)("div",{className:"toggle-circle ".concat(r?"not-accepting":"accepting"),children:r?"No":"Yes"})]})]})})})};!function(e){e[e.Activate=0]="Activate",e[e.Login=1]="Login",e[e.CreateGig=2]="CreateGig",e[e.TakeGig=3]="TakeGig",e[e.SubmitGig=4]="SubmitGig",e[e.CompleteGig=5]="CompleteGig"}(ft||(ft={}));var vt=function(e){if(!e)return e;if("string"!==typeof e)throw new Error("SW error message is not a string!");var t=e.split("execution reverted:"),n=Object(y.a)(t,2)[1],a=(n||"").split("SkillWallet:");return(Object(y.a)(a,2)[1]||n||"Unknown error").trim()},gt=n(368),Ot=n(369),wt=function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x13881"}]});case 3:case 12:e.next=18;break;case 5:if(e.prev=5,e.t0=e.catch(0),t&&t(Y(JSON.stringify(e.t0))),4902!==e.t0.code){e.next=18;break}return e.prev=9,e.next=12,window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x13881",chainName:"Mumbai",nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.matic.today"],blockExplorerUrls:["https://mumbai.polygonscan.com/"]}]});case 14:return e.prev=14,e.t1=e.catch(9),t&&t(Y(JSON.stringify(e.t1))),e.abrupt("return",!1);case 18:return e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e,null,[[0,5],[9,14]])})));return function(t){return e.apply(this,arguments)}}(),kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(t){return setTimeout(t,e)}))},Tt=function(){var e=Object(b.a)(m.a.mark((function e(t,n){var a,r,i,s=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>2&&void 0!==s[2]?s[2]:2e3,r=s.length>3&&void 0!==s[3]?s[3]:10,e.next=4,t();case 4:i=e.sent;case 5:if(!(n(i)&&r>0)){e.next=14;break}return e.next=8,kt(a);case 8:return e.next=10,t();case 10:i=e.sent,r=-r,e.next=5;break;case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ct=new(n(378).a)({supportedChainIds:[80001]}),St=function(e){var t=e.message,n=e.subtitle,a=void 0===n?null:n,r=e.onCancel;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"sw-join-dialog-content",children:[Object(S.jsx)(xe.a,{sx:{color:"text.primary"}}),Object(S.jsx)(ne.a,{sx:{textAlign:"center",mt:2},component:"div",variant:"h6",children:t}),Object(S.jsx)(ne.a,{sx:{color:"secondary.main",textAlign:"center",mt:2},component:"div",variant:"body2",children:a})]}),Object(S.jsx)(w.e,{color:"error",onClick:r,sx:{mt:4},label:"Cancel"})]})},At=function(e){var t=e.message,n=e.subtitle,a=void 0===n?null:n,r=e.onCancel;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"sw-join-dialog-content",children:[Object(S.jsx)(ne.a,{sx:{textAlign:"center",mt:2},component:"div",variant:"h6",children:t}),Object(S.jsx)(ne.a,{sx:{color:"secondary.main",textAlign:"center",mt:2},component:"div",variant:"body2",children:a})]}),Object(S.jsx)(w.e,{color:"error",onClick:r,sx:{mt:4},label:"Cancel"})]})},Nt=function(e){var t=e.message,n=e.subtitle,a=e.actionLabel,r=e.handleAdditionalAction,i=e.onCancel;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"sw-join-dialog-content",children:[Object(S.jsx)(ne.a,{sx:{textAlign:"center",mt:2},component:"div",variant:"h6",children:t}),Object(S.jsx)(ne.a,{sx:{color:"secondary.main",textAlign:"center",mt:2},component:"div",variant:"body2",children:n}),Object(S.jsx)(w.e,{color:"primary",onClick:r,sx:{mt:4,width:"200px",height:"45px"},label:a})]}),Object(S.jsx)(w.e,{color:"error",onClick:i,sx:{mt:4},label:"Cancel"})]})},It=function(e,t,n,a){var r=function(){var e=Object(b.a)(m.a.mark((function e(r){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(S.jsx)(St,{message:"Ensuring ethereum connection ...",onCancel:n})),e.next=3,r(Ct);case 3:return e.next=5,Ct.isAuthorized();case 5:return(i=e.sent)||t(Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Nt,{actionLabel:"Retry",subtitle:"If this problem repeats plase make sure your metamask is connected",message:"We could not enable the ethereum network",handleAdditionalAction:function(){return a(ot.RetryNetwork)},onCancel:n})})),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var r=Object(b.a)(m.a.mark((function r(i){var s;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i){r.next=2;break}return r.abrupt("return",!1);case 2:return t(Object(S.jsx)(St,{message:"Ensuring correct network ...",onCancel:n})),r.next=5,wt(e);case 5:return(s=r.sent)||t(Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Nt,{actionLabel:"Retry",subtitle:null,message:"We could not set the correct network, please set it manually and try again",handleAdditionalAction:function(){return a(ot.RetryNetwork)},onCancel:n})})),r.abrupt("return",s);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),s=function(){var r=Object(b.a)(m.a.mark((function r(i,s){return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i){r.next=2;break}return r.abrupt("return",null);case 2:return t(Object(S.jsx)(St,{message:"Generating textile bucket url ...",onCancel:n})),r.prev=3,r.next=6,Object(Ot.a)(s);case 6:return r.abrupt("return",r.sent);case 9:return r.prev=9,r.t0=r.catch(3),r.next=13,e(Y(JSON.stringify(r.t0)));case 13:t(Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Nt,{actionLabel:"Retry",subtitle:null,message:"Unknown Error",handleAdditionalAction:function(){return a(ot.RetryTextile)},onCancel:n})}));case 14:return r.abrupt("return",null);case 15:case"end":return r.stop()}}),r,null,[[3,9]])})));return function(e,t){return r.apply(this,arguments)}}(),o=function(){var r=Object(b.a)(m.a.mark((function r(i,s,o){var c;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i){r.next=2;break}return r.abrupt("return",null);case 2:return r.prev=2,t(Object(S.jsx)(St,{subtitle:"This might take awhile, please be patient",message:"Executing join membership smart contract ...",onCancel:n})),r.next=6,pt({url:i,credits:o,communityAddress:s});case 6:return r.abrupt("return",r.sent);case 9:return r.prev=9,r.t0=r.catch(2),r.next=13,e(Y(JSON.stringify(r.t0)));case 13:return c=vt(r.t0.data.message),String(c).includes("Already a member")?t(Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Nt,{actionLabel:"Connect",subtitle:"Connect to SkillWallet account to see your community",message:c,handleAdditionalAction:function(){return a(ot.AlreadyMember)},onCancel:n})})):String(c).includes("There is SkillWallet already registered for this address")?t(Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Nt,{actionLabel:"Generate QR code",subtitle:"If you have not activated you skillwallet account then you can do so by clicking generate QR Code",message:c,handleAdditionalAction:function(){return a(ot.SkillWalletNotActivated)},onCancel:n})})):String(c).includes("There is SkillWallet to be claimed by this address")?t(Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Nt,{actionLabel:"Claim",subtitle:"You are already a member of this community, but you have not claimed it yet!",message:c,handleAdditionalAction:function(){return a(ot.SkillWalletNotClaimed)},onCancel:n})})):String(c).includes("No free spots left")?t(Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(At,{subtitle:"Select another community and try again!",message:c,onCancel:n})})):t(Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Nt,{actionLabel:"Retry",subtitle:"retry again",message:c,handleAdditionalAction:function(){return a(ot.RetryJoin)},onCancel:n})})),r.abrupt("return",null);case 16:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(e,t,n){return r.apply(this,arguments)}}(),c=function(){var r=Object(b.a)(m.a.mark((function r(i,s){var o;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i&&s){r.next=2;break}return r.abrupt("return",null);case 2:return t(Object(S.jsx)(St,{subtitle:"This might take awhile, please be patient",message:"Executing claim membership smart contract ...",onCancel:n})),r.prev=3,r.next=6,ut(i);case 6:return r.abrupt("return",r.sent);case 9:return r.prev=9,r.t0=r.catch(3),r.next=13,e(Y(JSON.stringify(r.t0)));case 13:return o=vt(r.t0.data.message.payload),String(o).includes("There is SkillWallet already registered for this address")?t(Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Nt,{actionLabel:"Connect",subtitle:"Connect to SkillWallet account to see your community",message:o,handleAdditionalAction:function(){return a(ot.AlreadyClaimed)},onCancel:n})})):t(Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Nt,{actionLabel:"Retry",subtitle:null,message:o,handleAdditionalAction:function(){return a(ot.RetryClaim)},onCancel:n})})),r.abrupt("return",null);case 16:case"end":return r.stop()}}),r,null,[[3,9]])})));return function(e,t){return r.apply(this,arguments)}}(),l=function(){var r=Object(b.a)(m.a.mark((function r(i){var s;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i){r.next=2;break}return r.abrupt("return",null);case 2:return t(Object(S.jsx)(St,{subtitle:"This might take awhile, please be patient",message:"Getting your skillwallet metadata ...",onCancel:n})),r.prev=3,r.next=6,dt(i);case 6:return r.abrupt("return",r.sent);case 9:return r.prev=9,r.t0=r.catch(3),r.next=13,e(Y(JSON.stringify(r.t0)));case 13:return s=vt(r.t0.data.message.payload),t(Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Nt,{actionLabel:"Retry",subtitle:null,message:s,handleAdditionalAction:function(){return a(ot.RetryTokenId)},onCancel:n})})),r.abrupt("return",null);case 16:case"end":return r.stop()}}),r,null,[[3,9]])})));return function(e){return r.apply(this,arguments)}}(),u=function(){var e=Object(b.a)(m.a.mark((function e(r){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:return t(Object(S.jsx)(St,{subtitle:"This might take awhile, please be patient",message:"Generating QR code ...",onCancel:n})),e.next=5,bt(ft.Activate,r);case 5:return i=e.sent,t(i?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(be.a,{sx:{display:"flex",mt:2,p:2,bgcolor:"white"},children:Object(S.jsx)(gt.QRCode,{value:JSON.stringify({tokenId:r,nonce:i}),logoWidth:140,logoHeight:140,bgColor:"white",size:205})}),Object(S.jsx)(be.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",px:2,bgcolor:"white",width:"230px",height:"60px",marginTop:"14px"},children:Object(S.jsxs)(ne.a,{sx:{color:"black",textAlign:"center"},component:"div",variant:"body1",children:["Scan with your ",Object(S.jsx)("b",{children:"SkillWallet App"})," ",Object(S.jsx)("br",{}),"to claim your Membership"]})}),Object(S.jsx)(w.e,{color:"error",onClick:n,sx:{mt:4},label:"Cancel"})]}):Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Nt,{actionLabel:"Retry",subtitle:null,message:"QR code was not generated successfully!",handleAdditionalAction:function(){return a(ot.RetryNonce)},onCancel:n})})),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var r=Object(b.a)(m.a.mark((function r(i,s){var o,c,l,u;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i&&s){r.next=2;break}return r.abrupt("return",!1);case 2:return t(Object(S.jsx)(St,{subtitle:"This might take awhile, please be patient",message:"Authenticating ....",onCancel:n})),r.prev=3,o=function(){return mt(window.ethereum.selectedAddress)},c=function(e){return!e.hasPendingAuth},r.next=8,Tt(o,c);case 8:return l=r.sent,u=l.hasPendingAuth,r.abrupt("return",u);case 13:return r.prev=13,r.t0=r.catch(3),r.next=17,e(Y(JSON.stringify(r.t0)));case 17:t(Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Nt,{actionLabel:"Retry",subtitle:"Something went wrong",message:"Authentication was unsuccessful",handleAdditionalAction:function(){return a(ot.RetryAuth)},onCancel:n})}));case 18:return r.abrupt("return",!1);case 19:case"end":return r.stop()}}),r,null,[[3,13]])})));return function(e,t){return r.apply(this,arguments)}}();return{onEthConnection:r,onEthNetworkChange:i,onTextileBucket:s,onJoinMembership:o,onClaimMembership:c,onQRCodeGenerate:u,onAuthenticate:d,onGetTokenId:l}},Mt=function(e){var t=e.open,n=e.handleClose,a=e.dialogContent,r=e.fullScreen,i=void 0!==r&&r,s=i?{}:{minWidth:"400px",minHeight:"400px"};return Object(S.jsx)(ee.a,{open:t,onClose:n,fullScreen:i,children:Object(S.jsx)(te.a,{sx:Object(j.a)(Object(j.a)({},s),{},{bgcolor:"primary.main",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}),children:a})})},Wt=n(11),Rt=n(10),Ft=n(194),Pt=n.n(Ft),Et=(n(732),n(803)),Lt=n(371),Dt=Object(Rt.a)(Et.a)((function(e){var t,n=e.theme;return t={height:"15px",borderRadius:0,border:"1px solid ".concat(n.palette.background.paper)},Object(Wt.a)(t,"&.".concat(Lt.a.colorPrimary),{backgroundColor:n.palette.background.paper}),Object(Wt.a)(t,"& .".concat(Lt.a.bar),{borderRadius:0,backgroundColor:n.palette.primary.main}),t}));var Bt=function(e){var t=e.totalCredits,n=e.creditSkills,a=Object(re.a)((function(e){return e.breakpoints.down("sm")}));return Object(S.jsxs)(be.a,{className:"sw-community-credits",children:[Object(S.jsx)(ne.a,{sx:{color:"background.paper",textAlign:"center",mb:2},component:"div",variant:"h6",children:"DITO credits you will earn with your skills"}),Object(S.jsx)(w.h,{mobile:a,mobileStartText:Object(S.jsx)("p",{children:"Credits..."}),children:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Ye.a,{sx:{paddingLeft:"15px"},badgeContent:Object(S.jsx)(Xe.a,{title:Object(S.jsxs)(S.Fragment,{children:[Number(t)-2e3," (skill credits) + 2000 (base credits)"]}),arrow:!0,children:Object(S.jsx)(Pt.a,{sx:{borderRadius:"50%",fontSize:"1.2rem",position:"absolute"}})}),children:Object(S.jsxs)(ne.a,{sx:{color:"background.paper",textAlign:"start",mb:2},component:"div",variant:"h6",children:["Total credits: ",t]})}),n.map((function(e,t){var n=e.percentage,a=e.name,r=e.credits;return Object(S.jsxs)("div",{className:"sw-credit-widget",children:[Object(S.jsxs)("div",{className:"credit-content",children:[Object(S.jsxs)("div",{className:"credit-label",children:[Object(S.jsx)(w.l,{width:"14px"}),Object(S.jsx)(ne.a,{sx:{color:"background.paper",textAlign:"start",ml:1},component:"div",variant:"body2",children:a})]}),Object(S.jsxs)("div",{className:"sw-progress-bar",children:[Object(S.jsx)(Dt,{variant:"determinate",value:n}),Object(S.jsxs)(ne.a,{className:"sw-progress-bar-label",sx:{color:"secondary.main",textAlign:"center"},component:"span",variant:"body2",children:[n,"%"]})]})]}),Object(S.jsxs)("div",{className:"credit-amount",children:[Object(S.jsx)(ne.a,{sx:{color:"background.paper",textAlign:"start",mr:1},component:"div",variant:"body2",children:r}),Object(S.jsx)(w.a,{width:"14px"})]})]},t)}))]})})]})},Jt=function(){var e=k(),t=Object(T.b)().activate,n=Object(re.a)((function(e){return e.breakpoints.up("lg")})),a=Object(re.a)((function(e){return e.breakpoints.down("md")})),r=Object(re.a)((function(e){return e.breakpoints.down("sm")})),i=Object(c.c)((function(e){return e.auth})).isAutheticated,s=Object(c.c)((function(e){return e.joinCommunity.category})).selectedCategory,o=Object(c.c)((function(e){return e.joinCommunity.skills})).selectedSkills,u=Object(c.c)((function(e){return e.joinCommunity.userInfo})),d=Object(c.c)((function(e){return e.joinCommunity.community})),p=d.entities,j=d.status,f=d.selectedCommunityName,h=Object(c.c)(Be),v=Object(c.c)(Je),g=Object(c.c)(Ue),O=Object(c.c)(Ge),C=Object(x.useState)(!1),A=Object(y.a)(C,2),N=A[0],I=A[1],M=Object(x.useState)(null),W=Object(y.a)(M,2),R=W[0],F=W[1],P=Object(x.useState)(null),E=Object(y.a)(P,2),L=E[0],D=E[1],B=Object(x.useState)(null),J=Object(y.a)(B,2),U=J[0],G=J[1],_=function(){I(!1),G(null),D(null),F(null)},H=function(){var n=Object(b.a)(m.a.mark((function n(){var a,r,i,s,o,c,l,d,p,y,j,x,f,O,w,k;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ct();case 2:return a=n.sent,r={name:"".concat(null===u||void 0===u?void 0:u.name,"'s SkillWallet"),description:a,image:null===u||void 0===u?void 0:u.avatar,properties:{username:null===u||void 0===u?void 0:u.name,skills:v}},I(!0),i=It(e,F,_,function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===ot.AlreadyMember?3:e.t0===ot.SkillWalletNotActivated||e.t0===ot.AlreadyClaimed||e.t0===ot.RetryNonce?5:e.t0===ot.SkillWalletNotClaimed||e.t0===ot.RetryClaim?18:e.t0===ot.RetryAuth?35:e.t0===ot.RetryJoin||e.t0===ot.RetryNetwork||e.t0===ot.RetryTextile?38:43;break;case 3:return _(),e.abrupt("break",44);case 5:return e.t1=D,e.next=8,c(h.address);case 8:return e.t2=e.sent,(0,e.t1)(e.t2),e.t3=G,e.next=13,y(L);case 13:return e.t4=e.sent,(0,e.t3)(e.t4),e.next=17,j(U,L);case 17:return e.abrupt("break",44);case 18:return e.next=20,p(h.address,!0);case 20:return e.t5=D,e.next=23,c(h.address);case 23:return e.t6=e.sent,(0,e.t5)(e.t6),console.log("TokenId: ",L),e.t7=G,e.next=29,y(L);case 29:return e.t8=e.sent,(0,e.t7)(e.t8),console.log("Nonce: ",U),e.next=34,j(U,L);case 34:return e.abrupt("break",44);case 35:return e.next=37,j(U,L);case 37:return e.abrupt("break",44);case 38:return G(null),D(null),F(null),H(),e.abrupt("break",44);case 43:console.error("Not handled!");case 44:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s=i.onEthConnection,o=i.onEthNetworkChange,c=i.onGetTokenId,l=i.onTextileBucket,d=i.onJoinMembership,p=i.onClaimMembership,y=i.onQRCodeGenerate,j=i.onAuthenticate,n.next=8,s(t);case 8:return x=n.sent,console.log("IsConnected: ",x),n.next=12,o(x);case 12:return f=n.sent,console.log("IsCorrectNetwork: ",x),n.next=16,l(f,r);case 16:return O=n.sent,console.log("BucketUrl: ",O),n.next=20,d(O,h.address,g);case 20:return w=n.sent,D(null===w||void 0===w?void 0:w.tokenId),console.log("Member: ",w),console.log("TokenId: ",L),n.next=26,p(h.address,!!w);case 26:return n.t0=G,n.next=29,y(L);case 29:return n.t1=n.sent,(0,n.t0)(n.t1),console.log("Nonce: ",U),n.next=34,j(U,L);case 34:k=n.sent,console.log("IsAuthenticated: ",k);case 36:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(x.useEffect)((function(){o.length&&s&&e(Ae(s))}),[e,s,o]),Object(x.useEffect)((function(){i&&_()}),[e,i]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Mt,{fullScreen:r,open:N,onClose:function(){return I(!1)},dialogContent:R}),Object(S.jsx)(fe,{status:j,className:"sw-communities-container",left:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(be.a,{className:"sw-box-logo",children:Object(S.jsx)(w.b,{width:n?"100px":"80px"})}),Object(S.jsx)(Bt,{totalCredits:g,creditSkills:O})]}),right:Object(S.jsxs)("div",{className:"sw-communties-wrapper",children:[Object(S.jsx)(ne.a,{sx:{color:"background.paper",textAlign:"center",pb:2},component:"div",variant:"h6",children:"Here is a few comminities for you (Based on your Skills). Choose one that inspires you the most & start adding Value to it"}),s&&o.length?(null===p||void 0===p?void 0:p.length)?p.map((function(t,n){return Object(S.jsx)(ht,{onSelect:function(t){return e(Ee(t))},selectedCommunityName:f,community:t},"community-".concat(n))})):Object(S.jsxs)(ne.a,{sx:{color:"background.paper",textAlign:"center",pb:2,mt:4},component:"div",variant:"h6",children:["We could not find any communities for ",s," category, please go back and select a different category!"]}):Object(S.jsx)(ne.a,{className:"no-item-selected",sx:{color:"background.paper",textAlign:"center",pb:2},component:"div",variant:"h6",children:"No skills were selected, go back and select some skills before selecting a community"})]}),prevBtn:Object(S.jsx)(w.e,{startIcon:Object(S.jsx)(de.a,{}),component:l.b,to:"/join-community/skills",label:"Prev"}),nextBtn:Object(S.jsx)(w.e,{disabled:null===f||j===se.Loading,endIcon:Object(S.jsx)(me.a,{}),onClick:function(){return H()},to:"/join-community/Community",label:a?"Next":"Next: Claim your membership"})})]})},Ut=n(807),Gt=n(191),_t=n(372),Ht=n.n(_t),qt=(n(733),function(){var e=Object(re.a)((function(e){return e.breakpoints.up("lg")})),t=Object(re.a)((function(e){return e.breakpoints.down("md")})),n=Object(c.b)(),a=Object(c.c)((function(e){return e.joinCommunity.userInfo})),r=a.name,i=a.avatar,s=Object(x.useMemo)((function(){return Ht()((function(e){console.error("Error","error"),n(De(e.target.value))}),300)}),[n]);return Object(x.useEffect)((function(){return function(){return s.cancel()}}),[s]),Object(S.jsx)(fe,{status:se.Idle,className:"sw-user-info-container",left:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(be.a,{className:"sw-box-logo",children:Object(S.jsx)(w.b,{width:e?"100px":"80px"})}),Object(S.jsx)(w.h,{mobile:t,mobileStartText:Object(S.jsx)("p",{children:"Have you ever thought..."}),children:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("p",{children:["Have you ever thought, ",Object(S.jsx)("br",{}),'"I would like to contribute, but ..."']}),Object(S.jsx)("p",{className:"mt-4 mb-4",children:"Distributed Town (DiTo) lets you create or join a community with one click."}),Object(S.jsx)("p",{children:"Just select what you are best at - and we will match with the best communities that need you the most."})]})})]}),right:Object(S.jsxs)("div",{className:"sw-user-info-wrapper",children:[Object(S.jsx)(ne.a,{sx:{color:"background.paper",textAlign:"center",pb:2},component:"div",variant:"h6",children:"Personal information"}),Object(S.jsxs)("div",{className:"sw-form-field",children:[Object(S.jsx)(ne.a,{sx:{color:"background.paper",mb:1},component:"div",variant:"body1",children:"Nickname"}),Object(S.jsxs)("div",{className:"sw-form-field-content",children:[Object(S.jsx)(ne.a,{sx:{color:"background.paper"},component:"div",variant:"body2",children:"How would you like your comminity to call you ?"}),Object(S.jsx)(Ut.a,{autoFocus:!0,defaultValue:r,inputProps:{maxLength:20},onChange:s,helperText:Object(S.jsx)(ne.a,{sx:{color:"secondary.main"},component:"span",variant:"body2",children:"Max characters 20"}),variant:"standard"})]})]}),Object(S.jsxs)("div",{className:"sw-form-field",children:[Object(S.jsx)(ne.a,{sx:{color:"background.paper",mb:1},component:"div",variant:"body1",children:"Avatar"}),Object(S.jsxs)("div",{className:"sw-form-field-content sw-image-upload",children:[Object(S.jsx)(ne.a,{sx:{color:"background.paper"},component:"div",variant:"body2",children:"A public image - that's how others will see you."}),Object(S.jsx)(w.k,{initialPreviewUrl:i,fileChange:function(){var e=Object(b.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,Object(Gt.b)(t);case 3:a=e.sent,n(Le(a)),e.next=8;break;case 7:n(Le(null));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sx:{width:"60px",height:"60px"}})]})]})]}),prevBtn:null,nextBtn:Object(S.jsx)(w.e,{endIcon:Object(S.jsx)(me.a,{}),component:l.b,to:"/join-community/categories",disabled:!r||!i,label:t?"Next":"Next: Pick your category"})})}),zt=function(e){console.log("joinProps",e);var t=Object(c.b)();return Object(x.useEffect)((function(){return function(){t(Re())}}),[t]),Object(S.jsxs)("div",{className:"sw-join-community-container",children:[Object(S.jsx)(O.b,Object(j.a)({path:"/join-community/user-info",component:qt},e)),Object(S.jsx)(O.b,Object(j.a)({path:"/join-community/categories",component:He},e)),Object(S.jsx)(O.b,Object(j.a)({path:"/join-community/skills",component:tt},e)),Object(S.jsx)(O.b,Object(j.a)({path:"/join-community/communities",component:Jt},e))]})},Vt=(n(734),function(){var e=Object(re.a)((function(e){return e.breakpoints.up("lg")})),t=Object(re.a)((function(e){return e.breakpoints.down("md")}));return Object(S.jsxs)("div",{className:"sw-get-started-container",children:[Object(S.jsxs)(be.a,{sx:{p:0,m:0},className:"sw-box",children:[Object(S.jsx)(be.a,{className:"sw-box-logo",children:Object(S.jsx)(w.b,{width:e?"100px":"80px"})}),Object(S.jsx)(w.h,{mobile:t,mobileStartText:Object(S.jsx)("p",{children:"is a new financial..."}),children:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("p",{children:[Object(S.jsx)("strong",{children:"Distributed Town"})," is a new financial infrastructure for public goods, designed for the real world."]}),Object(S.jsx)("p",{children:"It\u2019s built upon mutual, collaborative economics between individuals and communities - and a universal identity management based on skills, rather than personal data."})]})})]}),Object(S.jsx)(w.f,{orientation:e?"vertical":"horizontal"}),Object(S.jsxs)(be.a,{sx:{p:0,m:0},className:"sw-box",children:[Object(S.jsx)(be.a,{className:"sw-box-title",children:Object(S.jsxs)(ne.a,{color:"text.primary",component:"div",variant:e?"h4":"h5",children:["This is ",Object(S.jsx)("span",{className:"underline",children:"your Community"})]})}),Object(S.jsxs)(be.a,{className:"sw-box-actions",children:[Object(S.jsx)(w.e,{label:"Join a community",component:l.b,to:"/join-community/user-info"}),Object(S.jsx)(Ye.a,{badgeContent:Object(S.jsx)(Xe.a,{title:"Coming soon!",arrow:!0,children:Object(S.jsx)(Pt.a,{sx:{bgcolor:"text.primary",borderRadius:"50%",fontSize:"1.2rem",position:"absolute"}})}),children:Object(S.jsx)(w.e,{disabled:!0,label:"Create",component:l.b,to:"/community/create"})})]})]})]})}),Qt=encodeURIComponent(Object(g.renderToStaticMarkup)(Object(S.jsx)(w.d,{})));function Kt(){return Object(S.jsx)("h2",{style:{color:"white"},children:"Test"})}var Yt=function(){return Object(S.jsx)("div",{className:"app-loading",children:Object(S.jsx)(w.b,{width:"80",height:"80"})})},Xt=function(e){var t=e.match.path;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(O.b,Object(j.a)({path:"".concat(t,"/community"),component:oe},e)),Object(S.jsx)(O.b,Object(j.a)({path:"".concat(t,"/notifications"),component:Kt},e))]})},Zt=function(e){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(O.b,Object(j.a)({exact:!0,component:Vt,path:"/"},e)),Object(S.jsx)(O.b,Object(j.a)({component:zt,path:"/join-community"},e))]})},$t=console.error,en=Object(O.f)((function(e){var t=k(),n=Object(x.useState)(!0),a=Object(y.a)(n,2),r=a[0],i=a[1],s=Object(x.useState)(!1),o=Object(y.a)(s,2),l=o[0],u=o[1],d=Object(x.useState)(!1),p=Object(y.a)(d,2),f=p[0],g=p[1],O=Object(re.a)((function(e){return e.breakpoints.down("sm")})),T=Object(c.c)((function(e){return e.auth})).isAutheticated,C=Object(c.c)((function(e){return e.ui})).logs;Object(x.useEffect)((function(){l||(u(!0),console.error=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t(Y(n)),$t.apply(console,arguments)})}),[l,t]),Object(x.useEffect)((function(){var e=function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!1),t(E(!0));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(v.a)(window),window.addEventListener("onSkillwalletLogin",e);var n=setTimeout((function(){T||i(!1)}),2e3);return function(){clearTimeout(n),window.removeEventListener("onSkillwalletLogin",e)}}),[T,t]);var A=[{type:"href",label:"SkillWallet",href:"/community/skillwallet",icon:Object(S.jsx)(h.a,{component:w.c})},{type:"href",label:"dTown Hall",href:"/community/dTown-hall",icon:Object(S.jsx)(h.a,{component:w.c})},{type:"href",label:"Notifications",href:"/community/notifications",icon:Object(S.jsx)(h.a,{component:w.c})},{type:"href",label:"Settings",href:"/community/settings",icon:Object(S.jsx)(h.a,{component:w.c})},{type:"divider"},{label:"Log off",type:"button",onClick:function(){localStorage.removeItem("skillWallet"),t(B()),e.history.push("/"),window.location.reload()},icon:Object(S.jsx)(h.a,{component:w.c})}];return Object(S.jsx)(N,{children:Object(S.jsx)(U,{children:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ae,{open:f,handleClose:function(){g(!1)},logs:C,fullScreen:O}),Object(S.jsx)($,{}),Object(S.jsx)(w.g,{className:r?"loading":"",top:Object(S.jsxs)("div",{className:"wallet-btn",style:{display:"flex",visibility:r?"hidden":"visible"},children:[Object(S.jsx)("skillwallet-auth",{allowCreateNewUser:!1,id:"walletButton"}),Object(S.jsx)(w.e,{sx:{height:"33px",ml:2},label:"Open logs",onClick:function(){return g(!0)}})]}),backgroundUrl:"url('data:image/svg+xml;utf8, ".concat(Qt,"')"),drawer:T&&Object(S.jsx)(w.j,{sidebarTop:Object(S.jsx)(w.b,{width:"100",height:"100"}),open:!0,menuItems:A}),children:r?Object(S.jsx)(Yt,{}):T?Object(S.jsx)(Xt,Object(j.a)({},e)):Object(S.jsx)(Zt,Object(j.a)({},e))})]})})})})),tn=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,829)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))},nn=n(373),an=n.n(nn),rn=n(374),sn=n.n(rn),on=n(375),cn=n.n(on),ln=n(60),un={key:"appState",storage:sn.a,stateReconciler:cn.a,blacklist:["auth"]},dn=Object(ln.b)({joinCommunity:_e,auth:J,ui:X}),pn=Object(u.a)(un,dn),mn=Object(W.a)({middleware:function(e){return e({serializableCheck:!1}).concat(an.a)},reducer:pn}),bn=Object(u.b)(mn),yn=Object(a.a)({components:{MuiUseMediaQuery:{defaultProps:{noSsr:!0}},MuiDialogContent:{styleOverrides:{root:{borderStyle:"solid",borderWidth:"1px",borderColor:"text.primary"}}}},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}},palette:{type:"dark",text:{primary:"#fff"},primary:{main:"#161615"},secondary:{main:"#D8D8D8"}},shape:{borderRadius:0},typography:{fontFamily:["Josefin Sans"," sans-serif"].join(",")}});o.a.render(Object(S.jsx)(r.a,{injectFirst:!0,children:Object(S.jsx)(i.a,{theme:yn,children:Object(S.jsx)(l.a,{basename:"/distributed-town-web",children:Object(S.jsx)(c.a,{store:mn,children:Object(S.jsx)(d.a,{persistor:bn,children:Object(S.jsx)(en,{})})})})})}),document.getElementById("root")),tn()}},[[737,2,3]]]);
//# sourceMappingURL=main.0aabec84.chunk.js.map