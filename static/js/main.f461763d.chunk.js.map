{"version":3,"sources":["utils/to-base-64.ts","api/textile-bucket.api.ts","../node_modules/@skill-wallet/auth/dist/esm lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object","store/status.ts","auth/auth.reducer.ts","pages/community/join/store/join.api.ts","pages/community/join/store/join.reducer.ts","store/store.ts","pages/community/community.tsx","pages/community/join/base/join-base.tsx","pages/community/join/categories/categories.tsx","pages/community/join/skills/skill-card.tsx","pages/community/join/skills/skills.tsx","api/skillwallet.api.ts","pages/community/join/store/model.ts","pages/community/join/communities/community-card.tsx","api/model.ts","utils/parse-smart-contact-error.ts","api/ethereum-network.api.ts","utils/async-poller.ts","pages/community/join/communities/claim-membership-handlers.tsx","pages/community/join/communities/claim-membership-dialog.tsx","pages/community/join/communities/community-credits.tsx","pages/community/join/communities/communities.tsx","pages/community/join/user-info/user-info.tsx","pages/community/join/join.tsx","pages/get-started/get-started.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","isBase64","str","trim","btoa","atob","err","base64toFile","dataurl","filename","Error","split","metadata","base64","mime","match","bstr","n","length","u8arr","Uint8Array","charCodeAt","File","type","keyInfo","key","process","secret","uploadImageToTextileBucket","content","a","Buckets","withKeyInfo","buckets","getOrCreate","root","pushPath","links","path","generateTextileBucketUrl","image","arrayBuffer","buf","Buffer","from","JSON","stringify","map","webpackAsyncContext","req","__webpack_require__","o","then","e","code","ids","id","keys","Object","module","exports","ResultState","initialState","isAutheticated","authSlice","createSlice","name","reducers","setAuthenticated","state","action","payload","resetAuthState","actions","getCategories","setTimeout","getSkills","categoryId","fetch","encodeURIComponent","method","res","json","categories","catch","getCommunties","fetchCategories","createAsyncThunk","fetchSkills","fetchCommunities","userInfo","avatar","category","entities","selectedCategory","status","Idle","community","communitySelectedCategory","selectedCommunityName","skills","skillSelectedCategory","selectedSkills","joinCommunitySlice","updateName","updateAvatarUrl","selectCategory","selectCommunity","updateSkill","skill","index","findIndex","x","splice","toggleSkill","xp","resetJoinCommunityState","extraReducers","builder","addCase","pending","Loading","fulfilled","getCommunity","createSelector","x1","joinCommunity","find","getFormattedSkills","reduce","prev","curr","value","getCredits","entity","some","s","credits","toString","getSkillCredits","percentage","persistConfig","storage","stateReconciler","autoMergeLevel2","combineReducers","joinCommunitySliceReducer","auth","authSliceReducer","persistedReducer","persistReducer","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","concat","logger","reducer","useAppDispatch","useDispatch","Topic","width","height","Community","props","to","component","JoinBaseLayout","left","right","prevBtn","nextBtn","className","largeDevice","useMediaQuery","theme","breakpoints","up","Box","sx","p","m","gridGap","orientation","CircularProgress","color","boxShadow","Categories","small","down","dispatch","useSelector","useEffect","mobile","mobileStartText","Typography","textAlign","pb","variant","List","display","padding","gridTemplateColumns","gridAutoRows","ListItem","disablePadding","whiteSpace","overflow","textOverflow","onClick","startIcon","label","Link","disabled","endIcon","SkillCard","Card","flexDirection","CardContent","flex","alignItems","pl","pr","currentSkill","minHeight","Accordion","disableGutters","elevation","square","expanded","AccordionSummary","AccordionDetails","align","Badge","badgeContent","Tooltip","title","arrow","fontSize","position","Stack","spacing","direction","mb","Slider","valueLabelDisplay","step","marks","min","max","defaultValue","onChangeCommitted","_","borderRadius","Skills","subCat","mt","skillWalletAbi","inputs","internalType","stateMutability","anonymous","indexed","outputs","communityAbi","NoEventException","this","message","JoinSkillWalletErrors","EhereumNetworkErrors","TextileStorageErrors","SkillWalletNonceErrors","ClaimSkillWalletErrors","SkillWalletAuthenticationErrors","getSkillWalletDescription","getSkillWalletAddress","claimCommunityMembershipContract","communityAddress","provider","ethers","providers","Web3Provider","window","ethereum","signer","getSigner","skillWalletAddress","contract","Contract","claim","claimTx","wait","claimTransactionResult","events","claimedEvent","event","data","args","getTokenIdContract","skillwalletAddress","isSkillWalletRegistered","selectedAddress","getSkillWalletIdByOwner","tokenId","executeCommunityContract","url","joinNewMember","toWei","createTx","communityTransactionResult","memberJoinedEvent","userAddress","communityCredits","hasPendingAuthentication","address","response","generateNonce","nonce","CommunityCard","NonceActions","onSelect","inactive","members","totalMembersAllowed","CardActionArea","CardHeader","bgcolor","py","Avatar","src","subheader","px","scarcityScore","pt","description","ParseSWErrorMessage","skillWalletMsg","timeout","prom","time","race","_r","rej","connectToEthereum","request","switchToEtheremNetwork","params","chainId","chainName","nativeCurrency","symbol","decimals","rpcUrls","blockExplorerUrls","ms","asyncPoll","fn","fnCondition","maxRetries","DialogLoadingMessage","subtitle","onCancel","DialogErrorMessage","DialogAdditionalActionNeeded","actionLabel","handleAdditionalAction","OnClaimMembershipHandlers","setDialogContent","handleClose","onEthConnection","isConnected","Retry","onEthNetworkChange","isCorrectNetwork","onTextileBucket","metadataJson","onJoinMembership","buckerUrl","String","AlreadyMember","SkillWalletNotActivated","SkillWalletNotClaimed","onClaimMembership","hasJoinedCommunity","AlreadyClaimed","onGetTokenId","onQRCodeGenerate","Activate","logoWidth","logoHeight","bgColor","size","justifyContent","marginTop","onAuthenticate","condition","hasPendingAuth","ClaimMembershipDialog","open","dialogContent","fullScreen","dialogSize","minWidth","Dialog","onClose","DialogContent","NoBorderLinearProgress","styled","LinearProgress","border","palette","background","paper","linearProgressClasses","colorPrimary","backgroundColor","bar","primary","main","CommunityCredits","totalCredits","creditSkills","paddingLeft","Number","ml","mr","Communities","extraSmall","selectedCommunity","formattedSkills","useState","setOpen","setTokenId","setNonce","claimMembership","properties","username","console","log","bucketUrl","member","isAuthenticated","UserInfo","debouncedChangeHandler","useMemo","debounce","target","cancel","TextField","autoFocus","inputProps","maxLength","onChange","helperText","initialPreviewUrl","fileChange","Join","GetStarted","svgString","renderToStaticMarkup","Home","style","LoadingMessage","PrivateRoutes","AuthRoutes","exact","withRouter","isLoading","setLoading","onSWLogin","defineCustomElements","addEventListener","clearTimeout","removeEventListener","menuItems","href","icon","SvgIcon","JoinSelSvg","localStorage","removeItem","history","push","location","reload","top","visibility","allowCreateNewUser","backgroundUrl","drawer","sidebarTop","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","persistor","persistStore","createTheme","components","MuiUseMediaQuery","defaultProps","noSsr","MuiDialogContent","styleOverrides","borderStyle","borderWidth","borderColor","values","xs","sm","md","lg","xl","text","secondary","shape","typography","fontFamily","join","ReactDOM","render","StyledEngineProvider","injectFirst","ThemeProvider","basename","document","getElementById"],"mappings":"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","file":"static/js/main.f461763d.chunk.js","sourcesContent":["export const toBase64 = (file: File) => {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = (error) => reject(error);\r\n  });\r\n};\r\n\r\nexport const isBase64 = (str: string) => {\r\n  if (str === '' || str.trim() === '') {\r\n    return false;\r\n  }\r\n  try {\r\n    return btoa(atob(str)) === str;\r\n  } catch (err) {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const base64toFile = (dataurl = '', filename: string) => {\r\n  if (!dataurl) {\r\n    throw new Error('No content was provided');\r\n  }\r\n  const [metadata, base64] = dataurl.split(',');\r\n  const mime = metadata.match(/:(.*?);/)[1];\r\n\r\n  if (!isBase64(base64)) {\r\n    throw new Error('Content provided is not of base64');\r\n  }\r\n  const bstr = atob(base64);\r\n  let n = bstr.length;\r\n  const u8arr = new Uint8Array(n);\r\n\r\n  // eslint-disable-next-line no-plusplus\r\n  while (n--) {\r\n    u8arr[n] = bstr.charCodeAt(n);\r\n  }\r\n\r\n  return new File([u8arr], filename, { type: mime });\r\n};\r\n","import { base64toFile } from '@dito-utils/to-base-64';\r\nimport { Buckets } from '@textile/hub';\r\nimport { TextileBucketMetadata } from './model';\r\n\r\nconst keyInfo = {\r\n  key: process.env.REACT_APP_PUBLIC_TEXTILE_KEY,\r\n  secret: process.env.REACT_APP_PUBLIC_TEXTILE_SECRET,\r\n};\r\n\r\nexport async function uploadImageToTextileBucket(content: ArrayBuffer) {\r\n  const buckets = await Buckets.withKeyInfo(keyInfo);\r\n  const { root } = await buckets.getOrCreate(process.env.REACT_APP_PUBLIC_BUCKET_NAME);\r\n  if (!root) throw new Error('bucket not created');\r\n  const path = `profile.png`;\r\n  const links = await buckets.pushPath(root.key, path, content);\r\n  return `https://hub.textile.io${links.path.path}`;\r\n}\r\n\r\nexport const generateTextileBucketUrl = async (metadata: TextileBucketMetadata) => {\r\n  const buckets = await Buckets.withKeyInfo(keyInfo);\r\n  const { root } = await buckets.getOrCreate(process.env.REACT_APP_PUBLIC_BUCKET_NAME);\r\n  if (!root) throw new Error('bucket not created');\r\n\r\n  if (metadata.image) {\r\n    const file = base64toFile(metadata.image, 'avatar');\r\n    const arrayBuffer = await file.arrayBuffer();\r\n    metadata.image = await uploadImageToTextileBucket(arrayBuffer);\r\n  }\r\n\r\n  const buf = Buffer.from(JSON.stringify(metadata, null, 2));\r\n  const path = 'metadata.json';\r\n  const links = await buckets.pushPath(root.key, path, buf);\r\n  return `https://hub.textile.io${links.path.path}`;\r\n};\r\n","var map = {\n\t\"./auth-image_11.entry.js\": [\n\t\t408,\n\t\t4\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 276;\nmodule.exports = webpackAsyncContext;","// eslint-disable-next-line no-shadow\r\nexport enum ResultState {\r\n  'Idle' = 'Idle',\r\n  'Loading' = 'Loading',\r\n  'Failed' = 'failed',\r\n}\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport interface AuthState {\r\n  isAutheticated: boolean;\r\n}\r\n\r\nconst initialState: AuthState = {\r\n  isAutheticated: false,\r\n};\r\n\r\nexport const authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  reducers: {\r\n    setAuthenticated(state, action) {\r\n      state.isAutheticated = action.payload;\r\n    },\r\n    resetAuthState: () => initialState,\r\n  },\r\n});\r\n\r\nexport const { setAuthenticated, resetAuthState } = authSlice.actions;\r\n\r\nexport default authSlice.reducer;\r\n","import { Category, CommunityCategory, SkillCategory } from './model';\n\nexport const getCategories = async (): Promise<Category[]> =>\n  new Promise((resolve) => {\n    setTimeout(() => {\n      resolve([\n        {\n          id: 0,\n          name: 'Management',\n        },\n        {\n          id: 1,\n          name: 'Network Design',\n        },\n        {\n          id: 2,\n          name: 'Training & Sport',\n        },\n        {\n          id: 3,\n          name: 'Web Dev',\n        },\n        {\n          id: 4,\n          name: 'DeFi',\n        },\n        {\n          id: 5,\n          name: 'Tokenomics',\n        },\n        {\n          id: 6,\n          name: 'Painting',\n        },\n        {\n          id: 7,\n          name: 'Consesus',\n        },\n        {\n          id: 8,\n          name: 'Photography',\n        },\n        {\n          id: 9,\n          name: 'Community',\n        },\n        {\n          id: 10,\n          name: 'Governance',\n        },\n        {\n          id: 11,\n          name: 'Teaching',\n        },\n        {\n          id: 12,\n          name: 'Architecture',\n        },\n        {\n          id: 13,\n          name: 'Frontend Dev',\n        },\n        {\n          id: 14,\n          name: 'Gardening',\n        },\n\n        {\n          id: 15,\n          name: 'Mobile Dev',\n        },\n        {\n          id: 16,\n          name: 'Video-Making',\n        },\n        {\n          id: 17,\n          name: 'Legal',\n        },\n        {\n          id: 18,\n          name: 'Smart Contracts',\n        },\n        {\n          id: 19,\n          name: 'Game Theory',\n        },\n        {\n          id: 20,\n          name: 'Householding',\n        },\n        {\n          id: 21,\n          name: 'Backend',\n        },\n        {\n          id: 22,\n          name: 'Blockchain',\n        },\n      ]);\n    }, 2000);\n  });\n\nexport const getSkills = async (categoryId: string): Promise<SkillCategory[]> => {\n  return fetch(`${process.env.REACT_APP_PUBLIC_API_URL}/api/skill?skill=${encodeURIComponent(categoryId)}`, { method: 'GET' })\n    .then((res) => res.json())\n    .then(({ categories }) => categories)\n    .catch(() => []);\n};\n\nexport const getCommunties = async (categoryId: string): Promise<CommunityCategory[]> => {\n  return fetch(`${process.env.REACT_APP_PUBLIC_API_URL}/api/community?category=${encodeURIComponent(categoryId)}`, { method: 'GET' })\n    .then((res) => res.json())\n    .catch(() => []);\n};\n","import { TextileBucketSkillsMetadata } from 'src/api/model';\r\nimport { ResultState } from '@dito-store/status';\r\nimport { createSlice, createAsyncThunk, createSelector } from '@reduxjs/toolkit';\r\n\r\nimport { getCategories, getCommunties, getSkills } from './join.api';\r\nimport { Category, CommunityCategory, SkillCategory } from './model';\r\n\r\ninterface Skill {\r\n  skill: string;\r\n  xp: number;\r\n}\r\n\r\nexport interface JoinCommunityState {\r\n  userInfo: {\r\n    name: string;\r\n    avatar: string;\r\n  };\r\n  category: {\r\n    entities: Category[];\r\n    selectedCategory: string;\r\n    status: ResultState;\r\n  };\r\n  community: {\r\n    entities: CommunityCategory[];\r\n    communitySelectedCategory: string;\r\n    selectedCommunityName: string;\r\n    status: ResultState;\r\n  };\r\n  skills: {\r\n    entities: SkillCategory[];\r\n    skillSelectedCategory: string;\r\n    selectedSkills: Skill[];\r\n    status: ResultState;\r\n  };\r\n}\r\n\r\nexport const fetchCategories = createAsyncThunk('category/entities', async () => getCategories());\r\nexport const fetchSkills = createAsyncThunk('skills/entities', async (categoryId: string) => getSkills(categoryId));\r\nexport const fetchCommunities = createAsyncThunk('community/entities', async (categoryId: string) => getCommunties(categoryId));\r\n\r\nconst initialState: JoinCommunityState = {\r\n  userInfo: {\r\n    name: null,\r\n    avatar: null,\r\n  },\r\n  category: {\r\n    entities: [],\r\n    selectedCategory: null,\r\n    status: ResultState.Idle,\r\n  },\r\n  community: {\r\n    entities: [],\r\n    communitySelectedCategory: null,\r\n    selectedCommunityName: null,\r\n    status: ResultState.Idle,\r\n  },\r\n  skills: {\r\n    skillSelectedCategory: null,\r\n    entities: [],\r\n    selectedSkills: [],\r\n    status: ResultState.Idle,\r\n  },\r\n};\r\n\r\nexport const joinCommunitySlice = createSlice({\r\n  name: 'joinCommunity',\r\n  initialState,\r\n  reducers: {\r\n    updateName(state, action) {\r\n      state.userInfo.name = action.payload;\r\n    },\r\n    updateAvatarUrl(state, action) {\r\n      state.userInfo.avatar = action.payload;\r\n    },\r\n    selectCategory(state, action) {\r\n      state.category.selectedCategory = action.payload;\r\n    },\r\n    selectCommunity(state, action) {\r\n      state.community.selectedCommunityName = action.payload;\r\n    },\r\n    updateSkill(state, action) {\r\n      const { skill } = action.payload;\r\n      const index = state.skills.selectedSkills.findIndex((x) => x.skill === skill);\r\n      state.skills.selectedSkills.splice(index, 1, action.payload);\r\n    },\r\n    toggleSkill(state, action) {\r\n      const index = state.skills.selectedSkills.findIndex((x) => x.skill === action.payload);\r\n      if (index === -1) {\r\n        state.skills.selectedSkills = [\r\n          ...state.skills.selectedSkills,\r\n          {\r\n            skill: action.payload,\r\n            xp: 0,\r\n          },\r\n        ];\r\n      } else {\r\n        state.skills.selectedSkills.splice(index, 1);\r\n      }\r\n    },\r\n    resetJoinCommunityState: () => initialState,\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchCategories.pending, (state) => {\r\n        state.category.status = ResultState.Loading;\r\n      })\r\n      .addCase(fetchCategories.fulfilled, (state, action) => {\r\n        state.category.entities = action.payload as any[];\r\n        state.category.status = ResultState.Idle;\r\n      })\r\n      .addCase(fetchSkills.pending, (state) => {\r\n        state.skills.selectedSkills = [];\r\n        state.skills.status = ResultState.Loading;\r\n      })\r\n      .addCase(fetchSkills.fulfilled, (state, action) => {\r\n        state.skills.entities = action.payload as any[];\r\n        state.skills.skillSelectedCategory = state.category.selectedCategory;\r\n        state.skills.status = ResultState.Idle;\r\n      })\r\n      .addCase(fetchCommunities.pending, (state) => {\r\n        state.community.status = ResultState.Loading;\r\n      })\r\n      .addCase(fetchCommunities.fulfilled, (state, action) => {\r\n        state.community.entities = action.payload as any[];\r\n        state.community.communitySelectedCategory = state.category.selectedCategory;\r\n        state.community.status = ResultState.Idle;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { selectCategory, resetJoinCommunityState, toggleSkill, updateSkill, selectCommunity, updateAvatarUrl, updateName } =\r\n  joinCommunitySlice.actions;\r\n\r\nexport const getCommunity = createSelector(selectCommunity, (x1) => {\r\n  const { entities, selectedCommunityName } = x1.payload.joinCommunity.community;\r\n  return entities.find((e) => e.name === selectedCommunityName);\r\n});\r\n\r\nexport const getFormattedSkills = createSelector(updateSkill, toggleSkill, (x1): TextileBucketSkillsMetadata[] => {\r\n  const { selectedSkills } = x1.payload.joinCommunity.skills;\r\n  return selectedSkills.reduce((prev: TextileBucketSkillsMetadata[], curr: Skill) => {\r\n    return [\r\n      ...prev,\r\n      {\r\n        name: curr.skill,\r\n        value: curr.xp,\r\n      },\r\n    ];\r\n  }, []);\r\n});\r\n\r\nexport const getCredits = createSelector(updateSkill, toggleSkill, (x1): string => {\r\n  const { selectedSkills, entities } = x1.payload.joinCommunity.skills;\r\n  const totalSkillCredits = selectedSkills.reduce((prev: number, curr: Skill) => {\r\n    const entity = entities.find(({ skills }) => skills.some((s) => s === curr.skill));\r\n    prev += (entity?.credits || 0) * curr.xp;\r\n    return prev;\r\n  }, 0);\r\n  return (totalSkillCredits + 2000).toString();\r\n});\r\n\r\nexport const getSkillCredits = createSelector(updateSkill, toggleSkill, (x1): string => {\r\n  const { selectedSkills, entities } = x1.payload.joinCommunity.skills;\r\n  return selectedSkills.reduce((prev: any[], curr: Skill) => {\r\n    const entity = entities.find(({ skills }) => skills.some((s) => s === curr.skill));\r\n    prev = [\r\n      ...prev,\r\n      {\r\n        percentage: (curr.xp / 10) * 100,\r\n        name: curr.skill,\r\n        credits: (entity?.credits || 0) * curr.xp,\r\n      },\r\n    ];\r\n    return prev;\r\n  }, []);\r\n});\r\n\r\nexport default joinCommunitySlice.reducer;\r\n","import { AnyAction, configureStore, ThunkDispatch } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger';\r\n\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport storage from 'redux-persist/lib/storage';\r\nimport autoMergeLevel2 from 'redux-persist/lib/stateReconciler/autoMergeLevel2';\r\nimport { combineReducers } from 'redux';\r\nimport { persistReducer, FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER, PersistConfig } from 'redux-persist';\r\nimport authSliceReducer from '../auth/auth.reducer';\r\nimport joinCommunitySliceReducer from '../pages/community/join/store/join.reducer';\r\n\r\nconst persistConfig: PersistConfig<any> = {\r\n  key: 'appState',\r\n  storage,\r\n  stateReconciler: autoMergeLevel2,\r\n};\r\n\r\nconst reducers = combineReducers({\r\n  joinCommunity: joinCommunitySliceReducer,\r\n  auth: authSliceReducer,\r\n});\r\n\r\nconst persistedReducer = persistReducer(persistConfig, reducers);\r\n\r\nexport const store = configureStore({\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n      },\r\n    }).concat(logger),\r\n  reducer: persistedReducer,\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = ThunkDispatch<RootState, any, AnyAction>;\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\n\r\nexport default store;\r\n","import { Redirect, Route } from 'react-router-dom';\nimport { DitoLogoSvg } from 'sw-web-shared';\nimport './community.scss';\n\nfunction Topic() {\n  return <DitoLogoSvg width=\"50\" height=\"50\" />;\n}\n\nconst Community = (props) => {\n  const { path } = props.match;\n  return (\n    <>\n      <Redirect from=\"/community\" to={`${path}/skillwallet`} />\n      <Route component={Topic} path={`${path}/skillwallet`} {...props} />\n      <Route component={Topic} path={`${path}/dTown-hall`} {...props} />\n      <Route component={Topic} path={`${path}/notifications`} {...props} />\n      <Route component={Topic} path={`${path}/settings`} {...props} />\n    </>\n  );\n};\n\nexport default Community;\n","import { ResultState } from '@dito-store/status';\nimport { Box, CircularProgress, ThemeOptions } from '@mui/material';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport { SwDivider, SwScrollbar } from 'sw-web-shared';\nimport './join-base.scss';\n\nconst JoinBaseLayout = ({\n  left,\n  right,\n  prevBtn,\n  nextBtn,\n  status,\n  className,\n}: {\n  left: JSX.Element;\n  right: JSX.Element;\n  prevBtn: JSX.Element;\n  nextBtn: JSX.Element;\n  className: string;\n  status: ResultState;\n}) => {\n  const largeDevice = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.up('lg'));\n\n  return (\n    <div className={`sw-join-base-container ${className}`}>\n      <Box\n        sx={{\n          p: 0,\n          m: 0,\n          gridGap: '60px',\n        }}\n        className=\"sw-box\"\n      >\n        {left}\n      </Box>\n      <SwDivider orientation={largeDevice ? 'vertical' : 'horizontal'} />\n      <Box\n        sx={{\n          p: 0,\n          m: 0,\n          gridGap: '20px',\n        }}\n        className=\"sw-box\"\n      >\n        <Box sx={{ width: largeDevice ? '90% !important' : '100%' }} className=\"sw-box-right-inner\">\n          {status === ResultState.Loading ? (\n            <CircularProgress sx={{ color: 'background.paper' }} />\n          ) : !largeDevice ? (\n            right\n          ) : (\n            <SwScrollbar>{right}</SwScrollbar>\n          )}\n        </Box>\n        <Box\n          sx={{ width: largeDevice ? 'calc(90% - 12px) !important' : '100%', boxShadow: !largeDevice ? 2 : 0 }}\n          className=\"sw-box-actions\"\n        >\n          <div className=\"prev-step\">{prevBtn}</div>\n          <div className=\"next-step\">{nextBtn}</div>\n        </Box>\n      </Box>\n    </div>\n  );\n};\n\nexport default JoinBaseLayout;\n","import HelpOutlineIcon from '@mui/icons-material/HelpOutline';\r\nimport NavigateBeforeIcon from '@mui/icons-material/NavigateBefore';\r\nimport NavigateNextIcon from '@mui/icons-material/NavigateNext';\r\nimport { Box, List, ListItem, ThemeOptions, Typography } from '@mui/material';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { DitoLogoSvg, SwButton, SwQuote } from 'sw-web-shared';\r\n\r\nimport { RootState } from '@dito-store/store';\r\n\r\nimport { ResultState } from '@dito-store/status';\r\nimport JoinBaseLayout from '../base/join-base';\r\nimport { fetchCategories, selectCategory } from '../store/join.reducer';\r\n\r\nimport './categories.scss';\r\n\r\nconst Categories = () => {\r\n  const largeDevice = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.up('lg'));\r\n  const small = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.down('md'));\r\n\r\n  const dispatch = useDispatch();\r\n  const { entities, status, selectedCategory } = useSelector((state: RootState) => state.joinCommunity.category);\r\n  const userInfo = useSelector((state: RootState) => state.joinCommunity.userInfo);\r\n\r\n  useEffect(() => {\r\n    if (!entities.length && userInfo?.name && userInfo?.avatar) {\r\n      dispatch(fetchCategories());\r\n    }\r\n  }, [dispatch, entities, userInfo]);\r\n\r\n  return (\r\n    <JoinBaseLayout\r\n      status={status}\r\n      className=\"sw-categories-container\"\r\n      left={\r\n        <>\r\n          <Box className=\"sw-box-logo\">\r\n            <DitoLogoSvg width={largeDevice ? '100px' : '80px'} />\r\n          </Box>\r\n\r\n          <SwQuote mobile={small} mobileStartText={<p>Have you ever thought...</p>}>\r\n            <>\r\n              <p>\r\n                Have you ever thought, <br />\r\n                \"I would like to contribute, but ...\"\r\n              </p>\r\n              <p className=\"mt-4 mb-4\">Distributed Town (DiTo) lets you create or join a community with one click.</p>\r\n\r\n              <p>Just select what you are best at - and we will match with the best communities that need you the most.</p>\r\n            </>\r\n          </SwQuote>\r\n        </>\r\n      }\r\n      right={\r\n        <div className=\"sw-category-wrapper\">\r\n          <Typography sx={{ color: 'background.paper', textAlign: 'center', pb: 2 }} component=\"div\" variant=\"h6\">\r\n            Pick a category\r\n          </Typography>\r\n\r\n          {userInfo?.name && userInfo?.avatar ? (\r\n            <List\r\n              sx={{\r\n                display: 'grid',\r\n                width: '100%',\r\n                gridGap: '15px',\r\n                padding: 0,\r\n                gridTemplateColumns: 'repeat(auto-fit, minmax(175px, 1fr))',\r\n                gridAutoRows: 'minmax(60px, auto)',\r\n              }}\r\n            >\r\n              {entities.map(({ id, name }) => (\r\n                <ListItem key={id} sx={{ height: '45px' }} disablePadding>\r\n                  <SwButton\r\n                    sx={{\r\n                      height: '100%',\r\n                      whiteSpace: 'nowrap',\r\n                      overflow: 'hidden',\r\n                      textOverflow: 'ellipsis',\r\n                      width: '100%',\r\n                    }}\r\n                    onClick={() => dispatch(selectCategory(name))}\r\n                    className={selectedCategory === name ? 'active-link' : ''}\r\n                    startIcon={<HelpOutlineIcon />}\r\n                    label={name}\r\n                  />\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          ) : (\r\n            <Typography\r\n              className=\"no-item-selected\"\r\n              sx={{ color: 'background.paper', textAlign: 'center', pb: 2 }}\r\n              component=\"div\"\r\n              variant=\"h6\"\r\n            >\r\n              Personal information was not provided, go back to provide it!\r\n            </Typography>\r\n          )}\r\n        </div>\r\n      }\r\n      prevBtn={<SwButton startIcon={<NavigateBeforeIcon />} component={Link} to=\"/join-community/user-info\" label=\"Prev\" />}\r\n      nextBtn={\r\n        <SwButton\r\n          disabled={selectedCategory === null || status === ResultState.Loading || !(userInfo?.name && userInfo?.avatar)}\r\n          endIcon={<NavigateNextIcon />}\r\n          component={Link}\r\n          to=\"/join-community/skills\"\r\n          label={small ? 'Next' : 'Next: Pick your skills'}\r\n        />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default Categories;\r\n","import {\n  Card,\n  CardContent,\n  Typography,\n  List,\n  ListItem,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Badge,\n  Tooltip,\n  Stack,\n  Slider,\n  Box,\n} from '@mui/material';\nimport { SwButton } from 'sw-web-shared';\nimport HelpOutlineIcon from '@mui/icons-material/HelpOutline';\nimport './skill-card.scss';\n\nfunction SkillCard({ category, skills, credits, selectedSkills, toggleSkill, updateSkill }) {\n  return (\n    <Card className=\"sw-skill-card\" sx={{ display: 'flex' }}>\n      <Box sx={{ display: 'flex', flexDirection: 'column', width: '100%' }}>\n        <CardContent sx={{ flex: '1 0 auto' }}>\n          <Typography component=\"div\" variant=\"h6\">\n            {category} <small>({credits} Credits)</small>\n          </Typography>\n        </CardContent>\n        <Box\n          sx={{\n            display: 'flex',\n            alignItems: 'center',\n            pl: '16px',\n            pr: '16px',\n          }}\n        >\n          <List className=\"sw-skill-list\">\n            {skills.map((skill: string, index: number) => {\n              const currentSkill = selectedSkills.find((x) => x.skill === skill);\n              return (\n                <ListItem key={index} sx={{ minHeight: '45px', alignItems: 'flex-start' }} disablePadding>\n                  <Accordion disableGutters elevation={0} square sx={{ p: 0, m: 0, width: '100%' }} expanded={!!currentSkill}>\n                    <AccordionSummary>\n                      <SwButton\n                        label={skill}\n                        sx={{\n                          height: '100%',\n                          whiteSpace: 'nowrap',\n                          overflow: 'hidden',\n                          textOverflow: 'ellipsis',\n                          width: '100%',\n                        }}\n                        disabled={selectedSkills.length === 3 && !currentSkill}\n                        className={currentSkill ? 'active-link' : ''}\n                        onClick={() => toggleSkill(skill)}\n                      />\n                    </AccordionSummary>\n                    <AccordionDetails sx={{ padding: '16px' }}>\n                      <Typography color=\"primary.main\" component=\"div\" variant=\"subtitle1\" align=\"center\">\n                        <Badge\n                          sx={{\n                            padding: '0 8px',\n                          }}\n                          badgeContent={\n                            <Tooltip title=\"Tell your community about the Experience you have.\" arrow>\n                              <HelpOutlineIcon\n                                sx={{\n                                  fontSize: '1.2rem',\n                                  position: 'absolute',\n                                }}\n                              />\n                            </Tooltip>\n                          }\n                        >\n                          Your XP Level\n                        </Badge>\n                      </Typography>\n\n                      <Stack spacing={2} direction=\"row\" sx={{ mb: 1 }} alignItems=\"center\">\n                        <Typography color=\"primary.main\" component=\"div\" variant=\"subtitle2\">\n                          1\n                        </Typography>\n                        <Slider\n                          key={`slider-${currentSkill?.xp}`}\n                          valueLabelDisplay=\"auto\"\n                          step={1}\n                          marks\n                          min={1}\n                          max={10}\n                          defaultValue={currentSkill?.xp}\n                          onChangeCommitted={(_, value: number) => {\n                            updateSkill({\n                              xp: value,\n                              skill,\n                            });\n                          }}\n                          sx={{\n                            '& .MuiSlider-thumb': {\n                              borderRadius: '0px',\n                            },\n                          }}\n                        />\n                        <Typography color=\"primary.main\" component=\"div\" variant=\"subtitle2\">\n                          10\n                        </Typography>\n                      </Stack>\n                    </AccordionDetails>\n                  </Accordion>\n                </ListItem>\n              );\n            })}\n          </List>\n        </Box>\n      </Box>\n    </Card>\n  );\n}\n\nexport default SkillCard;\n","import NavigateBeforeIcon from '@mui/icons-material/NavigateBefore';\nimport NavigateNextIcon from '@mui/icons-material/NavigateNext';\nimport { Box, ThemeOptions, Typography } from '@mui/material';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { DitoLogoSvg, SwButton, SwQuote } from 'sw-web-shared';\n\nimport { RootState } from '@dito-store/store';\n\nimport { ResultState } from '@dito-store/status';\nimport JoinBaseLayout from '../base/join-base';\nimport { fetchSkills, toggleSkill, updateSkill } from '../store/join.reducer';\nimport './skills.scss';\nimport SkillCard from './skill-card';\n\nconst Skills = () => {\n  const dispatch = useDispatch();\n  const largeDevice = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.up('lg'));\n  const small = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.down('md'));\n  const { entities, status, selectedSkills, skillSelectedCategory } = useSelector((state: RootState) => state.joinCommunity.skills);\n  const { selectedCategory } = useSelector((state: RootState) => state.joinCommunity.category);\n\n  useEffect(() => {\n    if (selectedCategory && selectedCategory !== skillSelectedCategory) {\n      dispatch(fetchSkills(selectedCategory));\n    }\n  }, [dispatch, skillSelectedCategory, selectedCategory]);\n\n  return (\n    <JoinBaseLayout\n      status={status}\n      className=\"sw-skill-container\"\n      left={\n        <>\n          <Box className=\"sw-box-logo\">\n            <DitoLogoSvg width={largeDevice ? '100px' : '80px'} />\n          </Box>\n          <SwQuote mobile={small} mobileStartText={<p>Have you ever thought...</p>}>\n            <>\n              <p>\n                Have you ever thought, <br />\n                \"I would like to contribute, but ...\"\n              </p>\n              <p className=\"mt-4 mb-4\">Distributed Town (DiTo) lets you create or join a community with one click.</p>\n\n              <p>Just select what you are best at - and we will match with the best communities that need you the most.</p>\n            </>\n          </SwQuote>\n        </>\n      }\n      right={\n        <div className=\"sw-skill-wrapper\">\n          <Typography sx={{ color: 'background.paper', textAlign: 'center', pb: 2 }} component=\"div\" variant=\"h6\">\n            Pick your skills (1-to-3) that you want to offer, & recieve the Credits you deserve!\n          </Typography>\n          {skillSelectedCategory ? (\n            !entities?.length ? (\n              <Typography sx={{ color: 'background.paper', textAlign: 'center', pb: 2, mt: 4 }} component=\"div\" variant=\"h6\">\n                We could not find any skills for {skillSelectedCategory} category, please go back and select a different category!\n              </Typography>\n            ) : (\n              entities.map(({ credits, skills, subCat }) => (\n                <SkillCard\n                  key={subCat}\n                  selectedSkills={selectedSkills}\n                  category={subCat}\n                  credits={credits}\n                  skills={skills}\n                  updateSkill={(skill) => dispatch(updateSkill(skill))}\n                  toggleSkill={(skill) => dispatch(toggleSkill(skill))}\n                />\n              ))\n            )\n          ) : (\n            <Typography\n              className=\"no-item-selected\"\n              sx={{ color: 'background.paper', textAlign: 'center', pb: 2 }}\n              component=\"div\"\n              variant=\"h6\"\n            >\n              No category was selected, go back to select one!\n            </Typography>\n          )}\n        </div>\n      }\n      prevBtn={<SwButton startIcon={<NavigateBeforeIcon />} component={Link} to=\"/join-community/categories\" label=\"Prev\" />}\n      nextBtn={\n        <SwButton\n          disabled={selectedSkills.length === 0 || status === ResultState.Loading}\n          endIcon={<NavigateNextIcon />}\n          component={Link}\n          to=\"/join-community/communities\"\n          label={small ? 'Next' : 'Next: Join your community'}\n        />\n      }\n    />\n  );\n};\n\nexport default Skills;\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { ethers } from 'ethers';\r\nimport { toWei } from 'web3-utils';\r\nimport { CommunityContract, CommunityContractError, CommunityContractResponse, NonceActions } from './model';\r\n\r\nconst skillWalletAbi = [\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '_linkToken',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'address',\r\n        name: '_oracle',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'nonpayable',\r\n    type: 'constructor',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'owner',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'approved',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'Approval',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'owner',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'operator',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'bool',\r\n        name: 'approved',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    name: 'ApprovalForAll',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'bytes32',\r\n        name: 'id',\r\n        type: 'bytes32',\r\n      },\r\n    ],\r\n    name: 'ChainlinkCancelled',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'bytes32',\r\n        name: 'id',\r\n        type: 'bytes32',\r\n      },\r\n    ],\r\n    name: 'ChainlinkFulfilled',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'bytes32',\r\n        name: 'id',\r\n        type: 'bytes32',\r\n      },\r\n    ],\r\n    name: 'ChainlinkRequested',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'previousOwner',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'newOwner',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'OwnershipTransferred',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'PubKeyAddedToSkillWallet',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'SkillWalletActivated',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'address',\r\n        name: 'owner',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'SkillWalletClaimed',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'address',\r\n        name: 'newCommunity',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'SkillWalletCommunityChanged',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'skillWalletOwner',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'community',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'SkillWalletCreated',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'from',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'to',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'Transfer',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: 'nonce',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: 'action',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'ValidationFailed',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: 'nonce',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: 'action',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'ValidationPassed',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: false,\r\n        internalType: 'bytes32',\r\n        name: 'requestId',\r\n        type: 'bytes32',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'address',\r\n        name: 'caller',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'ValidationRequestIdSent',\r\n    type: 'event',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'activateSkillWallet',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        internalType: 'string',\r\n        name: 'pubKey',\r\n        type: 'string',\r\n      },\r\n    ],\r\n    name: 'addPubKeyToSkillWallet',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'to',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'approve',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'owner',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'balanceOf',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'baseURI',\r\n    outputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: '',\r\n        type: 'string',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'claim',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'skillWalletOwner',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'string',\r\n        name: 'url',\r\n        type: 'string',\r\n      },\r\n      {\r\n        internalType: 'bool',\r\n        name: 'isClaimable',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    name: 'create',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'getActiveCommunity',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'community',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'getApproved',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'skillWalletOwner',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'getClaimableSkillWalletId',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'getCommunityHistory',\r\n    outputs: [\r\n      {\r\n        internalType: 'address[]',\r\n        name: 'communities',\r\n        type: 'address[]',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'skillWalletOwner',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'getSkillWalletIdByOwner',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'getTotalSkillWalletsRegistered',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'owner',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'address',\r\n        name: 'operator',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'isApprovedForAll',\r\n    outputs: [\r\n      {\r\n        internalType: 'bool',\r\n        name: '',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'bytes32',\r\n        name: 'requestId',\r\n        type: 'bytes32',\r\n      },\r\n    ],\r\n    name: 'isRequestIdValid',\r\n    outputs: [\r\n      {\r\n        internalType: 'bool',\r\n        name: '',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'skillWalletId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'isSkillWalletActivated',\r\n    outputs: [\r\n      {\r\n        internalType: 'bool',\r\n        name: 'status',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'skillWalletOwner',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'isSkillWalletClaimable',\r\n    outputs: [\r\n      {\r\n        internalType: 'bool',\r\n        name: 'status',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'skillWalletOwner',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'isSkillWalletRegistered',\r\n    outputs: [\r\n      {\r\n        internalType: 'bool',\r\n        name: 'status',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'name',\r\n    outputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: '',\r\n        type: 'string',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'operator',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'address',\r\n        name: 'from',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        internalType: 'bytes',\r\n        name: 'data',\r\n        type: 'bytes',\r\n      },\r\n    ],\r\n    name: 'onERC721Received',\r\n    outputs: [\r\n      {\r\n        internalType: 'bytes4',\r\n        name: '',\r\n        type: 'bytes4',\r\n      },\r\n    ],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'owner',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'ownerOf',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'renounceOwnership',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'from',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'address',\r\n        name: 'to',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'safeTransferFrom',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'from',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'address',\r\n        name: 'to',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        internalType: 'bytes',\r\n        name: '_data',\r\n        type: 'bytes',\r\n      },\r\n    ],\r\n    name: 'safeTransferFrom',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'operator',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'bool',\r\n        name: 'approved',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    name: 'setApprovalForAll',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'skillWalletClaimers',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'skillWalletToPubKey',\r\n    outputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: '',\r\n        type: 'string',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'bytes4',\r\n        name: 'interfaceId',\r\n        type: 'bytes4',\r\n      },\r\n    ],\r\n    name: 'supportsInterface',\r\n    outputs: [\r\n      {\r\n        internalType: 'bool',\r\n        name: '',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'symbol',\r\n    outputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: '',\r\n        type: 'string',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'index',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'tokenByIndex',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'owner',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'index',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'tokenOfOwnerByIndex',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'tokenURI',\r\n    outputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: '',\r\n        type: 'string',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'totalSupply',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'from',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'address',\r\n        name: 'to',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'transferFrom',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'newOwner',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'transferOwnership',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: 'signature',\r\n        type: 'string',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'tokenId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'action',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        internalType: 'string[]',\r\n        name: 'stringParams',\r\n        type: 'string[]',\r\n      },\r\n      {\r\n        internalType: 'uint256[]',\r\n        name: 'intParams',\r\n        type: 'uint256[]',\r\n      },\r\n      {\r\n        internalType: 'address[]',\r\n        name: 'addressParams',\r\n        type: 'address[]',\r\n      },\r\n    ],\r\n    name: 'validate',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'bytes32',\r\n        name: '_requestId',\r\n        type: 'bytes32',\r\n      },\r\n      {\r\n        internalType: 'bool',\r\n        name: '_isValid',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    name: 'validationCallback',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n];\r\nconst communityAbi = [\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: '_url',\r\n        type: 'string',\r\n      },\r\n      {\r\n        internalType: 'address',\r\n        name: '_addrProvider',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: '_totalMembersAllowed',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        internalType: 'bool',\r\n        name: '_claimableSkillWallets',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    stateMutability: 'nonpayable',\r\n    type: 'constructor',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: '_member',\r\n        type: 'address',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: '_skillWalletTokenId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        indexed: false,\r\n        internalType: 'uint256',\r\n        name: '_transferredTokens',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'MemberAdded',\r\n    type: 'event',\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: '_member',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'MemberLeft',\r\n    type: 'event',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'activeMembersCount',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint16',\r\n        name: '',\r\n        type: 'uint16',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'projectId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'addProjectId',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'member',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'balanceOf',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'ditoCreditsAddr',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'ditoCreditsHolder',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'getMemberAddresses',\r\n    outputs: [\r\n      {\r\n        internalType: 'address[]',\r\n        name: '',\r\n        type: 'address[]',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'getMembers',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256[]',\r\n        name: '',\r\n        type: 'uint256[]',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'projectId',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'getProjectTreasuryAddress',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'getProjects',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256[]',\r\n        name: '',\r\n        type: 'uint256[]',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'getSkillWalletAddress',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'getTemplate',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'getTokenId',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'getTreasuryBalance',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'gigsAddr',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'isMember',\r\n    outputs: [\r\n      {\r\n        internalType: 'bool',\r\n        name: '',\r\n        type: 'bool',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'skillWalletTokenId',\r\n        type: 'uint256',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'credits',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'join',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: 'uri',\r\n        type: 'string',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'credits',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'joinNewMember',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'memberAddress',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    name: 'leave',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'memberAddresses',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'metadataUri',\r\n    outputs: [\r\n      {\r\n        internalType: 'string',\r\n        name: '',\r\n        type: 'string',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'scarcityScore',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'skillWalletIds',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'tokenId',\r\n    outputs: [\r\n      {\r\n        internalType: 'uint256',\r\n        name: '',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'to',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'amount',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'transferCredits',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: 'from',\r\n        type: 'address',\r\n      },\r\n      {\r\n        internalType: 'uint256',\r\n        name: 'amount',\r\n        type: 'uint256',\r\n      },\r\n    ],\r\n    name: 'transferToCommunity',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'treasuryAddr',\r\n    outputs: [\r\n      {\r\n        internalType: 'address',\r\n        name: '',\r\n        type: 'address',\r\n      },\r\n    ],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n];\r\n\r\nfunction NoEventException(value: CommunityContractError) {\r\n  this.value = value;\r\n  this.message = 'No event found!';\r\n  // eslint-disable-next-line func-names\r\n  this.toString = function () {\r\n    return this.value + this.message;\r\n  };\r\n}\r\n\r\nexport const getSkillWalletDescription = async () => {\r\n  return 'Universal, self-sovereign IDs tied to skills & contributions rather than personal data.';\r\n};\r\n\r\nexport const getSkillWalletAddress = async (communityAddress = null) => {\r\n  return '0x1e79bE396CE37F7eB43aF0Ef0ffb3124F3fD23eF';\r\n};\r\n\r\nexport const claimCommunityMembershipContract = async (communityAddress: string): Promise<string> => {\r\n  const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n  const signer = provider.getSigner();\r\n  const skillWalletAddress = await getSkillWalletAddress(communityAddress);\r\n  const contract = new ethers.Contract(skillWalletAddress, skillWalletAbi, signer);\r\n  const claimTx = await contract.claim();\r\n  const claimTransactionResult = await claimTx.wait();\r\n  const { events } = claimTransactionResult;\r\n  const claimedEvent = events.find((e) => e.event === 'SkillWalletClaimed');\r\n\r\n  if (!claimedEvent) {\r\n    throw new NoEventException({\r\n      code: -32603,\r\n      message: 'Internal JSON-RPC error.',\r\n      data: {\r\n        code: 3,\r\n        data: '',\r\n        message: 'SkillWallet:ClaimEventMissing',\r\n      },\r\n    });\r\n  }\r\n\r\n  return claimedEvent.args;\r\n};\r\n\r\nexport const getTokenIdContract = async (communityAddress: string): Promise<string> => {\r\n  const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n  const signer = provider.getSigner();\r\n  const skillwalletAddress = await getSkillWalletAddress(communityAddress);\r\n  const contract = new ethers.Contract(skillwalletAddress, skillWalletAbi, signer);\r\n  const isRegistered = await contract.isSkillWalletRegistered(window.ethereum.selectedAddress);\r\n\r\n  if (isRegistered) {\r\n    const tokenId = await contract.getSkillWalletIdByOwner(window.ethereum.selectedAddress);\r\n    return tokenId?.toString();\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const executeCommunityContract = async ({\r\n  communityAddress,\r\n  url,\r\n  credits,\r\n}: CommunityContract): Promise<CommunityContractResponse> => {\r\n  const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n  const signer = provider.getSigner();\r\n\r\n  const contract = new ethers.Contract(communityAddress, communityAbi, signer);\r\n  const createTx = await contract.joinNewMember(url, toWei(credits.toString()));\r\n  const communityTransactionResult = await createTx.wait();\r\n  const { events } = communityTransactionResult;\r\n  const memberJoinedEvent = events.find(({ event }) => event === 'MemberAdded');\r\n\r\n  if (!memberJoinedEvent) {\r\n    throw new NoEventException({\r\n      code: -32603,\r\n      message: 'Internal JSON-RPC error.',\r\n      data: {\r\n        code: 3,\r\n        data: '',\r\n        message: 'SkillWallet:MemberEventMissing',\r\n      },\r\n    });\r\n  }\r\n\r\n  const [userAddress, tokenId, communityCredits] = memberJoinedEvent.args;\r\n  return {\r\n    userAddress,\r\n    tokenId: tokenId?.toString(),\r\n    credits: communityCredits,\r\n  };\r\n};\r\n\r\nexport const hasPendingAuthentication = async (address: string): Promise<{ hasPendingAuth: boolean }> => {\r\n  return fetch(`${process.env.REACT_APP_PUBLIC_SKILL_WALLET_API_URL}/api/skillWallet/hasPendingAuth?address=${address}`, {\r\n    method: 'GET',\r\n  }).then((response) => response.json());\r\n};\r\n\r\nexport const generateNonce = async (action: NonceActions, tokenId: string): Promise<string> => {\r\n  try {\r\n    const response = await fetch(\r\n      `${process.env.REACT_APP_PUBLIC_SKILL_WALLET_API_URL}/api/skillWallet/${tokenId}/nonces?action=${action}`,\r\n      {\r\n        method: 'POST',\r\n      }\r\n    );\r\n    const nonce = await response.json();\r\n    return nonce.nonce;\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n};\r\n","/* eslint-disable no-shadow */\r\n\r\nexport enum JoinSkillWalletErrors {\r\n  NoFreeSpots = 'NoFreeSpots',\r\n  AlreadyMember = 'AlreadyMember',\r\n  SkillWalletNotActivated = 'SkillWalletNotActivated',\r\n  SkillWalletNotClaimed = 'SkillWalletNotClaimed',\r\n  Retry = 'Retry',\r\n}\r\n\r\nexport enum EhereumNetworkErrors {\r\n  Retry = 'Retry',\r\n}\r\n\r\nexport enum TextileStorageErrors {\r\n  Retry = 'Retry',\r\n}\r\n\r\nexport enum SkillWalletNonceErrors {\r\n  Retry = 'Retry',\r\n}\r\n\r\nexport enum ClaimSkillWalletErrors {\r\n  AlreadyClaimed = 'AlreadyClaimed',\r\n  SkillWalletNotCreated = 'SkillWalletNotCreated',\r\n  Retry = 'Retry',\r\n}\r\n\r\nexport enum SkillWalletAuthenticationErrors {\r\n  Retry = 'Retry',\r\n}\r\nexport interface Category {\r\n  id: number;\r\n  name: string;\r\n  icon?: any;\r\n}\r\n\r\nexport interface SkillCategory {\r\n  credits: number;\r\n  skills: string[];\r\n  subCat: string;\r\n}\r\n\r\nexport interface CommunityCategory {\r\n  name: string;\r\n  members: number;\r\n  scarcityScore: number;\r\n  address: string;\r\n  description: string;\r\n  totalMembersAllowed: number;\r\n  image: string;\r\n}\r\n","import { Card, CardContent, Typography, Box, Avatar, CardHeader, CardActionArea, ThemeOptions, useMediaQuery } from '@mui/material';\nimport { CommunityCategory } from '../store/model';\nimport './community-card.scss';\n\nfunction CommunityCard({\n  community,\n  selectedCommunityName,\n  onSelect,\n}: {\n  community: CommunityCategory;\n  selectedCommunityName: string;\n  onSelect: (communityName: string) => any;\n}) {\n  const inactive = community.members >= community.totalMembersAllowed;\n  const small = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.down('sm'));\n  return (\n    <Card\n      onClick={() => !inactive && onSelect(community.name)}\n      className={`sw-community-card ${selectedCommunityName === community.name ? 'active' : ''} ${inactive ? 'inactive' : ''}`}\n    >\n      <CardActionArea disabled={inactive}>\n        <CardContent sx={{ display: 'flex' }}>\n          <Box sx={{ flex: '1' }}>\n            <CardHeader\n              sx={{\n                boxShadow: 1,\n                bgcolor: inactive ? 'secondary.main' : 'white',\n                py: '8px',\n              }}\n              avatar={<Avatar sx={{ width: 50, height: 50 }} src={community.image} />}\n              title={\n                <Typography variant={small ? 'h6' : 'h5'} color=\"primary.main\">\n                  {community.name}\n                </Typography>\n              }\n              subheader={\n                <div className=\"car-subtitle\">\n                  <Typography variant=\"body1\" color=\"text.secondary\">\n                    {`Members: ${community.members}`}\n                  </Typography>\n                  <Typography sx={{ px: 1 }} variant=\"body1\" color=\"text.secondary\">\n                    |\n                  </Typography>\n                  <Typography variant=\"body1\" color=\"text.secondary\">\n                    {`Scarcity score: ${community.scarcityScore}`}\n                  </Typography>\n                </div>\n              }\n            />\n            <Typography className=\"card-description\" sx={{ pb: 2, pt: 2 }} variant=\"body2\">\n              {community.description}\n            </Typography>\n          </Box>\n\n          <Box className=\"can-accept-in\" sx={{ width: '170px' }}>\n            <Typography sx={{ pb: 2, pt: 2 }} variant=\"body2\">\n              Accepting new diTizens?\n            </Typography>\n            <div className={`toggle-circle ${inactive ? 'not-accepting' : 'accepting'}`}>{inactive ? 'No' : 'Yes'}</div>\n          </Box>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n}\n\nexport default CommunityCard;\n","export interface TextileBucketSkillsMetadata {\r\n  name: string; // skillname\r\n  value: number; // xp\r\n}\r\n\r\nexport interface TextileBucketMetadata {\r\n  name: string;\r\n  description: string;\r\n  image: string;\r\n  properties: {\r\n    username: string;\r\n    skills: TextileBucketSkillsMetadata[];\r\n  };\r\n}\r\n\r\nexport interface CommunityContract {\r\n  communityAddress: string;\r\n  url: string;\r\n  credits: string;\r\n}\r\n\r\nexport interface CommunityContractError {\r\n  code: number;\r\n  message: string;\r\n  data: {\r\n    code: number;\r\n    data: any;\r\n    message: string;\r\n  };\r\n}\r\n\r\nexport interface CommunityContractResponse {\r\n  userAddress: string;\r\n  tokenId: string;\r\n  credits: number;\r\n}\r\n\r\n// eslint-disable-next-line no-shadow\r\nexport enum NonceActions {\r\n  Activate,\r\n  Login,\r\n  CreateGig,\r\n  TakeGig,\r\n  SubmitGig,\r\n  CompleteGig,\r\n}\r\n","export const ParseSWErrorMessage = (error: string) => {\r\n  if (!error) {\r\n    return error;\r\n  }\r\n\r\n  if (typeof error !== 'string') {\r\n    throw new Error('SW error message is not a string!');\r\n  }\r\n\r\n  const [, skillWalletMsg] = error.split('execution reverted:');\r\n  const [, message] = (skillWalletMsg || '').split('SkillWallet:');\r\n  return (message || skillWalletMsg || 'Unknown error').trim();\r\n};\r\n","const timeout = (prom: Promise<any>, time: number) => Promise.race([prom, new Promise((_r, rej) => setTimeout(rej, time))]);\r\n\r\nexport const connectToEthereum = async (): Promise<boolean> => {\r\n  if (!window.ethereum.selectedAddress) {\r\n    try {\r\n      await timeout(window.ethereum.request({ method: 'eth_requestAccounts' }), 20000);\r\n      return true;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n};\r\n\r\nexport const switchToEtheremNetwork = async (): Promise<boolean> => {\r\n  try {\r\n    await window.ethereum.request({\r\n      method: 'wallet_switchEthereumChain',\r\n      params: [{ chainId: '0x13881' }],\r\n    });\r\n  } catch (switchError) {\r\n    if (switchError.code === 4902) {\r\n      try {\r\n        await window.ethereum.request({\r\n          method: 'wallet_addEthereumChain',\r\n          params: [\r\n            {\r\n              chainId: '0x13881', // A 0x-prefixed hexadecimal string\r\n              chainName: 'Mumbai',\r\n              nativeCurrency: {\r\n                name: 'Matic',\r\n                symbol: 'MATIC',\r\n                decimals: 18,\r\n              },\r\n              rpcUrls: ['https://matic-mumbai.chainstacklabs.com', 'https://rpc-mumbai.matic.today'],\r\n              blockExplorerUrls: ['https://mumbai.polygonscan.com/'],\r\n            },\r\n          ],\r\n        });\r\n      } catch (error) {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n};\r\n","/* eslint-disable no-await-in-loop */\r\nconst wait = (ms = 1000) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nexport const asyncPoll = async <T>(fn: () => Promise<T>, fnCondition: (result: T) => boolean, ms = 2000, maxRetries = 10) => {\r\n  let result = await fn();\r\n  while (fnCondition(result) && maxRetries > 0) {\r\n    await wait(ms);\r\n    result = await fn();\r\n    maxRetries = -maxRetries;\r\n  }\r\n  return result;\r\n};\r\n","import { NonceActions, TextileBucketMetadata } from '@dito-api/model';\r\nimport {\r\n  claimCommunityMembershipContract,\r\n  executeCommunityContract,\r\n  generateNonce,\r\n  getTokenIdContract,\r\n  hasPendingAuthentication,\r\n} from '@dito-api/skillwallet.api';\r\nimport { ParseSWErrorMessage } from '@dito-utils/parse-smart-contact-error';\r\nimport { Box, CircularProgress, Typography } from '@mui/material';\r\nimport { SwButton } from 'sw-web-shared';\r\nimport { QRCode } from 'react-qrcode-logo';\r\nimport { generateTextileBucketUrl } from '@dito-api/textile-bucket.api';\r\nimport { connectToEthereum, switchToEtheremNetwork } from '@dito-api/ethereum-network.api';\r\nimport { asyncPoll } from '@dito-utils/async-poller';\r\nimport {\r\n  ClaimSkillWalletErrors,\r\n  EhereumNetworkErrors,\r\n  JoinSkillWalletErrors,\r\n  SkillWalletAuthenticationErrors,\r\n  SkillWalletNonceErrors,\r\n  TextileStorageErrors,\r\n} from '../store/model';\r\n\r\nconst DialogLoadingMessage = ({ message, subtitle = null, onCancel }) => {\r\n  return (\r\n    <>\r\n      <div className=\"sw-join-dialog-content\">\r\n        <CircularProgress sx={{ color: 'text.primary' }} />\r\n        <Typography sx={{ textAlign: 'center', mt: 2 }} component=\"div\" variant=\"h6\">\r\n          {message}\r\n        </Typography>\r\n        <Typography sx={{ color: 'secondary.main', textAlign: 'center', mt: 2 }} component=\"div\" variant=\"body2\">\r\n          {subtitle}\r\n        </Typography>\r\n      </div>\r\n      <SwButton color=\"error\" onClick={onCancel} sx={{ mt: 4 }} label=\"Cancel\" />\r\n    </>\r\n  );\r\n};\r\n\r\nconst DialogErrorMessage = ({ message, subtitle = null, onCancel }) => {\r\n  return (\r\n    <>\r\n      <div className=\"sw-join-dialog-content\">\r\n        <Typography sx={{ textAlign: 'center', mt: 2 }} component=\"div\" variant=\"h6\">\r\n          {message}\r\n        </Typography>\r\n        <Typography sx={{ color: 'secondary.main', textAlign: 'center', mt: 2 }} component=\"div\" variant=\"body2\">\r\n          {subtitle}\r\n        </Typography>\r\n      </div>\r\n      <SwButton color=\"error\" onClick={onCancel} sx={{ mt: 4 }} label=\"Cancel\" />\r\n    </>\r\n  );\r\n};\r\n\r\nconst DialogAdditionalActionNeeded = ({ message, subtitle, actionLabel, handleAdditionalAction, onCancel }) => {\r\n  return (\r\n    <>\r\n      <div className=\"sw-join-dialog-content\">\r\n        <Typography sx={{ textAlign: 'center', mt: 2 }} component=\"div\" variant=\"h6\">\r\n          {message}\r\n        </Typography>\r\n        <Typography sx={{ color: 'secondary.main', textAlign: 'center', mt: 2 }} component=\"div\" variant=\"body2\">\r\n          {subtitle}\r\n        </Typography>\r\n        <SwButton color=\"primary\" onClick={handleAdditionalAction} sx={{ mt: 4, width: '200px', height: '45px' }} label={actionLabel} />\r\n      </div>\r\n      <SwButton color=\"error\" onClick={onCancel} sx={{ mt: 4 }} label=\"Cancel\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport const OnClaimMembershipHandlers = (\r\n  setDialogContent: (content: JSX.Element) => void,\r\n  handleClose: () => void,\r\n  handleAdditionalAction: (message: string) => void\r\n) => {\r\n  const onEthConnection = async () => {\r\n    setDialogContent(<DialogLoadingMessage message=\"Ensuring ethereum connection ...\" onCancel={handleClose} />);\r\n    const isConnected = await connectToEthereum();\r\n    if (!isConnected) {\r\n      setDialogContent(\r\n        <>\r\n          <DialogAdditionalActionNeeded\r\n            actionLabel=\"Retry\"\r\n            subtitle=\"If this problem repeats plase make sure your metamask is connected\"\r\n            message=\"We could not enable the ethereum network\"\r\n            handleAdditionalAction={() => handleAdditionalAction(EhereumNetworkErrors.Retry)}\r\n            onCancel={handleClose}\r\n          />\r\n        </>\r\n      );\r\n    }\r\n    return isConnected;\r\n  };\r\n\r\n  const onEthNetworkChange = async (isConnected: boolean) => {\r\n    if (!isConnected) {\r\n      return false;\r\n    }\r\n    setDialogContent(<DialogLoadingMessage message=\"Ensuring correct network ...\" onCancel={handleClose} />);\r\n    const isCorrectNetwork = await switchToEtheremNetwork();\r\n\r\n    if (!isCorrectNetwork) {\r\n      setDialogContent(\r\n        <>\r\n          <DialogAdditionalActionNeeded\r\n            actionLabel=\"Retry\"\r\n            subtitle={null}\r\n            message=\"We could not set the correct network, please set it manually and try again\"\r\n            handleAdditionalAction={() => handleAdditionalAction(EhereumNetworkErrors.Retry)}\r\n            onCancel={handleClose}\r\n          />\r\n        </>\r\n      );\r\n    }\r\n    return isCorrectNetwork;\r\n  };\r\n\r\n  const onTextileBucket = async (isCorrectNetwork: boolean, metadataJson: TextileBucketMetadata) => {\r\n    if (!isCorrectNetwork) {\r\n      return null;\r\n    }\r\n    setDialogContent(<DialogLoadingMessage message=\"Generating textile bucket url ...\" onCancel={handleClose} />);\r\n\r\n    try {\r\n      return await generateTextileBucketUrl(metadataJson);\r\n    } catch (error) {\r\n      setDialogContent(\r\n        <>\r\n          <DialogAdditionalActionNeeded\r\n            actionLabel=\"Retry\"\r\n            subtitle={null}\r\n            message=\"Unknown Error\"\r\n            handleAdditionalAction={() => handleAdditionalAction(TextileStorageErrors.Retry)}\r\n            onCancel={handleClose}\r\n          />\r\n        </>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const onJoinMembership = async (buckerUrl: string, communityAddress: string, credits: string) => {\r\n    if (!buckerUrl) {\r\n      return null;\r\n    }\r\n    try {\r\n      setDialogContent(\r\n        <DialogLoadingMessage\r\n          subtitle=\"This might take awhile, please be patient\"\r\n          message=\"Executing join membership smart contract ...\"\r\n          onCancel={handleClose}\r\n        />\r\n      );\r\n      return await executeCommunityContract({\r\n        url: buckerUrl,\r\n        credits,\r\n        communityAddress,\r\n      });\r\n    } catch (error) {\r\n      const message = ParseSWErrorMessage(error.data.message as string);\r\n      // const message = 'There is SkillWallet to be claimed by this address';\r\n\r\n      if (String(message) === String('Already a member')) {\r\n        setDialogContent(\r\n          <>\r\n            <DialogAdditionalActionNeeded\r\n              actionLabel=\"Connect\"\r\n              subtitle=\"Connect to SkillWallet account to see your community\"\r\n              message={message}\r\n              handleAdditionalAction={() => handleAdditionalAction(JoinSkillWalletErrors.AlreadyMember)}\r\n              onCancel={handleClose}\r\n            />\r\n          </>\r\n        );\r\n      } else if (String(message) === String('There is SkillWallet already registered for this address')) {\r\n        setDialogContent(\r\n          <>\r\n            <DialogAdditionalActionNeeded\r\n              actionLabel=\"Generate QR code\"\r\n              subtitle=\"If you have not activated you skillwallet account then you can do so by clicking generate QR Code\"\r\n              message={message}\r\n              handleAdditionalAction={() => handleAdditionalAction(JoinSkillWalletErrors.SkillWalletNotActivated)}\r\n              onCancel={handleClose}\r\n            />\r\n          </>\r\n        );\r\n      } else if (String(message) === String('There is SkillWallet to be claimed by this address')) {\r\n        setDialogContent(\r\n          <>\r\n            <DialogAdditionalActionNeeded\r\n              actionLabel=\"Claim\"\r\n              subtitle=\"You are already a member of this community, but you have not claimed it yet!\"\r\n              message={message}\r\n              handleAdditionalAction={() => handleAdditionalAction(JoinSkillWalletErrors.SkillWalletNotClaimed)}\r\n              onCancel={handleClose}\r\n            />\r\n          </>\r\n        );\r\n      } else if (String(message) === String('No free spots left')) {\r\n        setDialogContent(\r\n          <>\r\n            <DialogErrorMessage subtitle=\"Select another community and try again!\" message={message} onCancel={handleClose} />\r\n          </>\r\n        );\r\n      } else {\r\n        setDialogContent(\r\n          <>\r\n            <DialogAdditionalActionNeeded\r\n              actionLabel=\"Retry\"\r\n              subtitle=\"retry again\"\r\n              message={message}\r\n              handleAdditionalAction={() => handleAdditionalAction(JoinSkillWalletErrors.Retry)}\r\n              onCancel={handleClose}\r\n            />\r\n          </>\r\n        );\r\n      }\r\n\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const onClaimMembership = async (communityAddress: string, hasJoinedCommunity: boolean) => {\r\n    if (!communityAddress || !hasJoinedCommunity) {\r\n      return null;\r\n    }\r\n    setDialogContent(\r\n      <DialogLoadingMessage\r\n        subtitle=\"This might take awhile, please be patient\"\r\n        message=\"Executing claim membership smart contract ...\"\r\n        onCancel={handleClose}\r\n      />\r\n    );\r\n    try {\r\n      return await claimCommunityMembershipContract(communityAddress);\r\n    } catch (error) {\r\n      const message = ParseSWErrorMessage(error.data.message.payload as string);\r\n\r\n      if (String(message) === String('There is SkillWallet already registered for this address')) {\r\n        setDialogContent(\r\n          <>\r\n            <DialogAdditionalActionNeeded\r\n              actionLabel=\"Connect\"\r\n              subtitle=\"Connect to SkillWallet account to see your community\"\r\n              message={message}\r\n              handleAdditionalAction={() => handleAdditionalAction(ClaimSkillWalletErrors.AlreadyClaimed)}\r\n              onCancel={handleClose}\r\n            />\r\n          </>\r\n        );\r\n      } else {\r\n        setDialogContent(\r\n          <>\r\n            <DialogAdditionalActionNeeded\r\n              actionLabel=\"Retry\"\r\n              subtitle={null}\r\n              message={message}\r\n              handleAdditionalAction={() => handleAdditionalAction(ClaimSkillWalletErrors.Retry)}\r\n              onCancel={handleClose}\r\n            />\r\n          </>\r\n        );\r\n      }\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const onGetTokenId = async (communityAddress: string) => {\r\n    if (!communityAddress) {\r\n      return null;\r\n    }\r\n    setDialogContent(\r\n      <DialogLoadingMessage\r\n        subtitle=\"This might take awhile, please be patient\"\r\n        message=\"Getting your skillwallet metadata ...\"\r\n        onCancel={handleClose}\r\n      />\r\n    );\r\n    try {\r\n      return await getTokenIdContract(communityAddress);\r\n    } catch (error) {\r\n      const message = ParseSWErrorMessage(error.data.message.payload as string);\r\n      setDialogContent(\r\n        <>\r\n          <DialogAdditionalActionNeeded\r\n            actionLabel=\"Retry\"\r\n            subtitle={null}\r\n            message={message}\r\n            handleAdditionalAction={() => handleAdditionalAction(ClaimSkillWalletErrors.Retry)}\r\n            onCancel={handleClose}\r\n          />\r\n        </>\r\n      );\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const onQRCodeGenerate = async (tokenId: string) => {\r\n    if (!tokenId) {\r\n      return null;\r\n    }\r\n    setDialogContent(\r\n      <DialogLoadingMessage subtitle=\"This might take awhile, please be patient\" message=\"Generating QR code ...\" onCancel={handleClose} />\r\n    );\r\n\r\n    const nonce = await generateNonce(NonceActions.Activate, tokenId);\r\n\r\n    if (!nonce) {\r\n      setDialogContent(\r\n        <>\r\n          <DialogAdditionalActionNeeded\r\n            actionLabel=\"Retry\"\r\n            subtitle={null}\r\n            message=\"QR code was not generated successfully!\"\r\n            handleAdditionalAction={() => handleAdditionalAction(SkillWalletNonceErrors.Retry)}\r\n            onCancel={handleClose}\r\n          />\r\n        </>\r\n      );\r\n    } else {\r\n      setDialogContent(\r\n        <>\r\n          <Box sx={{ display: 'flex', mt: 2, p: 2, bgcolor: 'white' }}>\r\n            <QRCode\r\n              value={JSON.stringify({\r\n                tokenId,\r\n                nonce,\r\n              })}\r\n              logoWidth={140}\r\n              logoHeight={140}\r\n              bgColor=\"white\"\r\n              size={205}\r\n            />\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              px: 2,\r\n              bgcolor: 'white',\r\n              width: '230px',\r\n              height: '60px',\r\n              marginTop: '14px',\r\n            }}\r\n          >\r\n            <Typography sx={{ color: 'black', textAlign: 'center' }} component=\"div\" variant=\"body1\">\r\n              Scan with your <b>SkillWallet App</b> <br />\r\n              to claim your Membership\r\n            </Typography>\r\n          </Box>\r\n          <SwButton color=\"error\" onClick={handleClose} sx={{ mt: 4 }} label=\"Cancel\" />\r\n        </>\r\n      );\r\n    }\r\n\r\n    return nonce;\r\n  };\r\n\r\n  const onAuthenticate = async (nonce: string, tokenId: string) => {\r\n    if (!nonce || !tokenId) {\r\n      return false;\r\n    }\r\n\r\n    setDialogContent(\r\n      <DialogLoadingMessage subtitle=\"This might take awhile, please be patient\" message=\"Authenticating ....\" onCancel={handleClose} />\r\n    );\r\n\r\n    try {\r\n      const fn = () => hasPendingAuthentication(window.ethereum.selectedAddress);\r\n      const condition = ({ hasPendingAuth }) => !hasPendingAuth;\r\n      const { hasPendingAuth } = await asyncPoll<{ hasPendingAuth: boolean }>(fn, condition);\r\n      return hasPendingAuth;\r\n    } catch (error) {\r\n      setDialogContent(\r\n        <>\r\n          <DialogAdditionalActionNeeded\r\n            actionLabel=\"Retry\"\r\n            subtitle=\"Something went wrong\"\r\n            message=\"Authentication was unsuccessful\"\r\n            handleAdditionalAction={() => handleAdditionalAction(SkillWalletAuthenticationErrors.Retry)}\r\n            onCancel={handleClose}\r\n          />\r\n        </>\r\n      );\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  return {\r\n    onEthConnection,\r\n    onEthNetworkChange,\r\n    onTextileBucket,\r\n    onJoinMembership,\r\n    onClaimMembership,\r\n    onQRCodeGenerate,\r\n    onAuthenticate,\r\n    onGetTokenId,\r\n  };\r\n};\r\n","import { Dialog, DialogContent } from '@mui/material';\r\n\r\nexport const ClaimMembershipDialog = ({ open, handleClose, dialogContent, fullScreen = false }: any) => {\r\n  const dialogSize = fullScreen\r\n    ? {}\r\n    : {\r\n        minWidth: '400px',\r\n        minHeight: '400px',\r\n      };\r\n  return (\r\n    <Dialog open={open} onClose={handleClose} fullScreen={fullScreen}>\r\n      <DialogContent\r\n        sx={{\r\n          ...dialogSize,\r\n          bgcolor: 'primary.main',\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          flexDirection: 'column',\r\n        }}\r\n      >\r\n        {dialogContent}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n","import { Badge, Box, styled, ThemeOptions, Tooltip, Typography, useMediaQuery } from '@mui/material';\nimport { SwQuote, TokenomicsSvg, DitoCreditsSvg } from 'sw-web-shared';\nimport HelpIcon from '@mui/icons-material/Help';\nimport './community-credits.scss';\n\nimport LinearProgress, { linearProgressClasses } from '@mui/material/LinearProgress';\n\nconst NoBorderLinearProgress = styled(LinearProgress)(({ theme }) => ({\n  height: '15px',\n  borderRadius: 0,\n  border: `1px solid ${theme.palette.background.paper}`,\n  [`&.${linearProgressClasses.colorPrimary}`]: {\n    backgroundColor: theme.palette.background.paper,\n  },\n  [`& .${linearProgressClasses.bar}`]: {\n    borderRadius: 0,\n    backgroundColor: theme.palette.primary.main,\n  },\n}));\n\nfunction CommunityCredits({ totalCredits, creditSkills }) {\n  const small = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.down('sm'));\n  return (\n    <Box className=\"sw-community-credits\">\n      <Typography sx={{ color: 'background.paper', textAlign: 'center', mb: 2 }} component=\"div\" variant=\"h6\">\n        DITO credits you will earn with your skills\n      </Typography>\n      <SwQuote mobile={small} mobileStartText={<p>Credits...</p>}>\n        <>\n          <Badge\n            sx={{ paddingLeft: '15px' }}\n            badgeContent={\n              <Tooltip title={<>{Number(totalCredits) - 2000} (skill credits) + 2000 (base credits)</>} arrow>\n                <HelpIcon\n                  sx={{\n                    borderRadius: '50%',\n                    fontSize: '1.2rem',\n                    position: 'absolute',\n                  }}\n                />\n              </Tooltip>\n            }\n          >\n            <Typography sx={{ color: 'background.paper', textAlign: 'start', mb: 2 }} component=\"div\" variant=\"h6\">\n              Total credits: {totalCredits}\n            </Typography>\n          </Badge>\n          {creditSkills.map(({ percentage, name, credits }, index) => {\n            return (\n              <div key={index} className=\"sw-credit-widget\">\n                <div className=\"credit-content\">\n                  <div className=\"credit-label\">\n                    <TokenomicsSvg width=\"14px\" />\n                    <Typography sx={{ color: 'background.paper', textAlign: 'start', ml: 1 }} component=\"div\" variant=\"body2\">\n                      {name}\n                    </Typography>\n                  </div>\n                  <div className=\"sw-progress-bar\">\n                    <NoBorderLinearProgress variant=\"determinate\" value={percentage} />\n                    <Typography\n                      className=\"sw-progress-bar-label\"\n                      sx={{ color: 'secondary.main', textAlign: 'center' }}\n                      component=\"span\"\n                      variant=\"body2\"\n                    >\n                      {percentage}%\n                    </Typography>\n                  </div>\n                </div>\n                <div className=\"credit-amount\">\n                  <Typography sx={{ color: 'background.paper', textAlign: 'start', mr: 1 }} component=\"div\" variant=\"body2\">\n                    {credits}\n                  </Typography>\n                  <DitoCreditsSvg width=\"14px\" />\n                </div>\n              </div>\n            );\n          })}\n        </>\n      </SwQuote>\n    </Box>\n  );\n}\n\nexport default CommunityCredits;\n","import { ResultState } from '@dito-store/status';\nimport { RootState, useAppDispatch } from '@dito-store/store';\nimport { getSkillWalletDescription } from '@dito-api/skillwallet.api';\nimport { TextileBucketMetadata } from 'src/api/model';\nimport NavigateBeforeIcon from '@mui/icons-material/NavigateBefore';\nimport NavigateNextIcon from '@mui/icons-material/NavigateNext';\nimport { Box, ThemeOptions, Typography } from '@mui/material';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { DitoLogoSvg, SwButton } from 'sw-web-shared';\n\nimport JoinBaseLayout from '../base/join-base';\nimport {\n  ClaimSkillWalletErrors,\n  CommunityCategory,\n  EhereumNetworkErrors,\n  JoinSkillWalletErrors,\n  SkillWalletAuthenticationErrors,\n  SkillWalletNonceErrors,\n  TextileStorageErrors,\n} from '../store/model';\nimport './communities.scss';\nimport { fetchCommunities, getCommunity, getCredits, getFormattedSkills, getSkillCredits, selectCommunity } from '../store/join.reducer';\nimport CommunityCard from './community-card';\nimport { OnClaimMembershipHandlers } from './claim-membership-handlers';\nimport { ClaimMembershipDialog } from './claim-membership-dialog';\nimport CommunityCredits from './community-credits';\n\nconst hardcodedTokenId = '2456546';\n\nconst Communities = () => {\n  const dispatch = useAppDispatch();\n\n  // responsiveness\n  const largeDevice = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.up('lg'));\n  const small = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.down('md'));\n  const extraSmall = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.down('sm'));\n\n  // selectors\n  const { isAutheticated } = useSelector((state: RootState) => state.auth);\n  const { selectedCategory } = useSelector((state: RootState) => state.joinCommunity.category);\n  const { selectedSkills } = useSelector((state: RootState) => state.joinCommunity.skills);\n  const userInfo = useSelector((state: RootState) => state.joinCommunity.userInfo);\n  const { entities, status, selectedCommunityName } = useSelector((state: RootState) => state.joinCommunity.community);\n  const selectedCommunity = useSelector(getCommunity);\n  const formattedSkills = useSelector(getFormattedSkills);\n  const credits = useSelector(getCredits);\n  const creditSkills = useSelector(getSkillCredits);\n\n  // function/local state\n  const [open, setOpen] = useState(false);\n  const [dialogContent, setDialogContent] = useState(null);\n  const [tokenId, setTokenId] = useState(null);\n  const [nonce, setNonce] = useState(null);\n\n  const handleClose = () => {\n    setOpen(false);\n    setNonce(null);\n    setTokenId(null);\n    setDialogContent(null);\n  };\n\n  const claimMembership = async () => {\n    const description = await getSkillWalletDescription();\n    const metadataJson: TextileBucketMetadata = {\n      name: `${userInfo?.name}'s SkillWallet`,\n      description,\n      image: userInfo?.avatar,\n      properties: {\n        username: userInfo?.name,\n        skills: formattedSkills,\n      },\n    };\n    setOpen(true);\n    const {\n      onEthConnection,\n      onEthNetworkChange,\n      onGetTokenId,\n      onTextileBucket,\n      onJoinMembership,\n      onClaimMembership,\n      onQRCodeGenerate,\n      onAuthenticate,\n    } = OnClaimMembershipHandlers(setDialogContent, handleClose, async (message: string) => {\n      if (JoinSkillWalletErrors.AlreadyMember === message) {\n        // call connect once implemented in skillwallet auth the ability to call connect programatically\n        handleClose();\n      } else if (\n        JoinSkillWalletErrors.SkillWalletNotActivated === message ||\n        ClaimSkillWalletErrors.AlreadyClaimed === message ||\n        SkillWalletNonceErrors.Retry === message\n      ) {\n        setTokenId(await onGetTokenId(selectedCommunity.address));\n        setNonce(await onQRCodeGenerate(hardcodedTokenId));\n        await onAuthenticate(nonce, tokenId);\n      } else if (JoinSkillWalletErrors.SkillWalletNotClaimed === message || ClaimSkillWalletErrors.Retry === message) {\n        const hasJoinedCommunity = true;\n        await onClaimMembership(selectedCommunity.address, hasJoinedCommunity);\n        setTokenId(await onGetTokenId(selectedCommunity.address));\n        setNonce(await onQRCodeGenerate(tokenId));\n        await onAuthenticate(nonce, tokenId);\n      } else if (SkillWalletAuthenticationErrors.Retry) {\n        await onAuthenticate(nonce, tokenId);\n      } else if (\n        JoinSkillWalletErrors.Retry === message ||\n        EhereumNetworkErrors.Retry === message ||\n        TextileStorageErrors.Retry === message\n      ) {\n        setNonce(null);\n        setTokenId(null);\n        setDialogContent(null);\n        claimMembership();\n      }\n    });\n\n    /*\n        Step 1 - Connect to ethereum / metamask\n    */\n    const isConnected = await onEthConnection();\n    console.log('IsConnected: ', isConnected);\n\n    /*\n        Step 2 - Change to correct ethereum network\n    */\n    const isCorrectNetwork = await onEthNetworkChange(isConnected);\n    console.log('IsCorrectNetwork: ', isConnected);\n\n    /*\n        Step 3 - Store image & join community flow metadata to textile bucket\n    */\n    const bucketUrl = await onTextileBucket(isCorrectNetwork, metadataJson);\n    console.log('BucketUrl: ', bucketUrl);\n\n    /*\n        Step 4 - Execute join membership smart contract\n    */\n    const member = await onJoinMembership(bucketUrl, selectedCommunity.address, credits);\n    setTokenId(member?.tokenId);\n    console.log('Member: ', member);\n\n    /*\n        Step 5 - Execute claim membership smart contract\n    */\n    await onClaimMembership(selectedCommunity.address, !!member);\n\n    /*\n        Step 6 - Generate nonce & show qr code\n    */\n    setNonce(await onQRCodeGenerate(tokenId));\n    console.log('Nonce: ', nonce);\n\n    /*\n        Step 7 - Poll until skillwallet is authenticated\n    */\n    const isAuthenticated = await onAuthenticate(nonce, tokenId);\n    console.log('IsAuthenticated: ', isAuthenticated);\n\n    /*\n        Step 8 - Go to success screen\n    */\n    // TODO: Implement success navigation\n  };\n\n  useEffect(() => {\n    if (selectedSkills.length && selectedCategory) {\n      dispatch(fetchCommunities(selectedCategory));\n    }\n  }, [dispatch, selectedCategory, selectedSkills]);\n\n  useEffect(() => {\n    if (isAutheticated) {\n      handleClose();\n    }\n  }, [dispatch, isAutheticated]);\n\n  return (\n    <>\n      <ClaimMembershipDialog fullScreen={extraSmall} open={open} onClose={() => setOpen(false)} dialogContent={dialogContent} />\n      <JoinBaseLayout\n        status={status}\n        className=\"sw-communities-container\"\n        left={\n          <>\n            <Box className=\"sw-box-logo\">\n              <DitoLogoSvg width={largeDevice ? '100px' : '80px'} />\n            </Box>\n            <CommunityCredits totalCredits={credits} creditSkills={creditSkills} />\n          </>\n        }\n        right={\n          <div className=\"sw-communties-wrapper\">\n            <Typography sx={{ color: 'background.paper', textAlign: 'center', pb: 2 }} component=\"div\" variant=\"h6\">\n              Here is a few comminities for you (Based on your Skills). Choose one that inspires you the most & start adding Value to it\n            </Typography>\n            {selectedCategory && selectedSkills.length ? (\n              !entities?.length ? (\n                <Typography sx={{ color: 'background.paper', textAlign: 'center', pb: 2, mt: 4 }} component=\"div\" variant=\"h6\">\n                  We could not find any communities for {selectedCategory} category, please go back and select a different category!\n                </Typography>\n              ) : (\n                entities.map((community: CommunityCategory, index) => (\n                  <CommunityCard\n                    onSelect={(name) => dispatch(selectCommunity(name))}\n                    selectedCommunityName={selectedCommunityName}\n                    community={community}\n                    key={`community-${index}`}\n                  />\n                ))\n              )\n            ) : (\n              <Typography\n                className=\"no-item-selected\"\n                sx={{ color: 'background.paper', textAlign: 'center', pb: 2 }}\n                component=\"div\"\n                variant=\"h6\"\n              >\n                No skills were selected, go back and select some skills before selecting a community\n              </Typography>\n            )}\n          </div>\n        }\n        prevBtn={<SwButton startIcon={<NavigateBeforeIcon />} component={Link} to=\"/join-community/skills\" label=\"Prev\" />}\n        nextBtn={\n          <SwButton\n            disabled={selectedCommunityName === null || status === ResultState.Loading}\n            endIcon={<NavigateNextIcon />}\n            onClick={() => claimMembership()}\n            to=\"/join-community/Community\"\n            label={small ? 'Next' : 'Next: Claim your membership'}\n          />\n        }\n      />\n    </>\n  );\n};\n\nexport default Communities;\n","import NavigateNextIcon from '@mui/icons-material/NavigateNext';\r\nimport { Box, TextField, ThemeOptions, Typography } from '@mui/material';\r\nimport { RootState } from '@dito-store/store';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { DitoLogoSvg, SwButton, SwQuote, SwUploadFile } from 'sw-web-shared';\r\n\r\nimport { toBase64 } from '@dito-utils/to-base-64';\r\nimport { ResultState } from '@dito-store/status';\r\nimport { useEffect, useMemo } from 'react';\r\nimport debounce from 'lodash.debounce';\r\nimport JoinBaseLayout from '../base/join-base';\r\n\r\nimport './user-info.scss';\r\n\r\nimport { updateAvatarUrl, updateName } from '../store/join.reducer';\r\n\r\nconst UserInfo = () => {\r\n  const largeDevice = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.up('lg'));\r\n  const small = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.down('md'));\r\n\r\n  const dispatch = useDispatch();\r\n  const { name, avatar } = useSelector((state: RootState) => state.joinCommunity.userInfo);\r\n\r\n  const debouncedChangeHandler = useMemo(() => {\r\n    const changeHandler = (e) => {\r\n      dispatch(updateName(e.target.value));\r\n    };\r\n    return debounce(changeHandler, 300);\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    return () => debouncedChangeHandler.cancel();\r\n  }, [debouncedChangeHandler]);\r\n\r\n  return (\r\n    <JoinBaseLayout\r\n      status={ResultState.Idle}\r\n      className=\"sw-user-info-container\"\r\n      left={\r\n        <>\r\n          <Box className=\"sw-box-logo\">\r\n            <DitoLogoSvg width={largeDevice ? '100px' : '80px'} />\r\n          </Box>\r\n\r\n          <SwQuote mobile={small} mobileStartText={<p>Have you ever thought...</p>}>\r\n            <>\r\n              <p>\r\n                Have you ever thought, <br />\r\n                \"I would like to contribute, but ...\"\r\n              </p>\r\n              <p className=\"mt-4 mb-4\">Distributed Town (DiTo) lets you create or join a community with one click.</p>\r\n\r\n              <p>Just select what you are best at - and we will match with the best communities that need you the most.</p>\r\n            </>\r\n          </SwQuote>\r\n        </>\r\n      }\r\n      right={\r\n        <div className=\"sw-user-info-wrapper\">\r\n          <Typography sx={{ color: 'background.paper', textAlign: 'center', pb: 2 }} component=\"div\" variant=\"h6\">\r\n            Personal information\r\n          </Typography>\r\n\r\n          <div className=\"sw-form-field\">\r\n            <Typography sx={{ color: 'background.paper', mb: 1 }} component=\"div\" variant=\"body1\">\r\n              Nickname\r\n            </Typography>\r\n            <div className=\"sw-form-field-content\">\r\n              <Typography sx={{ color: 'background.paper' }} component=\"div\" variant=\"body2\">\r\n                How would you like your comminity to call you ?\r\n              </Typography>\r\n              <TextField\r\n                autoFocus\r\n                defaultValue={name}\r\n                inputProps={{ maxLength: 20 }}\r\n                onChange={debouncedChangeHandler}\r\n                helperText={\r\n                  <Typography sx={{ color: 'secondary.main' }} component=\"span\" variant=\"body2\">\r\n                    Max characters 20\r\n                  </Typography>\r\n                }\r\n                variant=\"standard\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"sw-form-field\">\r\n            <Typography sx={{ color: 'background.paper', mb: 1 }} component=\"div\" variant=\"body1\">\r\n              Avatar\r\n            </Typography>\r\n            <div className=\"sw-form-field-content sw-image-upload\">\r\n              <Typography sx={{ color: 'background.paper' }} component=\"div\" variant=\"body2\">\r\n                A public image - that's how others will see you.\r\n              </Typography>\r\n              <SwUploadFile\r\n                initialPreviewUrl={avatar}\r\n                fileChange={async (file: File) => {\r\n                  if (file) {\r\n                    const base64 = await toBase64(file);\r\n                    dispatch(updateAvatarUrl(base64));\r\n                  } else {\r\n                    dispatch(updateAvatarUrl(null));\r\n                  }\r\n                }}\r\n                sx={{\r\n                  width: '60px',\r\n                  height: '60px',\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n      prevBtn={null}\r\n      nextBtn={\r\n        <SwButton\r\n          endIcon={<NavigateNextIcon />}\r\n          component={Link}\r\n          to=\"/join-community/categories\"\r\n          disabled={!name || !avatar}\r\n          label={small ? 'Next' : 'Next: Pick your category'}\r\n        />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default UserInfo;\r\n","import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Route } from 'react-router-dom';\n\nimport Categories from './categories/categories';\nimport Skills from './skills/skills';\nimport { resetJoinCommunityState } from './store/join.reducer';\nimport './join.scss';\nimport Communities from './communities/communities';\nimport UserInfo from './user-info/user-info';\n\nconst Join = (props) => {\n  const dispatch = useDispatch();\n  useEffect(\n    () => () => {\n      console.log('success');\n      dispatch(resetJoinCommunityState());\n    },\n    [dispatch]\n  );\n  return (\n    <div className=\"sw-join-community-container\">\n      <Route path=\"/join-community/user-info\" component={UserInfo} {...props} />\n      <Route path=\"/join-community/categories\" component={Categories} {...props} />\n      <Route path=\"/join-community/skills\" component={Skills} {...props} />\n      <Route path=\"/join-community/communities\" component={Communities} {...props} />\n    </div>\n  );\n};\n\nexport default Join;\n","import HelpIcon from '@mui/icons-material/Help';\nimport { Badge, Box, ThemeOptions, Tooltip, Typography } from '@mui/material';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport { Link } from 'react-router-dom';\nimport { DitoLogoSvg, SwButton, SwDivider, SwQuote } from 'sw-web-shared';\nimport './get-started.scss';\n\nconst GetStarted = () => {\n  const largeDevice = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.up('lg'));\n  const small = useMediaQuery((theme: ThemeOptions) => theme.breakpoints.down('md'));\n\n  return (\n    <div className=\"sw-get-started-container\">\n      <Box sx={{ p: 0, m: 0 }} className=\"sw-box\">\n        <Box className=\"sw-box-logo\">\n          <DitoLogoSvg width={largeDevice ? '100px' : '80px'} />\n        </Box>\n\n        <SwQuote mobile={small} mobileStartText={<p>is a new financial...</p>}>\n          <>\n            <p>\n              <strong>Distributed Town</strong> is a new financial infrastructure for public goods, designed for the real world.\n            </p>\n            <p>\n              It’s built upon mutual, collaborative economics between individuals and communities - and a universal identity management\n              based on skills, rather than personal data.\n            </p>\n          </>\n        </SwQuote>\n      </Box>\n      <SwDivider orientation={largeDevice ? 'vertical' : 'horizontal'} />\n      <Box sx={{ p: 0, m: 0 }} className=\"sw-box\">\n        <Box className=\"sw-box-title\">\n          <Typography color=\"text.primary\" component=\"div\" variant={largeDevice ? 'h4' : 'h5'}>\n            This is <span className=\"underline\">your Community</span>\n          </Typography>\n        </Box>\n        <Box className=\"sw-box-actions\">\n          <SwButton label=\"Join a community\" component={Link} to=\"/join-community/user-info\" />\n          <Badge\n            badgeContent={\n              <Tooltip title=\"Coming soon!\" arrow>\n                <HelpIcon\n                  sx={{\n                    bgcolor: 'text.primary',\n                    borderRadius: '50%',\n                    fontSize: '1.2rem',\n                    position: 'absolute',\n                  }}\n                />\n              </Tooltip>\n            }\n          >\n            <SwButton disabled label=\"Create\" component={Link} to=\"/community/create\" />\n          </Badge>\n        </Box>\n      </Box>\n    </div>\n  );\n};\n\nexport default GetStarted;\n","import React, { useEffect, useState } from 'react';\n\nimport './App.scss';\nimport SvgIcon from '@mui/material/SvgIcon';\nimport { defineCustomElements } from '@skill-wallet/auth/loader';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport { withRouter, Route } from 'react-router-dom';\nimport { SwLayout, MainBackgroundSvg, JoinSelSvg, SwSidebar, DitoLogoSvg } from 'sw-web-shared';\n\nimport { useSelector } from 'react-redux';\nimport { RootState, useAppDispatch } from '@dito-store/store';\nimport Community from './pages/community/community';\nimport Join from './pages/community/join/join';\nimport GetStarted from './pages/get-started/get-started';\nimport { resetAuthState, setAuthenticated } from './auth/auth.reducer';\n\nconst svgString = encodeURIComponent(renderToStaticMarkup(<MainBackgroundSvg />));\n\nfunction Home() {\n  return <h2 style={{ color: 'white' }}>Test</h2>;\n}\n\nconst LoadingMessage = () => (\n  <div className=\"app-loading\">\n    <DitoLogoSvg width=\"80\" height=\"80\" />\n  </div>\n);\n\nconst PrivateRoutes: React.FC = (props: any) => {\n  const { path } = props.match;\n  return (\n    <>\n      <Route path={`${path}/community`} component={Community} {...props} />\n      <Route path={`${path}/notifications`} component={Home} {...props} />\n    </>\n  );\n};\n\nconst AuthRoutes: React.FC = ({ ...props }: any) => (\n  <>\n    <Route exact component={GetStarted} path=\"/\" {...props} />\n    <Route component={Join} path=\"/join-community\" {...props} />\n  </>\n);\n\nconst App = (props: any) => {\n  const dispatch = useAppDispatch();\n  const [isLoading, setLoading] = useState(true);\n\n  const { isAutheticated } = useSelector((state: RootState) => state.auth);\n\n  useEffect(() => {\n    const onSWLogin = async () => {\n      setLoading(false);\n      dispatch(setAuthenticated(true));\n    };\n    defineCustomElements(window);\n    window.addEventListener('onSkillwalletLogin', onSWLogin);\n\n    // temporary\n    const timeout = setTimeout(() => {\n      if (!isAutheticated) {\n        setLoading(false);\n      }\n    }, 2000);\n\n    return () => {\n      clearTimeout(timeout);\n      window.removeEventListener('onSkillwalletLogin', onSWLogin);\n    };\n  }, [isAutheticated, dispatch]);\n\n  const menuItems: any[] = [\n    {\n      type: 'href',\n      label: 'SkillWallet',\n      href: '/community/skillwallet',\n      icon: <SvgIcon component={JoinSelSvg} />,\n    },\n    {\n      type: 'href',\n      label: 'dTown Hall',\n      href: '/community/dTown-hall',\n      icon: <SvgIcon component={JoinSelSvg} />,\n    },\n    {\n      type: 'href',\n      label: 'Notifications',\n      href: '/community/notifications',\n      icon: <SvgIcon component={JoinSelSvg} />,\n    },\n    {\n      type: 'href',\n      label: 'Settings',\n      href: '/community/settings',\n      icon: <SvgIcon component={JoinSelSvg} />,\n    },\n    {\n      type: 'divider',\n    },\n    {\n      label: 'Log off',\n      type: 'button',\n      onClick: () => {\n        localStorage.removeItem('skillWallet');\n        dispatch(resetAuthState());\n        props.history.push('/');\n        window.location.reload();\n      },\n      icon: <SvgIcon component={JoinSelSvg} />,\n    },\n  ];\n\n  return (\n    <SwLayout\n      className={isLoading ? 'loading' : ''}\n      top={\n        <div\n          className=\"wallet-btn\"\n          style={{\n            visibility: isLoading ? 'hidden' : 'visible',\n          }}\n        >\n          {/* @ts-ignore */}\n          <skillwallet-auth allowCreateNewUser={false} id=\"walletButton\" />\n        </div>\n      }\n      backgroundUrl={`url('data:image/svg+xml;utf8, ${svgString}')`}\n      drawer={isAutheticated && <SwSidebar sidebarTop={<DitoLogoSvg width=\"100\" height=\"100\" />} open menuItems={menuItems} />}\n    >\n      {isLoading ? <LoadingMessage /> : isAutheticated ? <PrivateRoutes {...props} /> : <AuthRoutes {...props} />}\n    </SwLayout>\n  );\n};\n\nexport default withRouter(App);\n","/* eslint-disable import/no-extraneous-dependencies */\nimport { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './index.css';\nimport { createTheme, StyledEngineProvider, ThemeOptions, ThemeProvider } from '@mui/material/styles';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport { persistStore } from 'redux-persist';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './store/store';\n\nconst persistor = persistStore(store);\n\nconst theme = createTheme({\n  components: {\n    MuiUseMediaQuery: {\n      defaultProps: {\n        noSsr: true,\n      },\n    },\n    MuiDialogContent: {\n      styleOverrides: {\n        root: {\n          borderStyle: 'solid',\n          borderWidth: '1px',\n          borderColor: 'text.primary',\n        },\n      },\n    },\n  },\n  breakpoints: {\n    values: {\n      xs: 0,\n      sm: 600,\n      md: 960,\n      lg: 1280,\n      xl: 1920,\n    },\n  },\n  palette: {\n    type: 'dark',\n    text: {\n      primary: '#fff',\n      // secondary: \"rgba(255, 255, 255, 0.7)\",\n    },\n    primary: {\n      main: '#161615',\n    },\n    secondary: {\n      main: '#D8D8D8',\n    },\n    // background: {\n    //   default: \"#161615\",\n    //   paper: \"#D8D8D8\",\n    // },\n  },\n  shape: {\n    borderRadius: 0,\n  },\n  typography: {\n    fontFamily: ['Josefin Sans', ' sans-serif'].join(','),\n  },\n} as ThemeOptions);\n\nReactDOM.render(\n  <StyledEngineProvider injectFirst>\n    <ThemeProvider theme={theme}>\n      <Router basename=\"/distributed-town-web\">\n        <Provider store={store}>\n          <PersistGate persistor={persistor}>\n            <App />\n          </PersistGate>\n        </Provider>\n      </Router>\n    </ThemeProvider>\n  </StyledEngineProvider>,\n  document.getElementById('root')\n);\n\n// // If you want to start measuring performance in your app, pass a function\n// // to log results (for example: reportWebVitals(console.log))\n// // or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}